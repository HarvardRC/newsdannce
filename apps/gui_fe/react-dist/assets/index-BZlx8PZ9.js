const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./browserAll-CvgmFvPJ.js","./webworkerAll-DKiVqvdK.js","./colorToUniform-IqIjrxmo.js","./WebGPURenderer-BF1J54IG.js","./SharedSystems-z5HXgsml.js","./WebGLRenderer-CN6OxYvs.js"])))=>i.map(i=>d[i]);
var p0=t=>{throw TypeError(t)};var Ep=(t,e,r)=>e.has(t)||p0("Cannot "+r);var M=(t,e,r)=>(Ep(t,e,"read from private field"),r?r.call(t):e.get(t)),Se=(t,e,r)=>e.has(t)?p0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ce=(t,e,r,n)=>(Ep(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Fe=(t,e,r)=>(Ep(t,e,"access private method"),r);var pd=(t,e,r,n)=>({set _(s){ce(t,e,s,r)},get _(){return M(t,e,n)}});function d1(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function $u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h1={exports:{}},Sf={},f1={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=Symbol.for("react.element"),AR=Symbol.for("react.portal"),kR=Symbol.for("react.fragment"),TR=Symbol.for("react.strict_mode"),RR=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),jR=Symbol.for("react.context"),NR=Symbol.for("react.forward_ref"),IR=Symbol.for("react.suspense"),OR=Symbol.for("react.memo"),DR=Symbol.for("react.lazy"),m0=Symbol.iterator;function LR(t){return t===null||typeof t!="object"?null:(t=m0&&t[m0]||t["@@iterator"],typeof t=="function"?t:null)}var p1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m1=Object.assign,g1={};function Rl(t,e,r){this.props=t,this.context=e,this.refs=g1,this.updater=r||p1}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y1(){}y1.prototype=Rl.prototype;function rv(t,e,r){this.props=t,this.context=e,this.refs=g1,this.updater=r||p1}var nv=rv.prototype=new y1;nv.constructor=rv;m1(nv,Rl.prototype);nv.isPureReactComponent=!0;var g0=Array.isArray,v1=Object.prototype.hasOwnProperty,sv={current:null},x1={key:!0,ref:!0,__self:!0,__source:!0};function w1(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)v1.call(e,n)&&!x1.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Bu,type:t,key:i,ref:o,props:s,_owner:sv.current}}function FR(t,e){return{$$typeof:Bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bu}function $R(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var y0=/\/+/g;function Pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$R(""+t.key):e.toString(36)}function sh(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bu:case AR:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Pp(o,0):n,g0(s)?(r="",t!=null&&(r=t.replace(y0,"$&/")+"/"),sh(s,e,r,"",function(c){return c})):s!=null&&(iv(s)&&(s=FR(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(y0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",g0(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Pp(i,a);o+=sh(i,e,r,l,s)}else if(l=LR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Pp(i,a++),o+=sh(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function md(t,e,r){if(t==null)return t;var n=[],s=0;return sh(t,n,"","",function(i){return e.call(r,i,s++)}),n}function BR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Or={current:null},ih={transition:null},zR={ReactCurrentDispatcher:Or,ReactCurrentBatchConfig:ih,ReactCurrentOwner:sv};function b1(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:md,forEach:function(t,e,r){md(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return md(t,function(){e++}),e},toArray:function(t){return md(t,function(e){return e})||[]},only:function(t){if(!iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Rl;Ye.Fragment=kR;Ye.Profiler=RR;Ye.PureComponent=rv;Ye.StrictMode=TR;Ye.Suspense=IR;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;Ye.act=b1;Ye.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=m1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v1.call(e,l)&&!x1.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Bu,type:t.type,key:s,ref:i,props:n,_owner:o}};Ye.createContext=function(t){return t={$$typeof:jR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MR,_context:t},t.Consumer=t};Ye.createElement=w1;Ye.createFactory=function(t){var e=w1.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:NR,render:t}};Ye.isValidElement=iv;Ye.lazy=function(t){return{$$typeof:DR,_payload:{_status:-1,_result:t},_init:BR}};Ye.memo=function(t,e){return{$$typeof:OR,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=ih.transition;ih.transition={};try{t()}finally{ih.transition=e}};Ye.unstable_act=b1;Ye.useCallback=function(t,e){return Or.current.useCallback(t,e)};Ye.useContext=function(t){return Or.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Or.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return Or.current.useEffect(t,e)};Ye.useId=function(){return Or.current.useId()};Ye.useImperativeHandle=function(t,e,r){return Or.current.useImperativeHandle(t,e,r)};Ye.useInsertionEffect=function(t,e){return Or.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return Or.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return Or.current.useMemo(t,e)};Ye.useReducer=function(t,e,r){return Or.current.useReducer(t,e,r)};Ye.useRef=function(t){return Or.current.useRef(t)};Ye.useState=function(t){return Or.current.useState(t)};Ye.useSyncExternalStore=function(t,e,r){return Or.current.useSyncExternalStore(t,e,r)};Ye.useTransition=function(){return Or.current.useTransition()};Ye.version="18.3.1";f1.exports=Ye;var p=f1.exports;const W=$u(p),ov=d1({__proto__:null,default:W},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR=p,VR=Symbol.for("react.element"),WR=Symbol.for("react.fragment"),HR=Object.prototype.hasOwnProperty,GR=UR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YR={key:!0,ref:!0,__self:!0,__source:!0};function _1(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)HR.call(e,n)&&!YR.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:VR,type:t,key:i,ref:o,props:s,_owner:GR.current}}Sf.Fragment=WR;Sf.jsx=_1;Sf.jsxs=_1;h1.exports=Sf;var f=h1.exports,S1={exports:{}},hn={},C1={exports:{}},E1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,O){var V=D.length;D.push(O);e:for(;0<V;){var ee=V-1>>>1,N=D[ee];if(0<s(N,O))D[ee]=O,D[V]=N,V=ee;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var O=D[0],V=D.pop();if(V!==O){D[0]=V;e:for(var ee=0,N=D.length,G=N>>>1;ee<G;){var ie=2*(ee+1)-1,te=D[ie],re=ie+1,J=D[re];if(0>s(te,V))re<N&&0>s(J,te)?(D[ee]=J,D[re]=V,ee=re):(D[ee]=te,D[ie]=V,ee=ie);else if(re<N&&0>s(J,V))D[ee]=J,D[re]=V,ee=re;else break e}}return O}function s(D,O){var V=D.sortIndex-O.sortIndex;return V!==0?V:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=D)n(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(c)}}function _(D){if(g=!1,b(D),!y)if(r(l)!==null)y=!0,X(C);else{var O=r(c);O!==null&&Q(_,O.startTime-D)}}function C(D,O){y=!1,g&&(g=!1,x(S),S=-1),m=!0;var V=h;try{for(b(O),d=r(l);d!==null&&(!(d.expirationTime>O)||D&&!U());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var N=ee(d.expirationTime<=O);O=t.unstable_now(),typeof N=="function"?d.callback=N:d===r(l)&&n(l),b(O)}else n(l);d=r(l)}if(d!==null)var G=!0;else{var ie=r(c);ie!==null&&Q(_,ie.startTime-O),G=!1}return G}finally{d=null,h=V,m=!1}}var A=!1,E=null,S=-1,P=5,T=-1;function U(){return!(t.unstable_now()-T<P)}function F(){if(E!==null){var D=t.unstable_now();T=D;var O=!0;try{O=E(!0,D)}finally{O?z():(A=!1,E=null)}}else A=!1}var z;if(typeof v=="function")z=function(){v(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=F,z=function(){Y.postMessage(null)}}else z=function(){w(F,0)};function X(D){E=D,A||(A=!0,z())}function Q(D,O){S=w(function(){D(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,X(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var V=h;h=O;try{return D()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=h;h=D;try{return O()}finally{h=V}},t.unstable_scheduleCallback=function(D,O,V){var ee=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,D){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=V+N,D={id:u++,callback:O,priorityLevel:D,startTime:V,expirationTime:N,sortIndex:-1},V>ee?(D.sortIndex=V,e(c,D),r(l)===null&&D===r(c)&&(g?(x(S),S=-1):g=!0,Q(_,V-ee))):(D.sortIndex=N,e(l,D),y||m||(y=!0,X(C))),D},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(D){var O=h;return function(){var V=h;h=O;try{return D.apply(this,arguments)}finally{h=V}}}})(E1);C1.exports=E1;var XR=C1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR=p,dn=XR;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P1=new Set,Uc={};function ta(t,e){hl(t,e),hl(t+"Capture",e)}function hl(t,e){for(Uc[t]=e,t=0;t<e.length;t++)P1.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,qR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v0={},x0={};function ZR(t){return Jm.call(x0,t)?!0:Jm.call(v0,t)?!1:qR.test(t)?x0[t]=!0:(v0[t]=!0,!1)}function QR(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JR(t,e,r,n){if(e===null||typeof e>"u"||QR(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ur[t]=new Dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ur[e]=new Dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ur[t]=new Dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ur[t]=new Dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ur[t]=new Dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ur[t]=new Dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ur[t]=new Dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ur[t]=new Dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ur[t]=new Dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var av=/[\-:]([a-z])/g;function lv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(av,lv);ur[e]=new Dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(av,lv);ur[e]=new Dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(av,lv);ur[e]=new Dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ur[t]=new Dr(t,1,!1,t.toLowerCase(),null,!1,!1)});ur.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ur[t]=new Dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function cv(t,e,r,n){var s=ur.hasOwnProperty(e)?ur[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JR(e,r,s,n)&&(r=null),n||s===null?ZR(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ks=KR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),ba=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),A1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),dv=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),T1=Symbol.for("react.offscreen"),w0=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,Ap;function hc(t){if(Ap===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ap=e&&e[1]||""}return`
`+Ap+t}var kp=!1;function Tp(t,e){if(!t||kp)return"";kp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hc(t):""}function eM(t){switch(t.tag){case 5:return hc(t.type);case 16:return hc("Lazy");case 13:return hc("Suspense");case 19:return hc("SuspenseList");case 0:case 2:case 15:return t=Tp(t.type,!1),t;case 11:return t=Tp(t.type.render,!1),t;case 1:return t=Tp(t.type,!0),t;default:return""}}function ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case ba:return"Portal";case eg:return"Profiler";case uv:return"StrictMode";case tg:return"Suspense";case rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case A1:return(t._context.displayName||"Context")+".Provider";case dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hv:return e=t.displayName||null,e!==null?e:ng(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return ng(t(e))}catch{}}return null}function tM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(e);case 8:return e===uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rM(t){var e=R1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yd(t){t._valueTracker||(t._valueTracker=rM(t))}function M1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=R1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sg(t,e){var r=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function b0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$i(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j1(t,e){e=e.checked,e!=null&&cv(t,"checked",e,!1)}function ig(t,e){j1(t,e);var r=$i(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?og(t,e.type,r):e.hasOwnProperty("defaultValue")&&og(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function og(t,e,r){(e!=="number"||Sh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fc=Array.isArray;function Fa(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$i(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ag(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(fc(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$i(r)}}function N1(t,e){var r=$i(e.value),n=$i(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function C0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,O1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nM=["Webkit","ms","Moz","O"];Object.keys(Cc).forEach(function(t){nM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cc[e]=Cc[t]})});function D1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Cc.hasOwnProperty(t)&&Cc[t]?(""+e).trim():e+"px"}function L1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=D1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var sM=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(t,e){if(e){if(sM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=null;function fv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hg=null,$a=null,Ba=null;function E0(t){if(t=Vu(t)){if(typeof hg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=kf(e),hg(t.stateNode,t.type,e))}}function F1(t){$a?Ba?Ba.push(t):Ba=[t]:$a=t}function $1(){if($a){var t=$a,e=Ba;if(Ba=$a=null,E0(t),e)for(t=0;t<e.length;t++)E0(e[t])}}function B1(t,e){return t(e)}function z1(){}var Rp=!1;function U1(t,e,r){if(Rp)return t(e,r);Rp=!0;try{return B1(t,e,r)}finally{Rp=!1,($a!==null||Ba!==null)&&(z1(),$1())}}function Wc(t,e){var r=t.stateNode;if(r===null)return null;var n=kf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var fg=!1;if(zs)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){fg=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{fg=!1}function iM(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Ec=!1,Ch=null,Eh=!1,pg=null,oM={onError:function(t){Ec=!0,Ch=t}};function aM(t,e,r,n,s,i,o,a,l){Ec=!1,Ch=null,iM.apply(oM,arguments)}function lM(t,e,r,n,s,i,o,a,l){if(aM.apply(this,arguments),Ec){if(Ec){var c=Ch;Ec=!1,Ch=null}else throw Error(K(198));Eh||(Eh=!0,pg=c)}}function ra(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function V1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P0(t){if(ra(t)!==t)throw Error(K(188))}function cM(t){var e=t.alternate;if(!e){if(e=ra(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return P0(s),t;if(i===n)return P0(s),e;i=i.sibling}throw Error(K(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function W1(t){return t=cM(t),t!==null?H1(t):null}function H1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H1(t);if(e!==null)return e;t=t.sibling}return null}var G1=dn.unstable_scheduleCallback,A0=dn.unstable_cancelCallback,uM=dn.unstable_shouldYield,dM=dn.unstable_requestPaint,Ut=dn.unstable_now,hM=dn.unstable_getCurrentPriorityLevel,pv=dn.unstable_ImmediatePriority,Y1=dn.unstable_UserBlockingPriority,Ph=dn.unstable_NormalPriority,fM=dn.unstable_LowPriority,X1=dn.unstable_IdlePriority,Cf=null,fs=null;function pM(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Cf,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:yM,mM=Math.log,gM=Math.LN2;function yM(t){return t>>>=0,t===0?32:31-(mM(t)/gM|0)|0}var xd=64,wd=4194304;function pc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ah(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=pc(a):(i&=o,i!==0&&(n=pc(i)))}else o=r&~s,o!==0?n=pc(o):i!==0&&(n=pc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Wn(e),s=1<<r,n|=t[r],e&=~s;return n}function vM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Wn(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=vM(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K1(){var t=xd;return xd<<=1,!(xd&4194240)&&(xd=64),t}function Mp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=r}function wM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Wn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function mv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Wn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ft=0;function q1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z1,gv,Q1,J1,eS,gg=!1,bd=[],Ri=null,Mi=null,ji=null,Hc=new Map,Gc=new Map,fi=[],bM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function Kl(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vu(e),e!==null&&gv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _M(t,e,r,n,s){switch(e){case"focusin":return Ri=Kl(Ri,t,e,r,n,s),!0;case"dragenter":return Mi=Kl(Mi,t,e,r,n,s),!0;case"mouseover":return ji=Kl(ji,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Hc.set(i,Kl(Hc.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Gc.set(i,Kl(Gc.get(i)||null,t,e,r,n,s)),!0}return!1}function tS(t){var e=wo(t.target);if(e!==null){var r=ra(e);if(r!==null){if(e=r.tag,e===13){if(e=V1(r),e!==null){t.blockedOn=e,eS(t.priority,function(){Q1(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=yg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);dg=n,r.target.dispatchEvent(n),dg=null}else return e=Vu(r),e!==null&&gv(e),t.blockedOn=r,!1;e.shift()}return!0}function T0(t,e,r){oh(t)&&r.delete(e)}function SM(){gg=!1,Ri!==null&&oh(Ri)&&(Ri=null),Mi!==null&&oh(Mi)&&(Mi=null),ji!==null&&oh(ji)&&(ji=null),Hc.forEach(T0),Gc.forEach(T0)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,gg||(gg=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,SM)))}function Yc(t){function e(s){return ql(s,t)}if(0<bd.length){ql(bd[0],t);for(var r=1;r<bd.length;r++){var n=bd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ri!==null&&ql(Ri,t),Mi!==null&&ql(Mi,t),ji!==null&&ql(ji,t),Hc.forEach(e),Gc.forEach(e),r=0;r<fi.length;r++)n=fi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)tS(r),r.blockedOn===null&&fi.shift()}var za=Ks.ReactCurrentBatchConfig,kh=!0;function CM(t,e,r,n){var s=ft,i=za.transition;za.transition=null;try{ft=1,yv(t,e,r,n)}finally{ft=s,za.transition=i}}function EM(t,e,r,n){var s=ft,i=za.transition;za.transition=null;try{ft=4,yv(t,e,r,n)}finally{ft=s,za.transition=i}}function yv(t,e,r,n){if(kh){var s=yg(t,e,r,n);if(s===null)zp(t,e,n,Th,r),k0(t,n);else if(_M(s,t,e,r,n))n.stopPropagation();else if(k0(t,n),e&4&&-1<bM.indexOf(t)){for(;s!==null;){var i=Vu(s);if(i!==null&&Z1(i),i=yg(t,e,r,n),i===null&&zp(t,e,n,Th,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else zp(t,e,n,null,r)}}var Th=null;function yg(t,e,r,n){if(Th=null,t=fv(n),t=wo(t),t!==null)if(e=ra(t),e===null)t=null;else if(r=e.tag,r===13){if(t=V1(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Th=t,null}function rS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hM()){case pv:return 1;case Y1:return 4;case Ph:case fM:return 16;case X1:return 536870912;default:return 16}default:return 16}}var Pi=null,vv=null,ah=null;function nS(){if(ah)return ah;var t,e=vv,r=e.length,n,s="value"in Pi?Pi.value:Pi.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ah=s.slice(t,1<n?1-n:void 0)}function lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _d(){return!0}function R0(){return!1}function fn(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_d:R0,this.isPropagationStopped=R0,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_d)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_d)},persist:function(){},isPersistent:_d}),e}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xv=fn(Ml),Uu=Nt({},Ml,{view:0,detail:0}),PM=fn(Uu),jp,Np,Zl,Ef=Nt({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zl&&(Zl&&t.type==="mousemove"?(jp=t.screenX-Zl.screenX,Np=t.screenY-Zl.screenY):Np=jp=0,Zl=t),jp)},movementY:function(t){return"movementY"in t?t.movementY:Np}}),M0=fn(Ef),AM=Nt({},Ef,{dataTransfer:0}),kM=fn(AM),TM=Nt({},Uu,{relatedTarget:0}),Ip=fn(TM),RM=Nt({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),MM=fn(RM),jM=Nt({},Ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NM=fn(jM),IM=Nt({},Ml,{data:0}),j0=fn(IM),OM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LM[t])?!!e[t]:!1}function wv(){return FM}var $M=Nt({},Uu,{key:function(t){if(t.key){var e=OM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(t){return t.type==="keypress"?lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BM=fn($M),zM=Nt({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=fn(zM),UM=Nt({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),VM=fn(UM),WM=Nt({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),HM=fn(WM),GM=Nt({},Ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YM=fn(GM),XM=[9,13,27,32],bv=zs&&"CompositionEvent"in window,Pc=null;zs&&"documentMode"in document&&(Pc=document.documentMode);var KM=zs&&"TextEvent"in window&&!Pc,sS=zs&&(!bv||Pc&&8<Pc&&11>=Pc),I0=" ",O0=!1;function iS(t,e){switch(t){case"keyup":return XM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function qM(t,e){switch(t){case"compositionend":return oS(e);case"keypress":return e.which!==32?null:(O0=!0,I0);case"textInput":return t=e.data,t===I0&&O0?null:t;default:return null}}function ZM(t,e){if(Sa)return t==="compositionend"||!bv&&iS(t,e)?(t=nS(),ah=vv=Pi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sS&&e.locale!=="ko"?null:e.data;default:return null}}var QM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QM[t.type]:e==="textarea"}function aS(t,e,r,n){F1(n),e=Rh(e,"onChange"),0<e.length&&(r=new xv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ac=null,Xc=null;function JM(t){vS(t,0)}function Pf(t){var e=Pa(t);if(M1(e))return t}function ej(t,e){if(t==="change")return e}var lS=!1;if(zs){var Op;if(zs){var Dp="oninput"in document;if(!Dp){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),Dp=typeof L0.oninput=="function"}Op=Dp}else Op=!1;lS=Op&&(!document.documentMode||9<document.documentMode)}function F0(){Ac&&(Ac.detachEvent("onpropertychange",cS),Xc=Ac=null)}function cS(t){if(t.propertyName==="value"&&Pf(Xc)){var e=[];aS(e,Xc,t,fv(t)),U1(JM,e)}}function tj(t,e,r){t==="focusin"?(F0(),Ac=e,Xc=r,Ac.attachEvent("onpropertychange",cS)):t==="focusout"&&F0()}function rj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pf(Xc)}function nj(t,e){if(t==="click")return Pf(e)}function sj(t,e){if(t==="input"||t==="change")return Pf(e)}function ij(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:ij;function Kc(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Jm.call(e,s)||!Yn(t[s],e[s]))return!1}return!0}function $0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B0(t,e){var r=$0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$0(r)}}function uS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dS(){for(var t=window,e=Sh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sh(t.document)}return e}function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oj(t){var e=dS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&uS(r.ownerDocument.documentElement,r)){if(n!==null&&_v(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=B0(r,i);var o=B0(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aj=zs&&"documentMode"in document&&11>=document.documentMode,Ca=null,vg=null,kc=null,xg=!1;function z0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xg||Ca==null||Ca!==Sh(n)||(n=Ca,"selectionStart"in n&&_v(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kc&&Kc(kc,n)||(kc=n,n=Rh(vg,"onSelect"),0<n.length&&(e=new xv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ca)))}function Sd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ea={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},Lp={},hS={};zs&&(hS=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Af(t){if(Lp[t])return Lp[t];if(!Ea[t])return t;var e=Ea[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in hS)return Lp[t]=e[r];return t}var fS=Af("animationend"),pS=Af("animationiteration"),mS=Af("animationstart"),gS=Af("transitionend"),yS=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){yS.set(t,e),ta(e,[t])}for(var Fp=0;Fp<U0.length;Fp++){var $p=U0[Fp],lj=$p.toLowerCase(),cj=$p[0].toUpperCase()+$p.slice(1);Zi(lj,"on"+cj)}Zi(fS,"onAnimationEnd");Zi(pS,"onAnimationIteration");Zi(mS,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(gS,"onTransitionEnd");hl("onMouseEnter",["mouseout","mouseover"]);hl("onMouseLeave",["mouseout","mouseover"]);hl("onPointerEnter",["pointerout","pointerover"]);hl("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uj=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function V0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,lM(n,e,void 0,t),t.currentTarget=null}function vS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;V0(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;V0(s,a,c),i=l}}}if(Eh)throw t=pg,Eh=!1,pg=null,t}function _t(t,e){var r=e[Cg];r===void 0&&(r=e[Cg]=new Set);var n=t+"__bubble";r.has(n)||(xS(e,t,2,!1),r.add(n))}function Bp(t,e,r){var n=0;e&&(n|=4),xS(r,t,n,e)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function qc(t){if(!t[Cd]){t[Cd]=!0,P1.forEach(function(r){r!=="selectionchange"&&(uj.has(r)||Bp(r,!1,t),Bp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cd]||(e[Cd]=!0,Bp("selectionchange",!1,e))}}function xS(t,e,r,n){switch(rS(e)){case 1:var s=CM;break;case 4:s=EM;break;default:s=yv}r=s.bind(null,e,r,t),s=void 0,!fg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function zp(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}U1(function(){var c=i,u=fv(r),d=[];e:{var h=yS.get(t);if(h!==void 0){var m=xv,y=t;switch(t){case"keypress":if(lh(r)===0)break e;case"keydown":case"keyup":m=BM;break;case"focusin":y="focus",m=Ip;break;case"focusout":y="blur",m=Ip;break;case"beforeblur":case"afterblur":m=Ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VM;break;case fS:case pS:case mS:m=MM;break;case gS:m=HM;break;case"scroll":m=PM;break;case"wheel":m=YM;break;case"copy":case"cut":case"paste":m=NM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=N0}var g=(e&4)!==0,w=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=Wc(v,x),_!=null&&g.push(Zc(v,_,b)))),w)break;v=v.return}0<g.length&&(h=new m(h,y,null,r,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==dg&&(y=r.relatedTarget||r.fromElement)&&(wo(y)||y[Us]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=c,y=y?wo(y):null,y!==null&&(w=ra(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=M0,_="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=N0,_="onPointerLeave",x="onPointerEnter",v="pointer"),w=m==null?h:Pa(m),b=y==null?h:Pa(y),h=new g(_,v+"leave",m,r,u),h.target=w,h.relatedTarget=b,_=null,wo(u)===c&&(g=new g(x,v+"enter",y,r,u),g.target=b,g.relatedTarget=w,_=g),w=_,m&&y)t:{for(g=m,x=y,v=0,b=g;b;b=la(b))v++;for(b=0,_=x;_;_=la(_))b++;for(;0<v-b;)g=la(g),v--;for(;0<b-v;)x=la(x),b--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=la(g),x=la(x)}g=null}else g=null;m!==null&&W0(d,h,m,g,!1),y!==null&&w!==null&&W0(d,w,y,g,!0)}}e:{if(h=c?Pa(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=ej;else if(D0(h))if(lS)C=sj;else{C=rj;var A=tj}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=nj);if(C&&(C=C(t,c))){aS(d,C,r,u);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&og(h,"number",h.value)}switch(A=c?Pa(c):window,t){case"focusin":(D0(A)||A.contentEditable==="true")&&(Ca=A,vg=c,kc=null);break;case"focusout":kc=vg=Ca=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,z0(d,r,u);break;case"selectionchange":if(aj)break;case"keydown":case"keyup":z0(d,r,u)}var E;if(bv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Sa?iS(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(sS&&r.locale!=="ko"&&(Sa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Sa&&(E=nS()):(Pi=u,vv="value"in Pi?Pi.value:Pi.textContent,Sa=!0)),A=Rh(c,S),0<A.length&&(S=new j0(S,t,null,r,u),d.push({event:S,listeners:A}),E?S.data=E:(E=oS(r),E!==null&&(S.data=E)))),(E=KM?qM(t,r):ZM(t,r))&&(c=Rh(c,"onBeforeInput"),0<c.length&&(u=new j0("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=E))}vS(d,e)})}function Zc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rh(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wc(t,r),i!=null&&n.unshift(Zc(t,i,s)),i=Wc(t,e),i!=null&&n.push(Zc(t,i,s))),t=t.return}return n}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W0(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Wc(r,i),l!=null&&o.unshift(Zc(r,l,a))):s||(l=Wc(r,i),l!=null&&o.push(Zc(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var dj=/\r\n?/g,hj=/\u0000|\uFFFD/g;function H0(t){return(typeof t=="string"?t:""+t).replace(dj,`
`).replace(hj,"")}function Ed(t,e,r){if(e=H0(e),H0(t)!==e&&r)throw Error(K(425))}function Mh(){}var wg=null,bg=null;function _g(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,fj=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,pj=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(t){return G0.resolve(null).then(t).catch(mj)}:Sg;function mj(t){setTimeout(function(){throw t})}function Up(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Yc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Yc(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var jl=Math.random().toString(36).slice(2),us="__reactFiber$"+jl,Qc="__reactProps$"+jl,Us="__reactContainer$"+jl,Cg="__reactEvents$"+jl,gj="__reactListeners$"+jl,yj="__reactHandles$"+jl;function wo(t){var e=t[us];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Us]||r[us]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Y0(t);t!==null;){if(r=t[us])return r;t=Y0(t)}return e}t=r,r=t.parentNode}return null}function Vu(t){return t=t[us]||t[Us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function kf(t){return t[Qc]||null}var Eg=[],Aa=-1;function Qi(t){return{current:t}}function St(t){0>Aa||(t.current=Eg[Aa],Eg[Aa]=null,Aa--)}function vt(t,e){Aa++,Eg[Aa]=t.current,t.current=e}var Bi={},xr=Qi(Bi),Hr=Qi(!1),Oo=Bi;function fl(t,e){var r=t.type.contextTypes;if(!r)return Bi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gr(t){return t=t.childContextTypes,t!=null}function jh(){St(Hr),St(xr)}function X0(t,e,r){if(xr.current!==Bi)throw Error(K(168));vt(xr,e),vt(Hr,r)}function wS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(K(108,tM(t)||"Unknown",s));return Nt({},r,n)}function Nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,Oo=xr.current,vt(xr,t),vt(Hr,Hr.current),!0}function K0(t,e,r){var n=t.stateNode;if(!n)throw Error(K(169));r?(t=wS(t,e,Oo),n.__reactInternalMemoizedMergedChildContext=t,St(Hr),St(xr),vt(xr,t)):St(Hr),vt(Hr,r)}var Ms=null,Tf=!1,Vp=!1;function bS(t){Ms===null?Ms=[t]:Ms.push(t)}function vj(t){Tf=!0,bS(t)}function Ji(){if(!Vp&&Ms!==null){Vp=!0;var t=0,e=ft;try{var r=Ms;for(ft=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ms=null,Tf=!1}catch(s){throw Ms!==null&&(Ms=Ms.slice(t+1)),G1(pv,Ji),s}finally{ft=e,Vp=!1}}return null}var ka=[],Ta=0,Ih=null,Oh=0,xn=[],wn=0,Do=null,Ns=1,Is="";function ho(t,e){ka[Ta++]=Oh,ka[Ta++]=Ih,Ih=t,Oh=e}function _S(t,e,r){xn[wn++]=Ns,xn[wn++]=Is,xn[wn++]=Do,Do=t;var n=Ns;t=Is;var s=32-Wn(n)-1;n&=~(1<<s),r+=1;var i=32-Wn(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ns=1<<32-Wn(e)+s|r<<s|n,Is=i+t}else Ns=1<<i|r<<s|n,Is=t}function Sv(t){t.return!==null&&(ho(t,1),_S(t,1,0))}function Cv(t){for(;t===Ih;)Ih=ka[--Ta],ka[Ta]=null,Oh=ka[--Ta],ka[Ta]=null;for(;t===Do;)Do=xn[--wn],xn[wn]=null,Is=xn[--wn],xn[wn]=null,Ns=xn[--wn],xn[wn]=null}var an=null,on=null,Pt=!1,$n=null;function SS(t,e){var r=_n(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function q0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,on=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Do!==null?{id:Ns,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=_n(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,an=t,on=null,!0):!1;default:return!1}}function Pg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ag(t){if(Pt){var e=on;if(e){var r=e;if(!q0(t,e)){if(Pg(t))throw Error(K(418));e=Ni(r.nextSibling);var n=an;e&&q0(t,e)?SS(n,r):(t.flags=t.flags&-4097|2,Pt=!1,an=t)}}else{if(Pg(t))throw Error(K(418));t.flags=t.flags&-4097|2,Pt=!1,an=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Pd(t){if(t!==an)return!1;if(!Pt)return Z0(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_g(t.type,t.memoizedProps)),e&&(e=on)){if(Pg(t))throw CS(),Error(K(418));for(;e;)SS(t,e),e=Ni(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){on=Ni(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}on=null}}else on=an?Ni(t.stateNode.nextSibling):null;return!0}function CS(){for(var t=on;t;)t=Ni(t.nextSibling)}function pl(){on=an=null,Pt=!1}function Ev(t){$n===null?$n=[t]:$n.push(t)}var xj=Ks.ReactCurrentBatchConfig;function Ql(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function Ad(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q0(t){var e=t._init;return e(t._payload)}function ES(t){function e(x,v){if(t){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function r(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Li(x,v),x.index=0,x.sibling=null,x}function i(x,v,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,b,_){return v===null||v.tag!==6?(v=qp(b,x.mode,_),v.return=x,v):(v=s(v,b),v.return=x,v)}function l(x,v,b,_){var C=b.type;return C===_a?u(x,v,b.props.children,_,b.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===di&&Q0(C)===v.type)?(_=s(v,b.props),_.ref=Ql(x,v,b),_.return=x,_):(_=mh(b.type,b.key,b.props,null,x.mode,_),_.ref=Ql(x,v,b),_.return=x,_)}function c(x,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Zp(b,x.mode,_),v.return=x,v):(v=s(v,b.children||[]),v.return=x,v)}function u(x,v,b,_,C){return v===null||v.tag!==7?(v=No(b,x.mode,_,C),v.return=x,v):(v=s(v,b),v.return=x,v)}function d(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qp(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gd:return b=mh(v.type,v.key,v.props,null,x.mode,b),b.ref=Ql(x,null,v),b.return=x,b;case ba:return v=Zp(v,x.mode,b),v.return=x,v;case di:var _=v._init;return d(x,_(v._payload),b)}if(fc(v)||Yl(v))return v=No(v,x.mode,b,null),v.return=x,v;Ad(x,v)}return null}function h(x,v,b,_){var C=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(x,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gd:return b.key===C?l(x,v,b,_):null;case ba:return b.key===C?c(x,v,b,_):null;case di:return C=b._init,h(x,v,C(b._payload),_)}if(fc(b)||Yl(b))return C!==null?null:u(x,v,b,_,null);Ad(x,b)}return null}function m(x,v,b,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,a(v,x,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gd:return x=x.get(_.key===null?b:_.key)||null,l(v,x,_,C);case ba:return x=x.get(_.key===null?b:_.key)||null,c(v,x,_,C);case di:var A=_._init;return m(x,v,b,A(_._payload),C)}if(fc(_)||Yl(_))return x=x.get(b)||null,u(v,x,_,C,null);Ad(v,_)}return null}function y(x,v,b,_){for(var C=null,A=null,E=v,S=v=0,P=null;E!==null&&S<b.length;S++){E.index>S?(P=E,E=null):P=E.sibling;var T=h(x,E,b[S],_);if(T===null){E===null&&(E=P);break}t&&E&&T.alternate===null&&e(x,E),v=i(T,v,S),A===null?C=T:A.sibling=T,A=T,E=P}if(S===b.length)return r(x,E),Pt&&ho(x,S),C;if(E===null){for(;S<b.length;S++)E=d(x,b[S],_),E!==null&&(v=i(E,v,S),A===null?C=E:A.sibling=E,A=E);return Pt&&ho(x,S),C}for(E=n(x,E);S<b.length;S++)P=m(E,x,S,b[S],_),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?S:P.key),v=i(P,v,S),A===null?C=P:A.sibling=P,A=P);return t&&E.forEach(function(U){return e(x,U)}),Pt&&ho(x,S),C}function g(x,v,b,_){var C=Yl(b);if(typeof C!="function")throw Error(K(150));if(b=C.call(b),b==null)throw Error(K(151));for(var A=C=null,E=v,S=v=0,P=null,T=b.next();E!==null&&!T.done;S++,T=b.next()){E.index>S?(P=E,E=null):P=E.sibling;var U=h(x,E,T.value,_);if(U===null){E===null&&(E=P);break}t&&E&&U.alternate===null&&e(x,E),v=i(U,v,S),A===null?C=U:A.sibling=U,A=U,E=P}if(T.done)return r(x,E),Pt&&ho(x,S),C;if(E===null){for(;!T.done;S++,T=b.next())T=d(x,T.value,_),T!==null&&(v=i(T,v,S),A===null?C=T:A.sibling=T,A=T);return Pt&&ho(x,S),C}for(E=n(x,E);!T.done;S++,T=b.next())T=m(E,x,S,T.value,_),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?S:T.key),v=i(T,v,S),A===null?C=T:A.sibling=T,A=T);return t&&E.forEach(function(F){return e(x,F)}),Pt&&ho(x,S),C}function w(x,v,b,_){if(typeof b=="object"&&b!==null&&b.type===_a&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gd:e:{for(var C=b.key,A=v;A!==null;){if(A.key===C){if(C=b.type,C===_a){if(A.tag===7){r(x,A.sibling),v=s(A,b.props.children),v.return=x,x=v;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===di&&Q0(C)===A.type){r(x,A.sibling),v=s(A,b.props),v.ref=Ql(x,A,b),v.return=x,x=v;break e}r(x,A);break}else e(x,A);A=A.sibling}b.type===_a?(v=No(b.props.children,x.mode,_,b.key),v.return=x,x=v):(_=mh(b.type,b.key,b.props,null,x.mode,_),_.ref=Ql(x,v,b),_.return=x,x=_)}return o(x);case ba:e:{for(A=b.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(x,v.sibling),v=s(v,b.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else e(x,v);v=v.sibling}v=Zp(b,x.mode,_),v.return=x,x=v}return o(x);case di:return A=b._init,w(x,v,A(b._payload),_)}if(fc(b))return y(x,v,b,_);if(Yl(b))return g(x,v,b,_);Ad(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(x,v.sibling),v=s(v,b),v.return=x,x=v):(r(x,v),v=qp(b,x.mode,_),v.return=x,x=v),o(x)):r(x,v)}return w}var ml=ES(!0),PS=ES(!1),Dh=Qi(null),Lh=null,Ra=null,Pv=null;function Av(){Pv=Ra=Lh=null}function kv(t){var e=Dh.current;St(Dh),t._currentValue=e}function kg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ua(t,e){Lh=t,Pv=Ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(Pv!==t)if(t={context:t,memoizedValue:e,next:null},Ra===null){if(Lh===null)throw Error(K(308));Ra=t,Lh.dependencies={lanes:0,firstContext:t}}else Ra=Ra.next=t;return e}var bo=null;function Tv(t){bo===null?bo=[t]:bo.push(t)}function AS(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Tv(e)):(r.next=s.next,s.next=r),e.interleaved=r,Vs(t,n)}function Vs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var hi=!1;function Rv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Vs(t,r)}return s=n.interleaved,s===null?(e.next=e,Tv(n)):(e.next=s.next,s.next=e),n.interleaved=e,Vs(t,r)}function ch(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mv(t,r)}}function J0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fh(t,e,r,n){var s=t.updateQueue;hi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(h=e,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=Nt({},d,h);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fo|=o,t.lanes=o,t.memoizedState=d}}function ew(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(K(191,s));s.call(n)}}}var Wu={},ps=Qi(Wu),Jc=Qi(Wu),eu=Qi(Wu);function _o(t){if(t===Wu)throw Error(K(174));return t}function Mv(t,e){switch(vt(eu,e),vt(Jc,t),vt(ps,Wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lg(e,t)}St(ps),vt(ps,e)}function gl(){St(ps),St(Jc),St(eu)}function TS(t){_o(eu.current);var e=_o(ps.current),r=lg(e,t.type);e!==r&&(vt(Jc,t),vt(ps,r))}function jv(t){Jc.current===t&&(St(ps),St(Jc))}var Rt=Qi(0);function $h(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wp=[];function Nv(){for(var t=0;t<Wp.length;t++)Wp[t]._workInProgressVersionPrimary=null;Wp.length=0}var uh=Ks.ReactCurrentDispatcher,Hp=Ks.ReactCurrentBatchConfig,Lo=0,jt=null,qt=null,ir=null,Bh=!1,Tc=!1,tu=0,wj=0;function hr(){throw Error(K(321))}function Iv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yn(t[r],e[r]))return!1;return!0}function Ov(t,e,r,n,s,i){if(Lo=i,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uh.current=t===null||t.memoizedState===null?Cj:Ej,t=r(n,s),Tc){i=0;do{if(Tc=!1,tu=0,25<=i)throw Error(K(301));i+=1,ir=qt=null,e.updateQueue=null,uh.current=Pj,t=r(n,s)}while(Tc)}if(uh.current=zh,e=qt!==null&&qt.next!==null,Lo=0,ir=qt=jt=null,Bh=!1,e)throw Error(K(300));return t}function Dv(){var t=tu!==0;return tu=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?jt.memoizedState=ir=t:ir=ir.next=t,ir}function An(){if(qt===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=ir===null?jt.memoizedState:ir.next;if(e!==null)ir=e,qt=t;else{if(t===null)throw Error(K(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},ir===null?jt.memoizedState=ir=t:ir=ir.next=t}return ir}function ru(t,e){return typeof e=="function"?e(t):e}function Gp(t){var e=An(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=qt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Lo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,jt.lanes|=u,Fo|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Yn(n,e.memoizedState)||(Vr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,jt.lanes|=i,Fo|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Yp(t){var e=An(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yn(i,e.memoizedState)||(Vr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function RS(){}function MS(t,e){var r=jt,n=An(),s=e(),i=!Yn(n.memoizedState,s);if(i&&(n.memoizedState=s,Vr=!0),n=n.queue,Lv(IS.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,nu(9,NS.bind(null,r,n,s,e),void 0,null),ar===null)throw Error(K(349));Lo&30||jS(r,e,s)}return s}function jS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function NS(t,e,r,n){e.value=r,e.getSnapshot=n,OS(e)&&DS(t)}function IS(t,e,r){return r(function(){OS(e)&&DS(t)})}function OS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yn(t,r)}catch{return!0}}function DS(t){var e=Vs(t,1);e!==null&&Hn(e,t,1,-1)}function tw(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:t},e.queue=t,t=t.dispatch=Sj.bind(null,jt,t),[e.memoizedState,t]}function nu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function LS(){return An().memoizedState}function dh(t,e,r,n){var s=is();jt.flags|=t,s.memoizedState=nu(1|e,r,void 0,n===void 0?null:n)}function Rf(t,e,r,n){var s=An();n=n===void 0?null:n;var i=void 0;if(qt!==null){var o=qt.memoizedState;if(i=o.destroy,n!==null&&Iv(n,o.deps)){s.memoizedState=nu(e,r,i,n);return}}jt.flags|=t,s.memoizedState=nu(1|e,r,i,n)}function rw(t,e){return dh(8390656,8,t,e)}function Lv(t,e){return Rf(2048,8,t,e)}function FS(t,e){return Rf(4,2,t,e)}function $S(t,e){return Rf(4,4,t,e)}function BS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zS(t,e,r){return r=r!=null?r.concat([t]):null,Rf(4,4,BS.bind(null,e,t),r)}function Fv(){}function US(t,e){var r=An();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Iv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function VS(t,e){var r=An();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Iv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function WS(t,e,r){return Lo&21?(Yn(r,e)||(r=K1(),jt.lanes|=r,Fo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=r)}function bj(t,e){var r=ft;ft=r!==0&&4>r?r:4,t(!0);var n=Hp.transition;Hp.transition={};try{t(!1),e()}finally{ft=r,Hp.transition=n}}function HS(){return An().memoizedState}function _j(t,e,r){var n=Di(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GS(t))YS(e,r);else if(r=AS(t,e,r,n),r!==null){var s=Mr();Hn(r,t,n,s),XS(r,e,n)}}function Sj(t,e,r){var n=Di(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GS(t))YS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(s.next=s,Tv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=AS(t,e,s,n),r!==null&&(s=Mr(),Hn(r,t,n,s),XS(r,e,n))}}function GS(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function YS(t,e){Tc=Bh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function XS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mv(t,r)}}var zh={readContext:Pn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},Cj={readContext:Pn,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:rw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,dh(4194308,4,BS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return dh(4,2,t,e)},useMemo:function(t,e){var r=is();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=is();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=_j.bind(null,jt,t),[n.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:tw,useDebugValue:Fv,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=tw(!1),e=t[0];return t=bj.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=jt,s=is();if(Pt){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),ar===null)throw Error(K(349));Lo&30||jS(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,rw(IS.bind(null,n,i,t),[t]),n.flags|=2048,nu(9,NS.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=is(),e=ar.identifierPrefix;if(Pt){var r=Is,n=Ns;r=(n&~(1<<32-Wn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=tu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=wj++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ej={readContext:Pn,useCallback:US,useContext:Pn,useEffect:Lv,useImperativeHandle:zS,useInsertionEffect:FS,useLayoutEffect:$S,useMemo:VS,useReducer:Gp,useRef:LS,useState:function(){return Gp(ru)},useDebugValue:Fv,useDeferredValue:function(t){var e=An();return WS(e,qt.memoizedState,t)},useTransition:function(){var t=Gp(ru)[0],e=An().memoizedState;return[t,e]},useMutableSource:RS,useSyncExternalStore:MS,useId:HS,unstable_isNewReconciler:!1},Pj={readContext:Pn,useCallback:US,useContext:Pn,useEffect:Lv,useImperativeHandle:zS,useInsertionEffect:FS,useLayoutEffect:$S,useMemo:VS,useReducer:Yp,useRef:LS,useState:function(){return Yp(ru)},useDebugValue:Fv,useDeferredValue:function(t){var e=An();return qt===null?e.memoizedState=t:WS(e,qt.memoizedState,t)},useTransition:function(){var t=Yp(ru)[0],e=An().memoizedState;return[t,e]},useMutableSource:RS,useSyncExternalStore:MS,useId:HS,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Tg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Nt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={isMounted:function(t){return(t=t._reactInternals)?ra(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Mr(),s=Di(t),i=Ds(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ii(t,i,s),e!==null&&(Hn(e,t,s,n),ch(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Mr(),s=Di(t),i=Ds(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ii(t,i,s),e!==null&&(Hn(e,t,s,n),ch(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Mr(),n=Di(t),s=Ds(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ii(t,s,n),e!==null&&(Hn(e,t,n,r),ch(e,t,n))}};function nw(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kc(r,n)||!Kc(s,i):!0}function KS(t,e,r){var n=!1,s=Bi,i=e.contextType;return typeof i=="object"&&i!==null?i=Pn(i):(s=Gr(e)?Oo:xr.current,n=e.contextTypes,i=(n=n!=null)?fl(t,s):Bi),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function sw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Mf.enqueueReplaceState(e,e.state,null)}function Rg(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Rv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Pn(i):(i=Gr(e)?Oo:xr.current,s.context=fl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tg(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mf.enqueueReplaceState(s,s.state,null),Fh(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yl(t,e){try{var r="",n=e;do r+=eM(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Mg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Aj=typeof WeakMap=="function"?WeakMap:Map;function qS(t,e,r){r=Ds(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vh||(Vh=!0,zg=n),Mg(t,e)},r}function ZS(t,e,r){r=Ds(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Mg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Mg(t,e),typeof n!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function iw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Aj;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=zj.bind(null,t,e,r),e.then(t,t))}function ow(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aw(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ds(-1,1),e.tag=2,Ii(r,e,1))),r.lanes|=1),t)}var kj=Ks.ReactCurrentOwner,Vr=!1;function Tr(t,e,r,n){e.child=t===null?PS(e,null,r,n):ml(e,t.child,r,n)}function lw(t,e,r,n,s){r=r.render;var i=e.ref;return Ua(e,s),n=Ov(t,e,r,n,i,s),r=Dv(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ws(t,e,s)):(Pt&&r&&Sv(e),e.flags|=1,Tr(t,e,n,s),e.child)}function cw(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Gv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,QS(t,e,i,n,s)):(t=mh(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Kc,r(o,n)&&t.ref===e.ref)return Ws(t,e,s)}return e.flags|=1,t=Li(i,n),t.ref=e.ref,t.return=e,e.child=t}function QS(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Kc(i,n)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,Ws(t,e,s)}return jg(t,e,r,n,s)}function JS(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(ja,tn),tn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(ja,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,vt(ja,tn),tn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,vt(ja,tn),tn|=n;return Tr(t,e,s,r),e.child}function eC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jg(t,e,r,n,s){var i=Gr(r)?Oo:xr.current;return i=fl(e,i),Ua(e,s),r=Ov(t,e,r,n,i,s),n=Dv(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ws(t,e,s)):(Pt&&n&&Sv(e),e.flags|=1,Tr(t,e,r,s),e.child)}function uw(t,e,r,n,s){if(Gr(r)){var i=!0;Nh(e)}else i=!1;if(Ua(e,s),e.stateNode===null)hh(t,e),KS(e,r,n),Rg(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=Gr(r)?Oo:xr.current,c=fl(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&sw(e,o,n,c),hi=!1;var h=e.memoizedState;o.state=h,Fh(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Hr.current||hi?(typeof u=="function"&&(Tg(e,r,u,n),l=e.memoizedState),(a=hi||nw(e,r,a,n,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,kS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:On(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=Gr(r)?Oo:xr.current,l=fl(e,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&sw(e,o,n,l),hi=!1,h=e.memoizedState,o.state=h,Fh(e,n,o,s);var y=e.memoizedState;a!==d||h!==y||Hr.current||hi?(typeof m=="function"&&(Tg(e,r,m,n),y=e.memoizedState),(c=hi||nw(e,r,c,n,h,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Ng(t,e,r,n,i,s)}function Ng(t,e,r,n,s,i){eC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&K0(e,r,!1),Ws(t,e,i);n=e.stateNode,kj.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ml(e,t.child,null,i),e.child=ml(e,null,a,i)):Tr(t,e,a,i),e.memoizedState=n.state,s&&K0(e,r,!0),e.child}function tC(t){var e=t.stateNode;e.pendingContext?X0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X0(t,e.context,!1),Mv(t,e.containerInfo)}function dw(t,e,r,n,s){return pl(),Ev(s),e.flags|=256,Tr(t,e,r,n),e.child}var Ig={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function rC(t,e,r){var n=e.pendingProps,s=Rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),vt(Rt,s&1),t===null)return Ag(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=If(o,n,0,null),t=No(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Og(r),e.memoizedState=Ig,t):$v(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Tj(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Li(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Li(a,i):(i=No(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Og(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ig,n}return i=t.child,t=i.sibling,n=Li(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $v(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kd(t,e,r,n){return n!==null&&Ev(n),ml(e,t.child,null,r),t=$v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tj(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Xp(Error(K(422))),kd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=If({mode:"visible",children:n.children},s,0,null),i=No(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ml(e,t.child,null,o),e.child.memoizedState=Og(o),e.memoizedState=Ig,i);if(!(e.mode&1))return kd(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(K(419)),n=Xp(i,n,void 0),kd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Vr||a){if(n=ar,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vs(t,s),Hn(n,t,s,-1))}return Hv(),n=Xp(Error(K(421))),kd(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Uj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,on=Ni(s.nextSibling),an=e,Pt=!0,$n=null,t!==null&&(xn[wn++]=Ns,xn[wn++]=Is,xn[wn++]=Do,Ns=t.id,Is=t.overflow,Do=e),e=$v(e,n.children),e.flags|=4096,e)}function hw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),kg(t.return,e,r)}function Kp(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function nC(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Tr(t,e,n.children,r),n=Rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hw(t,r,e);else if(t.tag===19)hw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(vt(Rt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&$h(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Kp(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$h(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Kp(e,!0,r,null,i);break;case"together":Kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=Li(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Li(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Rj(t,e,r){switch(e.tag){case 3:tC(e),pl();break;case 5:TS(e);break;case 1:Gr(e.type)&&Nh(e);break;case 4:Mv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;vt(Dh,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(vt(Rt,Rt.current&1),e.flags|=128,null):r&e.child.childLanes?rC(t,e,r):(vt(Rt,Rt.current&1),t=Ws(t,e,r),t!==null?t.sibling:null);vt(Rt,Rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nC(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Rt,Rt.current),n)break;return null;case 22:case 23:return e.lanes=0,JS(t,e,r)}return Ws(t,e,r)}var sC,Dg,iC,oC;sC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dg=function(){};iC=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,_o(ps.current);var i=null;switch(r){case"input":s=sg(t,s),n=sg(t,n),i=[];break;case"select":s=Nt({},s,{value:void 0}),n=Nt({},n,{value:void 0}),i=[];break;case"textarea":s=ag(t,s),n=ag(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Mh)}cg(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};oC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jl(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Mj(t,e,r){var n=e.pendingProps;switch(Cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Gr(e.type)&&jh(),fr(e),null;case 3:return n=e.stateNode,gl(),St(Hr),St(xr),Nv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(Wg($n),$n=null))),Dg(t,e),fr(e),null;case 5:jv(e);var s=_o(eu.current);if(r=e.type,t!==null&&e.stateNode!=null)iC(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(K(166));return fr(e),null}if(t=_o(ps.current),Pd(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[us]=e,n[Qc]=i,t=(e.mode&1)!==0,r){case"dialog":_t("cancel",n),_t("close",n);break;case"iframe":case"object":case"embed":_t("load",n);break;case"video":case"audio":for(s=0;s<mc.length;s++)_t(mc[s],n);break;case"source":_t("error",n);break;case"img":case"image":case"link":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"input":b0(n,i),_t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_t("invalid",n);break;case"textarea":S0(n,i),_t("invalid",n)}cg(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ed(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ed(n.textContent,a,t),s=["children",""+a]):Uc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",n)}switch(r){case"input":yd(n),_0(n,i,!0);break;case"textarea":yd(n),C0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Mh)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I1(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[us]=e,t[Qc]=n,sC(t,e,!1,!1),e.stateNode=t;e:{switch(o=ug(r,n),r){case"dialog":_t("cancel",t),_t("close",t),s=n;break;case"iframe":case"object":case"embed":_t("load",t),s=n;break;case"video":case"audio":for(s=0;s<mc.length;s++)_t(mc[s],t);s=n;break;case"source":_t("error",t),s=n;break;case"img":case"image":case"link":_t("error",t),_t("load",t),s=n;break;case"details":_t("toggle",t),s=n;break;case"input":b0(t,n),s=sg(t,n),_t("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Nt({},n,{value:void 0}),_t("invalid",t);break;case"textarea":S0(t,n),s=ag(t,n),_t("invalid",t);break;default:s=n}cg(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?L1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O1(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vc(t,l):typeof l=="number"&&Vc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_t("scroll",t):l!=null&&cv(t,i,l,o))}switch(r){case"input":yd(t),_0(t,n,!1);break;case"textarea":yd(t),C0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$i(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Fa(t,!!n.multiple,i,!1):n.defaultValue!=null&&Fa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Mh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)oC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(K(166));if(r=_o(eu.current),_o(ps.current),Pd(e)){if(n=e.stateNode,r=e.memoizedProps,n[us]=e,(i=n.nodeValue!==r)&&(t=an,t!==null))switch(t.tag){case 3:Ed(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ed(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[us]=e,e.stateNode=n}return fr(e),null;case 13:if(St(Rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&on!==null&&e.mode&1&&!(e.flags&128))CS(),pl(),e.flags|=98560,i=!1;else if(i=Pd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[us]=e}else pl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),i=!1}else $n!==null&&(Wg($n),$n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?Qt===0&&(Qt=3):Hv())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return gl(),Dg(t,e),t===null&&qc(e.stateNode.containerInfo),fr(e),null;case 10:return kv(e.type._context),fr(e),null;case 17:return Gr(e.type)&&jh(),fr(e),null;case 19:if(St(Rt),i=e.memoizedState,i===null)return fr(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Jl(i,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$h(t),o!==null){for(e.flags|=128,Jl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return vt(Rt,Rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ut()>vl&&(e.flags|=128,n=!0,Jl(i,!1),e.lanes=4194304)}else{if(!n)if(t=$h(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pt)return fr(e),null}else 2*Ut()-i.renderingStartTime>vl&&r!==1073741824&&(e.flags|=128,n=!0,Jl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ut(),e.sibling=null,r=Rt.current,vt(Rt,n?r&1|2:r&1),e):(fr(e),null);case 22:case 23:return Wv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?tn&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function jj(t,e){switch(Cv(e),e.tag){case 1:return Gr(e.type)&&jh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gl(),St(Hr),St(xr),Nv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jv(e),null;case 13:if(St(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));pl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Rt),null;case 4:return gl(),null;case 10:return kv(e.type._context),null;case 22:case 23:return Wv(),null;case 24:return null;default:return null}}var Td=!1,mr=!1,Nj=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ma(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lt(t,e,n)}else r.current=null}function Lg(t,e,r){try{r()}catch(n){Lt(t,e,n)}}var fw=!1;function Ij(t,e){if(wg=kh,t=dS(),_v(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===r&&++c===s&&(a=o),h===i&&++u===n&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bg={focusedElem:t,selectionRange:r},kh=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:On(e.type,g),w);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){Lt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return y=fw,fw=!1,y}function Rc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lg(e,r,i)}s=s.next}while(s!==n)}}function jf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function aC(t){var e=t.alternate;e!==null&&(t.alternate=null,aC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[us],delete e[Qc],delete e[Cg],delete e[gj],delete e[yj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lC(t){return t.tag===5||t.tag===3||t.tag===4}function pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $g(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Mh));else if(n!==4&&(t=t.child,t!==null))for($g(t,e,r),t=t.sibling;t!==null;)$g(t,e,r),t=t.sibling}function Bg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Bg(t,e,r),t=t.sibling;t!==null;)Bg(t,e,r),t=t.sibling}var lr=null,Ln=!1;function si(t,e,r){for(r=r.child;r!==null;)cC(t,e,r),r=r.sibling}function cC(t,e,r){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Cf,r)}catch{}switch(r.tag){case 5:mr||Ma(r,e);case 6:var n=lr,s=Ln;lr=null,si(t,e,r),lr=n,Ln=s,lr!==null&&(Ln?(t=lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(Ln?(t=lr,r=r.stateNode,t.nodeType===8?Up(t.parentNode,r):t.nodeType===1&&Up(t,r),Yc(t)):Up(lr,r.stateNode));break;case 4:n=lr,s=Ln,lr=r.stateNode.containerInfo,Ln=!0,si(t,e,r),lr=n,Ln=s;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lg(r,e,o),s=s.next}while(s!==n)}si(t,e,r);break;case 1:if(!mr&&(Ma(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Lt(r,e,a)}si(t,e,r);break;case 21:si(t,e,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,si(t,e,r),mr=n):si(t,e,r);break;default:si(t,e,r)}}function mw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Nj),e.forEach(function(n){var s=Vj.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function jn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lr=a.stateNode,Ln=!1;break e;case 3:lr=a.stateNode.containerInfo,Ln=!0;break e;case 4:lr=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(lr===null)throw Error(K(160));cC(i,o,s),lr=null,Ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Lt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uC(e,t),e=e.sibling}function uC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),rs(t),n&4){try{Rc(3,t,t.return),jf(3,t)}catch(g){Lt(t,t.return,g)}try{Rc(5,t,t.return)}catch(g){Lt(t,t.return,g)}}break;case 1:jn(e,t),rs(t),n&512&&r!==null&&Ma(r,r.return);break;case 5:if(jn(e,t),rs(t),n&512&&r!==null&&Ma(r,r.return),t.flags&32){var s=t.stateNode;try{Vc(s,"")}catch(g){Lt(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&j1(s,i),ug(a,o);var c=ug(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?L1(s,d):u==="dangerouslySetInnerHTML"?O1(s,d):u==="children"?Vc(s,d):cv(s,u,d,c)}switch(a){case"input":ig(s,i);break;case"textarea":N1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Fa(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Fa(s,!!i.multiple,i.defaultValue,!0):Fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qc]=i}catch(g){Lt(t,t.return,g)}}break;case 6:if(jn(e,t),rs(t),n&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Lt(t,t.return,g)}}break;case 3:if(jn(e,t),rs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yc(e.containerInfo)}catch(g){Lt(t,t.return,g)}break;case 4:jn(e,t),rs(t);break;case 13:jn(e,t),rs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uv=Ut())),n&4&&mw(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(c=mr)||u,jn(e,t),mr=c):jn(e,t),rs(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(he=t,u=t.child;u!==null;){for(d=he=u;he!==null;){switch(h=he,m=h.child,h.tag){case 0:case 11:case 14:case 15:Rc(4,h,h.return);break;case 1:Ma(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Lt(n,r,g)}}break;case 5:Ma(h,h.return);break;case 22:if(h.memoizedState!==null){yw(d);continue}}m!==null?(m.return=h,he=m):yw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=D1("display",o))}catch(g){Lt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Lt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:jn(e,t),rs(t),n&4&&mw(t);break;case 21:break;default:jn(e,t),rs(t)}}function rs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lC(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Vc(s,""),n.flags&=-33);var i=pw(t);Bg(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=pw(t);$g(t,a,o);break;default:throw Error(K(161))}}catch(l){Lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Oj(t,e,r){he=t,dC(t)}function dC(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var s=he,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Td;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mr;a=Td;var c=mr;if(Td=o,(mr=l)&&!c)for(he=s;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?vw(s):l!==null?(l.return=o,he=l):vw(s);for(;i!==null;)he=i,dC(i),i=i.sibling;he=s,Td=a,mr=c}gw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,he=i):gw(t)}}function gw(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||jf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:On(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ew(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ew(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Yc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}mr||e.flags&512&&Fg(e)}catch(h){Lt(e,e.return,h)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function yw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function vw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{jf(4,e)}catch(l){Lt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Lt(e,s,l)}}var i=e.return;try{Fg(e)}catch(l){Lt(e,i,l)}break;case 5:var o=e.return;try{Fg(e)}catch(l){Lt(e,o,l)}}}catch(l){Lt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var Dj=Math.ceil,Uh=Ks.ReactCurrentDispatcher,Bv=Ks.ReactCurrentOwner,Cn=Ks.ReactCurrentBatchConfig,tt=0,ar=null,Ht=null,cr=0,tn=0,ja=Qi(0),Qt=0,su=null,Fo=0,Nf=0,zv=0,Mc=null,zr=null,Uv=0,vl=1/0,Rs=null,Vh=!1,zg=null,Oi=null,Rd=!1,Ai=null,Wh=0,jc=0,Ug=null,fh=-1,ph=0;function Mr(){return tt&6?Ut():fh!==-1?fh:fh=Ut()}function Di(t){return t.mode&1?tt&2&&cr!==0?cr&-cr:xj.transition!==null?(ph===0&&(ph=K1()),ph):(t=ft,t!==0||(t=window.event,t=t===void 0?16:rS(t.type)),t):1}function Hn(t,e,r,n){if(50<jc)throw jc=0,Ug=null,Error(K(185));zu(t,r,n),(!(tt&2)||t!==ar)&&(t===ar&&(!(tt&2)&&(Nf|=r),Qt===4&&pi(t,cr)),Yr(t,n),r===1&&tt===0&&!(e.mode&1)&&(vl=Ut()+500,Tf&&Ji()))}function Yr(t,e){var r=t.callbackNode;xM(t,e);var n=Ah(t,t===ar?cr:0);if(n===0)r!==null&&A0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&A0(r),e===1)t.tag===0?vj(xw.bind(null,t)):bS(xw.bind(null,t)),pj(function(){!(tt&6)&&Ji()}),r=null;else{switch(q1(n)){case 1:r=pv;break;case 4:r=Y1;break;case 16:r=Ph;break;case 536870912:r=X1;break;default:r=Ph}r=xC(r,hC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function hC(t,e){if(fh=-1,ph=0,tt&6)throw Error(K(327));var r=t.callbackNode;if(Va()&&t.callbackNode!==r)return null;var n=Ah(t,t===ar?cr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hh(t,n);else{e=n;var s=tt;tt|=2;var i=pC();(ar!==t||cr!==e)&&(Rs=null,vl=Ut()+500,jo(t,e));do try{$j();break}catch(a){fC(t,a)}while(!0);Av(),Uh.current=i,tt=s,Ht!==null?e=0:(ar=null,cr=0,e=Qt)}if(e!==0){if(e===2&&(s=mg(t),s!==0&&(n=s,e=Vg(t,s))),e===1)throw r=su,jo(t,0),pi(t,n),Yr(t,Ut()),r;if(e===6)pi(t,n);else{if(s=t.current.alternate,!(n&30)&&!Lj(s)&&(e=Hh(t,n),e===2&&(i=mg(t),i!==0&&(n=i,e=Vg(t,i))),e===1))throw r=su,jo(t,0),pi(t,n),Yr(t,Ut()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(K(345));case 2:fo(t,zr,Rs);break;case 3:if(pi(t,n),(n&130023424)===n&&(e=Uv+500-Ut(),10<e)){if(Ah(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Mr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sg(fo.bind(null,t,zr,Rs),e);break}fo(t,zr,Rs);break;case 4:if(pi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Wn(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dj(n/1960))-n,10<n){t.timeoutHandle=Sg(fo.bind(null,t,zr,Rs),n);break}fo(t,zr,Rs);break;case 5:fo(t,zr,Rs);break;default:throw Error(K(329))}}}return Yr(t,Ut()),t.callbackNode===r?hC.bind(null,t):null}function Vg(t,e){var r=Mc;return t.current.memoizedState.isDehydrated&&(jo(t,e).flags|=256),t=Hh(t,e),t!==2&&(e=zr,zr=r,e!==null&&Wg(e)),t}function Wg(t){zr===null?zr=t:zr.push.apply(zr,t)}function Lj(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~zv,e&=~Nf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Wn(e),n=1<<r;t[r]=-1,e&=~n}}function xw(t){if(tt&6)throw Error(K(327));Va();var e=Ah(t,0);if(!(e&1))return Yr(t,Ut()),null;var r=Hh(t,e);if(t.tag!==0&&r===2){var n=mg(t);n!==0&&(e=n,r=Vg(t,n))}if(r===1)throw r=su,jo(t,0),pi(t,e),Yr(t,Ut()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fo(t,zr,Rs),Yr(t,Ut()),null}function Vv(t,e){var r=tt;tt|=1;try{return t(e)}finally{tt=r,tt===0&&(vl=Ut()+500,Tf&&Ji())}}function $o(t){Ai!==null&&Ai.tag===0&&!(tt&6)&&Va();var e=tt;tt|=1;var r=Cn.transition,n=ft;try{if(Cn.transition=null,ft=1,t)return t()}finally{ft=n,Cn.transition=r,tt=e,!(tt&6)&&Ji()}}function Wv(){tn=ja.current,St(ja)}function jo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,fj(r)),Ht!==null)for(r=Ht.return;r!==null;){var n=r;switch(Cv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jh();break;case 3:gl(),St(Hr),St(xr),Nv();break;case 5:jv(n);break;case 4:gl();break;case 13:St(Rt);break;case 19:St(Rt);break;case 10:kv(n.type._context);break;case 22:case 23:Wv()}r=r.return}if(ar=t,Ht=t=Li(t.current,null),cr=tn=e,Qt=0,su=null,zv=Nf=Fo=0,zr=Mc=null,bo!==null){for(e=0;e<bo.length;e++)if(r=bo[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}bo=null}return t}function fC(t,e){do{var r=Ht;try{if(Av(),uh.current=zh,Bh){for(var n=jt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bh=!1}if(Lo=0,ir=qt=jt=null,Tc=!1,tu=0,Bv.current=null,r===null||r.return===null){Qt=1,su=e,Ht=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ow(o);if(m!==null){m.flags&=-257,aw(m,o,a,i,e),m.mode&1&&iw(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){iw(i,c,e),Hv();break e}l=Error(K(426))}}else if(Pt&&a.mode&1){var w=ow(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),aw(w,o,a,i,e),Ev(yl(l,a));break e}}i=l=yl(l,a),Qt!==4&&(Qt=2),Mc===null?Mc=[i]:Mc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=qS(i,l,e);J0(i,x);break e;case 1:a=l;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Oi===null||!Oi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=ZS(i,a,e);J0(i,_);break e}}i=i.return}while(i!==null)}gC(r)}catch(C){e=C,Ht===r&&r!==null&&(Ht=r=r.return);continue}break}while(!0)}function pC(){var t=Uh.current;return Uh.current=zh,t===null?zh:t}function Hv(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),ar===null||!(Fo&268435455)&&!(Nf&268435455)||pi(ar,cr)}function Hh(t,e){var r=tt;tt|=2;var n=pC();(ar!==t||cr!==e)&&(Rs=null,jo(t,e));do try{Fj();break}catch(s){fC(t,s)}while(!0);if(Av(),tt=r,Uh.current=n,Ht!==null)throw Error(K(261));return ar=null,cr=0,Qt}function Fj(){for(;Ht!==null;)mC(Ht)}function $j(){for(;Ht!==null&&!uM();)mC(Ht)}function mC(t){var e=vC(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?gC(t):Ht=e,Bv.current=null}function gC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=jj(r,e),r!==null){r.flags&=32767,Ht=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Ht=null;return}}else if(r=Mj(r,e,tn),r!==null){Ht=r;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);Qt===0&&(Qt=5)}function fo(t,e,r){var n=ft,s=Cn.transition;try{Cn.transition=null,ft=1,Bj(t,e,r,n)}finally{Cn.transition=s,ft=n}return null}function Bj(t,e,r,n){do Va();while(Ai!==null);if(tt&6)throw Error(K(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(wM(t,i),t===ar&&(Ht=ar=null,cr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rd||(Rd=!0,xC(Ph,function(){return Va(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=ft;ft=1;var a=tt;tt|=4,Bv.current=null,Ij(t,r),uC(r,t),oj(bg),kh=!!wg,bg=wg=null,t.current=r,Oj(r),dM(),tt=a,ft=o,Cn.transition=i}else t.current=r;if(Rd&&(Rd=!1,Ai=t,Wh=s),i=t.pendingLanes,i===0&&(Oi=null),pM(r.stateNode),Yr(t,Ut()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vh)throw Vh=!1,t=zg,zg=null,t;return Wh&1&&t.tag!==0&&Va(),i=t.pendingLanes,i&1?t===Ug?jc++:(jc=0,Ug=t):jc=0,Ji(),null}function Va(){if(Ai!==null){var t=q1(Wh),e=Cn.transition,r=ft;try{if(Cn.transition=null,ft=16>t?16:t,Ai===null)var n=!1;else{if(t=Ai,Ai=null,Wh=0,tt&6)throw Error(K(331));var s=tt;for(tt|=4,he=t.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(he=c;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:Rc(8,u,i)}var d=u.child;if(d!==null)d.return=u,he=d;else for(;he!==null;){u=he;var h=u.sibling,m=u.return;if(aC(u),u===c){he=null;break}if(h!==null){h.return=m,he=h;break}he=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,he=x;break e}he=i.return}}var v=t.current;for(he=v;he!==null;){o=he;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,he=b;else e:for(o=v;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jf(9,a)}}catch(C){Lt(a,a.return,C)}if(a===o){he=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,he=_;break e}he=a.return}}if(tt=s,Ji(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Cf,t)}catch{}n=!0}return n}finally{ft=r,Cn.transition=e}}return!1}function ww(t,e,r){e=yl(r,e),e=qS(t,e,1),t=Ii(t,e,1),e=Mr(),t!==null&&(zu(t,1,e),Yr(t,e))}function Lt(t,e,r){if(t.tag===3)ww(t,t,r);else for(;e!==null;){if(e.tag===3){ww(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oi===null||!Oi.has(n))){t=yl(r,t),t=ZS(e,t,1),e=Ii(e,t,1),t=Mr(),e!==null&&(zu(e,1,t),Yr(e,t));break}}e=e.return}}function zj(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(cr&r)===r&&(Qt===4||Qt===3&&(cr&130023424)===cr&&500>Ut()-Uv?jo(t,0):zv|=r),Yr(t,e)}function yC(t,e){e===0&&(t.mode&1?(e=wd,wd<<=1,!(wd&130023424)&&(wd=4194304)):e=1);var r=Mr();t=Vs(t,e),t!==null&&(zu(t,e,r),Yr(t,r))}function Uj(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),yC(t,r)}function Vj(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(e),yC(t,r)}var vC;vC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hr.current)Vr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Vr=!1,Rj(t,e,r);Vr=!!(t.flags&131072)}else Vr=!1,Pt&&e.flags&1048576&&_S(e,Oh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;hh(t,e),t=e.pendingProps;var s=fl(e,xr.current);Ua(e,r),s=Ov(null,e,n,t,s,r);var i=Dv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(n)?(i=!0,Nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rv(e),s.updater=Mf,e.stateNode=s,s._reactInternals=e,Rg(e,n,t,r),e=Ng(null,e,n,!0,i,r)):(e.tag=0,Pt&&i&&Sv(e),Tr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(hh(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Hj(n),t=On(n,t),s){case 0:e=jg(null,e,n,t,r);break e;case 1:e=uw(null,e,n,t,r);break e;case 11:e=lw(null,e,n,t,r);break e;case 14:e=cw(null,e,n,On(n.type,t),r);break e}throw Error(K(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:On(n,s),jg(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:On(n,s),uw(t,e,n,s,r);case 3:e:{if(tC(e),t===null)throw Error(K(387));n=e.pendingProps,i=e.memoizedState,s=i.element,kS(t,e),Fh(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yl(Error(K(423)),e),e=dw(t,e,n,r,s);break e}else if(n!==s){s=yl(Error(K(424)),e),e=dw(t,e,n,r,s);break e}else for(on=Ni(e.stateNode.containerInfo.firstChild),an=e,Pt=!0,$n=null,r=PS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pl(),n===s){e=Ws(t,e,r);break e}Tr(t,e,n,r)}e=e.child}return e;case 5:return TS(e),t===null&&Ag(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_g(n,s)?o=null:i!==null&&_g(n,i)&&(e.flags|=32),eC(t,e),Tr(t,e,o,r),e.child;case 6:return t===null&&Ag(e),null;case 13:return rC(t,e,r);case 4:return Mv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ml(e,null,n,r):Tr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:On(n,s),lw(t,e,n,s,r);case 7:return Tr(t,e,e.pendingProps,r),e.child;case 8:return Tr(t,e,e.pendingProps.children,r),e.child;case 12:return Tr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,vt(Dh,n._currentValue),n._currentValue=o,i!==null)if(Yn(i.value,o)){if(i.children===s.children&&!Hr.current){e=Ws(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ds(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),kg(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),kg(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ua(e,r),s=Pn(s),n=n(s),e.flags|=1,Tr(t,e,n,r),e.child;case 14:return n=e.type,s=On(n,e.pendingProps),s=On(n.type,s),cw(t,e,n,s,r);case 15:return QS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:On(n,s),hh(t,e),e.tag=1,Gr(n)?(t=!0,Nh(e)):t=!1,Ua(e,r),KS(e,n,s),Rg(e,n,s,r),Ng(null,e,n,!0,t,r);case 19:return nC(t,e,r);case 22:return JS(t,e,r)}throw Error(K(156,e.tag))};function xC(t,e){return G1(t,e)}function Wj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,r,n){return new Wj(t,e,r,n)}function Gv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hj(t){if(typeof t=="function")return Gv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dv)return 11;if(t===hv)return 14}return 2}function Li(t,e){var r=t.alternate;return r===null?(r=_n(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function mh(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Gv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return No(r.children,s,i,e);case uv:o=8,s|=8;break;case eg:return t=_n(12,r,e,s|2),t.elementType=eg,t.lanes=i,t;case tg:return t=_n(13,r,e,s),t.elementType=tg,t.lanes=i,t;case rg:return t=_n(19,r,e,s),t.elementType=rg,t.lanes=i,t;case T1:return If(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A1:o=10;break e;case k1:o=9;break e;case dv:o=11;break e;case hv:o=14;break e;case di:o=16,n=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=_n(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function No(t,e,r,n){return t=_n(7,t,n,e),t.lanes=r,t}function If(t,e,r,n){return t=_n(22,t,n,e),t.elementType=T1,t.lanes=r,t.stateNode={isHidden:!1},t}function qp(t,e,r){return t=_n(6,t,null,e),t.lanes=r,t}function Zp(t,e,r){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gj(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mp(0),this.expirationTimes=Mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yv(t,e,r,n,s,i,o,a,l){return t=new Gj(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(i),t}function Yj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ba,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function wC(t){if(!t)return Bi;t=t._reactInternals;e:{if(ra(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(Gr(r))return wS(t,r,e)}return e}function bC(t,e,r,n,s,i,o,a,l){return t=Yv(r,n,!0,t,s,i,o,a,l),t.context=wC(null),r=t.current,n=Mr(),s=Di(r),i=Ds(n,s),i.callback=e??null,Ii(r,i,s),t.current.lanes=s,zu(t,s,n),Yr(t,n),t}function Of(t,e,r,n){var s=e.current,i=Mr(),o=Di(s);return r=wC(r),e.context===null?e.context=r:e.pendingContext=r,e=Ds(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ii(s,e,o),t!==null&&(Hn(t,s,o,i),ch(t,s,o)),o}function Gh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Xv(t,e){bw(t,e),(t=t.alternate)&&bw(t,e)}function Xj(){return null}var _C=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kv(t){this._internalRoot=t}Df.prototype.render=Kv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Of(t,e,null,null)};Df.prototype.unmount=Kv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){Of(null,t,null,null)}),e[Us]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var e=J1();t={blockedOn:null,target:t,priority:e};for(var r=0;r<fi.length&&e!==0&&e<fi[r].priority;r++);fi.splice(r,0,t),r===0&&tS(t)}};function qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _w(){}function Kj(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Gh(o);i.call(c)}}var o=bC(e,n,t,0,null,!1,!1,"",_w);return t._reactRootContainer=o,t[Us]=o.current,qc(t.nodeType===8?t.parentNode:t),$o(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Gh(l);a.call(c)}}var l=Yv(t,0,!1,null,null,!1,!1,"",_w);return t._reactRootContainer=l,t[Us]=l.current,qc(t.nodeType===8?t.parentNode:t),$o(function(){Of(e,l,r,n)}),l}function Ff(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Gh(o);a.call(l)}}Of(e,o,t,s)}else o=Kj(r,e,t,s,n);return Gh(o)}Z1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pc(e.pendingLanes);r!==0&&(mv(e,r|1),Yr(e,Ut()),!(tt&6)&&(vl=Ut()+500,Ji()))}break;case 13:$o(function(){var n=Vs(t,1);if(n!==null){var s=Mr();Hn(n,t,1,s)}}),Xv(t,1)}};gv=function(t){if(t.tag===13){var e=Vs(t,134217728);if(e!==null){var r=Mr();Hn(e,t,134217728,r)}Xv(t,134217728)}};Q1=function(t){if(t.tag===13){var e=Di(t),r=Vs(t,e);if(r!==null){var n=Mr();Hn(r,t,e,n)}Xv(t,e)}};J1=function(){return ft};eS=function(t,e){var r=ft;try{return ft=t,e()}finally{ft=r}};hg=function(t,e,r){switch(e){case"input":if(ig(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=kf(n);if(!s)throw Error(K(90));M1(n),ig(n,s)}}}break;case"textarea":N1(t,r);break;case"select":e=r.value,e!=null&&Fa(t,!!r.multiple,e,!1)}};B1=Vv;z1=$o;var qj={usingClientEntryPoint:!1,Events:[Vu,Pa,kf,F1,$1,Vv]},ec={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zj={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W1(t),t===null?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||Xj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Cf=Md.inject(Zj),fs=Md}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;hn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(e))throw Error(K(200));return Yj(t,e,null,r)};hn.createRoot=function(t,e){if(!qv(t))throw Error(K(299));var r=!1,n="",s=_C;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yv(t,1,!1,null,null,r,!1,n,s),t[Us]=e.current,qc(t.nodeType===8?t.parentNode:t),new Kv(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=W1(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return $o(t)};hn.hydrate=function(t,e,r){if(!Lf(e))throw Error(K(200));return Ff(null,t,e,!0,r)};hn.hydrateRoot=function(t,e,r){if(!qv(t))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=_C;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=bC(e,null,t,1,r??null,s,!1,i,o),t[Us]=e.current,qc(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Df(e)};hn.render=function(t,e,r){if(!Lf(e))throw Error(K(200));return Ff(null,t,e,!1,r)};hn.unmountComponentAtNode=function(t){if(!Lf(t))throw Error(K(40));return t._reactRootContainer?($o(function(){Ff(null,null,t,!1,function(){t._reactRootContainer=null,t[Us]=null})}),!0):!1};hn.unstable_batchedUpdates=Vv;hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Lf(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Ff(t,e,r,!1,n)};hn.version="18.3.1-next-f1338f8080-20240426";function SC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SC)}catch(t){console.error(t)}}SC(),S1.exports=hn;var qs=S1.exports;const $f=$u(qs),Qj=d1({__proto__:null,default:$f},[qs]);var CC,Sw=qs;CC=Sw.createRoot,Sw.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tt(){return Tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tt.apply(this,arguments)}var Wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wt||(Wt={}));const Cw="popstate";function Jj(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Zs(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),iu("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:zo(i))}function n(s,i){Bo(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return t2(e,r,n,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e2(){return Math.random().toString(36).substr(2,8)}function Ew(t,e){return{usr:t.state,key:t.key,idx:e}}function iu(t,e,r,n){return r===void 0&&(r=null),Tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zs(e):e,{state:r,key:e&&e.key||n||e2()})}function zo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function t2(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Wt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Tt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Wt.Pop;let w=u(),x=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:x})}function h(w,x){a=Wt.Push;let v=iu(g.location,w,x);r&&r(v,w),c=u()+1;let b=Ew(v,c),_=g.createHref(v);try{o.pushState(b,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}i&&l&&l({action:a,location:g.location,delta:1})}function m(w,x){a=Wt.Replace;let v=iu(g.location,w,x);r&&r(v,w),c=u();let b=Ew(v,c),_=g.createHref(v);o.replaceState(b,"",_),i&&l&&l({action:a,location:g.location,delta:0})}function y(w){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:zo(w);return v=v.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Cw,d),l=w,()=>{s.removeEventListener(Cw,d),l=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let x=y(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(w){return o.go(w)}};return g}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const r2=new Set(["lazy","caseSensitive","path","id","index","children"]);function n2(t){return t.index===!0}function ou(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,i)=>{let o=[...r,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Ue(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ue(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),n2(s)){let l=Tt({},s,e(s),{id:a});return n[a]=l,l}else{let l=Tt({},s,e(s),{id:a,children:void 0});return n[a]=l,s.children&&(l.children=ou(s.children,e,o,n)),l}})}function vo(t,e,r){return r===void 0&&(r="/"),gh(t,e,r,!1)}function gh(t,e,r,n){let s=typeof e=="string"?Zs(e):e,i=Nl(s.pathname||"/",r);if(i==null)return null;let o=EC(t);i2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=g2(i);a=p2(o[l],c,n)}return a}function s2(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function EC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ls([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),EC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:h2(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of PC(i.path))s(i,o,l)}),e}function PC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=PC(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function i2(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:f2(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const o2=/^:[\w-]+$/,a2=3,l2=2,c2=1,u2=10,d2=-2,Pw=t=>t==="*";function h2(t,e){let r=t.split("/"),n=r.length;return r.some(Pw)&&(n+=d2),e&&(n+=l2),r.filter(s=>!Pw(s)).reduce((s,i)=>s+(o2.test(i)?a2:i===""?c2:u2),n)}function f2(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function p2(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Aw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=Aw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ls([i,d.pathname]),pathnameBase:x2(Ls([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ls([i,d.pathnameBase]))}return o}function Aw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=m2(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function m2(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Bo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function g2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function y2(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Zs(t):t;return{pathname:r?r.startsWith("/")?r:v2(r,e):e,search:w2(n),hash:b2(s)}}function v2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AC(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Zv(t,e){let r=AC(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qv(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Zs(t):(s=Tt({},t),Ue(!s.pathname||!s.pathname.includes("?"),Qp("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),Qp("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),Qp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=y2(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ls=t=>t.join("/").replace(/\/\/+/g,"/"),x2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Yh{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Bf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kC=["post","put","patch","delete"],_2=new Set(kC),S2=["get",...kC],C2=new Set(S2),E2=new Set([301,302,303,307,308]),P2=new Set([307,308]),Jp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},A2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k2=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TC="remix-router-transitions";function T2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;s=j=>({hasErrorBoundary:R(j)})}else s=k2;let i={},o=ou(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||O2,u=t.unstable_patchRoutesOnNavigation,d=Tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,m=new Set,y=1e3,g=new Set,w=null,x=null,v=null,b=t.hydrationData!=null,_=vo(o,t.history.location,l),C=null;if(_==null&&!u){let R=kr(404,{pathname:t.history.location.pathname}),{matches:j,route:L}=Dw(o);_=j,C={[L.id]:R}}_&&!t.hydrationData&&ld(_,o,t.history.location.pathname).active&&(_=null);let A;if(_)if(_.some(R=>R.route.lazy))A=!1;else if(!_.some(R=>R.route.loader))A=!0;else if(d.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,j=t.hydrationData?t.hydrationData.errors:null,L=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:R&&R[H.route.id]!==void 0||j&&j[H.route.id]!==void 0:!0;if(j){let H=_.findIndex(de=>j[de.route.id]!==void 0);A=_.slice(0,H+1).every(L)}else A=_.every(L)}else A=t.hydrationData!=null;else if(A=!1,_=[],d.v7_partialHydration){let R=ld(null,o,t.history.location.pathname);R.active&&R.matches&&(_=R.matches)}let E,S={historyAction:t.history.action,location:t.history.location,matches:_,initialized:A,navigation:Jp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},P=Wt.Pop,T=!1,U,F=!1,z=new Map,B=null,Y=!1,X=!1,Q=[],D=new Set,O=new Map,V=0,ee=-1,N=new Map,G=new Set,ie=new Map,te=new Map,re=new Set,J=new Map,fe=new Map,Ie=new Map,Ae;function ze(){if(h=t.history.listen(R=>{let{action:j,location:L,delta:H}=R;if(Ae){Ae(),Ae=void 0;return}Bo(fe.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=qr({currentLocation:S.location,nextLocation:L,historyAction:j});if(de&&H!=null){let xe=new Promise(Te=>{Ae=Te});t.history.go(H*-1),Er(de,{state:"blocked",location:L,proceed(){Er(de,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),xe.then(()=>t.history.go(H))},reset(){let Te=new Map(S.blockers);Te.set(de,tc),Xe({blockers:Te})}});return}return k(j,L)}),r){q2(e,z);let R=()=>Z2(e,z);e.addEventListener("pagehide",R),B=()=>e.removeEventListener("pagehide",R)}return S.initialized||k(Wt.Pop,S.location,{initialHydration:!0}),E}function Oe(){h&&h(),B&&B(),m.clear(),U&&U.abort(),S.fetchers.forEach((R,j)=>ts(j)),S.blockers.forEach((R,j)=>ut(j))}function xt(R){return m.add(R),()=>m.delete(R)}function Xe(R,j){j===void 0&&(j={}),S=Tt({},S,R);let L=[],H=[];d.v7_fetcherPersist&&S.fetchers.forEach((de,xe)=>{de.state==="idle"&&(re.has(xe)?H.push(xe):L.push(xe))}),[...m].forEach(de=>de(S,{deletedFetchers:H,unstable_viewTransitionOpts:j.viewTransitionOpts,unstable_flushSync:j.flushSync===!0})),d.v7_fetcherPersist&&(L.forEach(de=>S.fetchers.delete(de)),H.forEach(de=>ts(de)))}function Ct(R,j,L){var H,de;let{flushSync:xe}=L===void 0?{}:L,Te=S.actionData!=null&&S.navigation.formMethod!=null&&Fn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((H=R.state)==null?void 0:H._isRedirect)!==!0,ae;j.actionData?Object.keys(j.actionData).length>0?ae=j.actionData:ae=null:Te?ae=S.actionData:ae=null;let _e=j.loaderData?Iw(S.loaderData,j.loaderData,j.matches||[],j.errors):S.loaderData,me=S.blockers;me.size>0&&(me=new Map(me),me.forEach((dt,wt)=>me.set(wt,tc)));let ge=T===!0||S.navigation.formMethod!=null&&Fn(S.navigation.formMethod)&&((de=R.state)==null?void 0:de._isRedirect)!==!0;a&&(o=a,a=void 0),Y||P===Wt.Pop||(P===Wt.Push?t.history.push(R,R.state):P===Wt.Replace&&t.history.replace(R,R.state));let it;if(P===Wt.Pop){let dt=z.get(S.location.pathname);dt&&dt.has(R.pathname)?it={currentLocation:S.location,nextLocation:R}:z.has(R.pathname)&&(it={currentLocation:R,nextLocation:S.location})}else if(F){let dt=z.get(S.location.pathname);dt?dt.add(R.pathname):(dt=new Set([R.pathname]),z.set(S.location.pathname,dt)),it={currentLocation:S.location,nextLocation:R}}Xe(Tt({},j,{actionData:ae,loaderData:_e,historyAction:P,location:R,initialized:!0,navigation:Jp,revalidation:"idle",restoreScrollPosition:d0(R,j.matches||S.matches),preventScrollReset:ge,blockers:me}),{viewTransitionOpts:it,flushSync:xe===!0}),P=Wt.Pop,T=!1,F=!1,Y=!1,X=!1,Q=[]}async function Et(R,j){if(typeof R=="number"){t.history.go(R);return}let L=Hg(S.location,S.matches,l,d.v7_prependBasename,R,d.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:H,submission:de,error:xe}=kw(d.v7_normalizeFormMethod,!1,L,j),Te=S.location,ae=iu(S.location,H,j&&j.state);ae=Tt({},ae,t.history.encodeLocation(ae));let _e=j&&j.replace!=null?j.replace:void 0,me=Wt.Push;_e===!0?me=Wt.Replace:_e===!1||de!=null&&Fn(de.formMethod)&&de.formAction===S.location.pathname+S.location.search&&(me=Wt.Replace);let ge=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,it=(j&&j.unstable_flushSync)===!0,dt=qr({currentLocation:Te,nextLocation:ae,historyAction:me});if(dt){Er(dt,{state:"blocked",location:ae,proceed(){Er(dt,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Et(R,j)},reset(){let wt=new Map(S.blockers);wt.set(dt,tc),Xe({blockers:wt})}});return}return await k(me,ae,{submission:de,pendingError:xe,preventScrollReset:ge,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition,flushSync:it})}function rr(){if(mn(),Xe({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){k(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}k(P||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:F===!0})}}async function k(R,j,L){U&&U.abort(),U=null,P=R,Y=(L&&L.startUninterruptedRevalidation)===!0,SR(S.location,S.matches),T=(L&&L.preventScrollReset)===!0,F=(L&&L.enableViewTransition)===!0;let H=a||o,de=L&&L.overrideNavigation,xe=vo(H,j,l),Te=(L&&L.flushSync)===!0,ae=ld(xe,H,j.pathname);if(ae.active&&ae.matches&&(xe=ae.matches),!xe){let{error:Je,notFoundMatches:nr,route:Vt}=ri(j.pathname);Ct(j,{matches:nr,loaderData:{},errors:{[Vt.id]:Je}},{flushSync:Te});return}if(S.initialized&&!X&&z2(S.location,j)&&!(L&&L.submission&&Fn(L.submission.formMethod))){Ct(j,{matches:xe},{flushSync:Te});return}U=new AbortController;let _e=ca(t.history,j,U.signal,L&&L.submission),me;if(L&&L.pendingError)me=[Na(xe).route.id,{type:pt.error,error:L.pendingError}];else if(L&&L.submission&&Fn(L.submission.formMethod)){let Je=await I(_e,j,L.submission,xe,ae.active,{replace:L.replace,flushSync:Te});if(Je.shortCircuited)return;if(Je.pendingActionResult){let[nr,Vt]=Je.pendingActionResult;if(rn(Vt)&&Bf(Vt.error)&&Vt.error.status===404){U=null,Ct(j,{matches:Je.matches,loaderData:{},errors:{[nr]:Vt.error}});return}}xe=Je.matches||xe,me=Je.pendingActionResult,de=em(j,L.submission),Te=!1,ae.active=!1,_e=ca(t.history,_e.url,_e.signal)}let{shortCircuited:ge,matches:it,loaderData:dt,errors:wt}=await $(_e,j,xe,ae.active,de,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,Te,me);ge||(U=null,Ct(j,Tt({matches:it||xe},Ow(me),{loaderData:dt,errors:wt})))}async function I(R,j,L,H,de,xe){xe===void 0&&(xe={}),mn();let Te=X2(j,L);if(Xe({navigation:Te},{flushSync:xe.flushSync===!0}),de){let me=await cd(H,j.pathname,R.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ge,error:it}=oa(j.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ge,{type:pt.error,error:it}]}}else if(me.matches)H=me.matches;else{let{notFoundMatches:ge,error:it,route:dt}=ri(j.pathname);return{matches:ge,pendingActionResult:[dt.id,{type:pt.error,error:it}]}}}let ae,_e=gc(H,j);if(!_e.route.action&&!_e.route.lazy)ae={type:pt.error,error:kr(405,{method:R.method,pathname:j.pathname,routeId:_e.route.id})};else if(ae=(await st("action",S,R,[_e],H,null))[_e.route.id],R.signal.aborted)return{shortCircuited:!0};if(So(ae)){let me;return xe&&xe.replace!=null?me=xe.replace:me=Mw(ae.response.headers.get("Location"),new URL(R.url),l)===S.location.pathname+S.location.search,await at(R,ae,!0,{submission:L,replace:me}),{shortCircuited:!0}}if(ki(ae))throw kr(400,{type:"defer-action"});if(rn(ae)){let me=Na(H,_e.route.id);return(xe&&xe.replace)!==!0&&(P=Wt.Push),{matches:H,pendingActionResult:[me.route.id,ae]}}return{matches:H,pendingActionResult:[_e.route.id,ae]}}async function $(R,j,L,H,de,xe,Te,ae,_e,me,ge){let it=de||em(j,xe),dt=xe||Te||Fw(it),wt=!Y&&(!d.v7_partialHydration||!_e);if(H){if(wt){let It=oe(ge);Xe(Tt({navigation:it},It!==void 0?{actionData:It}:{}),{flushSync:me})}let Le=await cd(L,j.pathname,R.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let{boundaryId:It,error:Zr}=oa(j.pathname,Le);return{matches:Le.partialMatches,loaderData:{},errors:{[It]:Zr}}}else if(Le.matches)L=Le.matches;else{let{error:It,notFoundMatches:Zr,route:Ot}=ri(j.pathname);return{matches:Zr,loaderData:{},errors:{[Ot.id]:It}}}}let Je=a||o,[nr,Vt]=Tw(t.history,S,L,dt,j,d.v7_partialHydration&&_e===!0,d.v7_skipActionErrorRevalidation,X,Q,D,re,ie,G,Je,l,ge);if(Cp(Le=>!(L&&L.some(It=>It.route.id===Le))||nr&&nr.some(It=>It.route.id===Le)),ee=++V,nr.length===0&&Vt.length===0){let Le=ad();return Ct(j,Tt({matches:L,loaderData:{},errors:ge&&rn(ge[1])?{[ge[0]]:ge[1].error}:null},Ow(ge),Le?{fetchers:new Map(S.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(wt){let Le={};if(!H){Le.navigation=it;let It=oe(ge);It!==void 0&&(Le.actionData=It)}Vt.length>0&&(Le.fetchers=ne(Vt)),Xe(Le,{flushSync:me})}Vt.forEach(Le=>{O.has(Le.key)&&Cr(Le.key),Le.controller&&O.set(Le.key,Le.controller)});let Gl=()=>Vt.forEach(Le=>Cr(Le.key));U&&U.signal.addEventListener("abort",Gl);let{loaderResults:_s,fetcherResults:aa}=await Kr(S,L,nr,Vt,R);if(R.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Gl),Vt.forEach(Le=>O.delete(Le.key));let ni=jd(_s);if(ni)return await at(R,ni.result,!0,{replace:ae}),{shortCircuited:!0};if(ni=jd(aa),ni)return G.add(ni.key),await at(R,ni.result,!0,{replace:ae}),{shortCircuited:!0};let{loaderData:ud,errors:Ss}=Nw(S,L,nr,_s,ge,Vt,aa,J);J.forEach((Le,It)=>{Le.subscribe(Zr=>{(Zr||Le.done)&&J.delete(It)})}),d.v7_partialHydration&&_e&&S.errors&&Object.entries(S.errors).filter(Le=>{let[It]=Le;return!nr.some(Zr=>Zr.route.id===It)}).forEach(Le=>{let[It,Zr]=Le;Ss=Object.assign(Ss||{},{[It]:Zr})});let dd=ad(),hd=Me(ee),fd=dd||hd||Vt.length>0;return Tt({matches:L,loaderData:ud,errors:Ss},fd?{fetchers:new Map(S.fetchers)}:{})}function oe(R){if(R&&!rn(R[1]))return{[R[0]]:R[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function ne(R){return R.forEach(j=>{let L=S.fetchers.get(j.key),H=rc(void 0,L?L.data:void 0);S.fetchers.set(j.key,H)}),new Map(S.fetchers)}function q(R,j,L,H){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(R)&&Cr(R);let de=(H&&H.unstable_flushSync)===!0,xe=a||o,Te=Hg(S.location,S.matches,l,d.v7_prependBasename,L,d.v7_relativeSplatPath,j,H==null?void 0:H.relative),ae=vo(xe,Te,l),_e=ld(ae,xe,Te);if(_e.active&&_e.matches&&(ae=_e.matches),!ae){Sr(R,j,kr(404,{pathname:Te}),{flushSync:de});return}let{path:me,submission:ge,error:it}=kw(d.v7_normalizeFormMethod,!0,Te,H);if(it){Sr(R,j,it,{flushSync:de});return}let dt=gc(ae,me);if(T=(H&&H.preventScrollReset)===!0,ge&&Fn(ge.formMethod)){pe(R,j,me,dt,ae,_e.active,de,ge);return}ie.set(R,{routeId:j,path:me}),qe(R,j,me,dt,ae,_e.active,de,ge)}async function pe(R,j,L,H,de,xe,Te,ae){mn(),ie.delete(R);function _e(Ot){if(!Ot.route.action&&!Ot.route.lazy){let Cs=kr(405,{method:ae.formMethod,pathname:L,routeId:j});return Sr(R,j,Cs,{flushSync:Te}),!0}return!1}if(!xe&&_e(H))return;let me=S.fetchers.get(R);_r(R,K2(ae,me),{flushSync:Te});let ge=new AbortController,it=ca(t.history,L,ge.signal,ae);if(xe){let Ot=await cd(de,L,it.signal);if(Ot.type==="aborted")return;if(Ot.type==="error"){let{error:Cs}=oa(L,Ot);Sr(R,j,Cs,{flushSync:Te});return}else if(Ot.matches){if(de=Ot.matches,H=gc(de,L),_e(H))return}else{Sr(R,j,kr(404,{pathname:L}),{flushSync:Te});return}}O.set(R,ge);let dt=V,Je=(await st("action",S,it,[H],de,R))[H.route.id];if(it.signal.aborted){O.get(R)===ge&&O.delete(R);return}if(d.v7_fetcherPersist&&re.has(R)){if(So(Je)||rn(Je)){_r(R,ai(void 0));return}}else{if(So(Je))if(O.delete(R),ee>dt){_r(R,ai(void 0));return}else return G.add(R),_r(R,rc(ae)),at(it,Je,!1,{fetcherSubmission:ae});if(rn(Je)){Sr(R,j,Je.error);return}}if(ki(Je))throw kr(400,{type:"defer-action"});let nr=S.navigation.location||S.location,Vt=ca(t.history,nr,ge.signal),Gl=a||o,_s=S.navigation.state!=="idle"?vo(Gl,S.navigation.location,l):S.matches;Ue(_s,"Didn't find any matches after fetcher action");let aa=++V;N.set(R,aa);let ni=rc(ae,Je.data);S.fetchers.set(R,ni);let[ud,Ss]=Tw(t.history,S,_s,ae,nr,!1,d.v7_skipActionErrorRevalidation,X,Q,D,re,ie,G,Gl,l,[H.route.id,Je]);Ss.filter(Ot=>Ot.key!==R).forEach(Ot=>{let Cs=Ot.key,f0=S.fetchers.get(Cs),PR=rc(void 0,f0?f0.data:void 0);S.fetchers.set(Cs,PR),O.has(Cs)&&Cr(Cs),Ot.controller&&O.set(Cs,Ot.controller)}),Xe({fetchers:new Map(S.fetchers)});let dd=()=>Ss.forEach(Ot=>Cr(Ot.key));ge.signal.addEventListener("abort",dd);let{loaderResults:hd,fetcherResults:fd}=await Kr(S,_s,ud,Ss,Vt);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",dd),N.delete(R),O.delete(R),Ss.forEach(Ot=>O.delete(Ot.key));let Le=jd(hd);if(Le)return at(Vt,Le.result,!1);if(Le=jd(fd),Le)return G.add(Le.key),at(Vt,Le.result,!1);let{loaderData:It,errors:Zr}=Nw(S,_s,ud,hd,void 0,Ss,fd,J);if(S.fetchers.has(R)){let Ot=ai(Je.data);S.fetchers.set(R,Ot)}Me(aa),S.navigation.state==="loading"&&aa>ee?(Ue(P,"Expected pending action"),U&&U.abort(),Ct(S.navigation.location,{matches:_s,loaderData:It,errors:Zr,fetchers:new Map(S.fetchers)})):(Xe({errors:Zr,loaderData:Iw(S.loaderData,It,_s,Zr),fetchers:new Map(S.fetchers)}),X=!1)}async function qe(R,j,L,H,de,xe,Te,ae){let _e=S.fetchers.get(R);_r(R,rc(ae,_e?_e.data:void 0),{flushSync:Te});let me=new AbortController,ge=ca(t.history,L,me.signal);if(xe){let Je=await cd(de,L,ge.signal);if(Je.type==="aborted")return;if(Je.type==="error"){let{error:nr}=oa(L,Je);Sr(R,j,nr,{flushSync:Te});return}else if(Je.matches)de=Je.matches,H=gc(de,L);else{Sr(R,j,kr(404,{pathname:L}),{flushSync:Te});return}}O.set(R,me);let it=V,wt=(await st("loader",S,ge,[H],de,R))[H.route.id];if(ki(wt)&&(wt=await ex(wt,ge.signal,!0)||wt),O.get(R)===me&&O.delete(R),!ge.signal.aborted){if(re.has(R)){_r(R,ai(void 0));return}if(So(wt))if(ee>it){_r(R,ai(void 0));return}else{G.add(R),await at(ge,wt,!1);return}if(rn(wt)){Sr(R,j,wt.error);return}Ue(!ki(wt),"Unhandled fetcher deferred data"),_r(R,ai(wt.data))}}async function at(R,j,L,H){let{submission:de,fetcherSubmission:xe,replace:Te}=H===void 0?{}:H;j.response.headers.has("X-Remix-Revalidate")&&(X=!0);let ae=j.response.headers.get("Location");Ue(ae,"Expected a Location header on the redirect Response"),ae=Mw(ae,new URL(R.url),l);let _e=iu(S.location,ae,{_isRedirect:!0});if(r){let Je=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Je=!0;else if(Jv.test(ae)){const nr=t.history.createURL(ae);Je=nr.origin!==e.location.origin||Nl(nr.pathname,l)==null}if(Je){Te?e.location.replace(ae):e.location.assign(ae);return}}U=null;let me=Te===!0||j.response.headers.has("X-Remix-Replace")?Wt.Replace:Wt.Push,{formMethod:ge,formAction:it,formEncType:dt}=S.navigation;!de&&!xe&&ge&&it&&dt&&(de=Fw(S.navigation));let wt=de||xe;if(P2.has(j.response.status)&&wt&&Fn(wt.formMethod))await k(me,_e,{submission:Tt({},wt,{formAction:ae}),preventScrollReset:T,enableViewTransition:L?F:void 0});else{let Je=em(_e,de);await k(me,_e,{overrideNavigation:Je,fetcherSubmission:xe,preventScrollReset:T,enableViewTransition:L?F:void 0})}}async function st(R,j,L,H,de,xe){let Te,ae={};try{Te=await D2(c,R,j,L,H,de,xe,i,s)}catch(_e){return H.forEach(me=>{ae[me.route.id]={type:pt.error,error:_e}}),ae}for(let[_e,me]of Object.entries(Te))if(V2(me)){let ge=me.result;ae[_e]={type:pt.redirect,response:$2(ge,L,_e,de,l,d.v7_relativeSplatPath)}}else ae[_e]=await F2(me);return ae}async function Kr(R,j,L,H,de){let xe=R.matches,Te=st("loader",R,de,L,j,null),ae=Promise.all(H.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let dt=(await st("loader",R,ca(t.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:dt}}else return Promise.resolve({[ge.key]:{type:pt.error,error:kr(404,{pathname:ge.path})}})})),_e=await Te,me=(await ae).reduce((ge,it)=>Object.assign(ge,it),{});return await Promise.all([G2(j,_e,de.signal,xe,R.loaderData),Y2(j,me,H)]),{loaderResults:_e,fetcherResults:me}}function mn(){X=!0,Q.push(...Cp()),ie.forEach((R,j)=>{O.has(j)&&(D.add(j),Cr(j))})}function _r(R,j,L){L===void 0&&(L={}),S.fetchers.set(R,j),Xe({fetchers:new Map(S.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Sr(R,j,L,H){H===void 0&&(H={});let de=Na(S.matches,j);ts(R),Xe({errors:{[de.route.id]:L},fetchers:new Map(S.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function co(R){return d.v7_fetcherPersist&&(te.set(R,(te.get(R)||0)+1),re.has(R)&&re.delete(R)),S.fetchers.get(R)||A2}function ts(R){let j=S.fetchers.get(R);O.has(R)&&!(j&&j.state==="loading"&&N.has(R))&&Cr(R),ie.delete(R),N.delete(R),G.delete(R),re.delete(R),D.delete(R),S.fetchers.delete(R)}function Hl(R){if(d.v7_fetcherPersist){let j=(te.get(R)||0)-1;j<=0?(te.delete(R),re.add(R)):te.set(R,j)}else ts(R);Xe({fetchers:new Map(S.fetchers)})}function Cr(R){let j=O.get(R);Ue(j,"Expected fetch controller: "+R),j.abort(),O.delete(R)}function Mn(R){for(let j of R){let L=co(j),H=ai(L.data);S.fetchers.set(j,H)}}function ad(){let R=[],j=!1;for(let L of G){let H=S.fetchers.get(L);Ue(H,"Expected fetcher: "+L),H.state==="loading"&&(G.delete(L),R.push(L),j=!0)}return Mn(R),j}function Me(R){let j=[];for(let[L,H]of N)if(H<R){let de=S.fetchers.get(L);Ue(de,"Expected fetcher: "+L),de.state==="loading"&&(Cr(L),N.delete(L),j.push(L))}return Mn(j),j.length>0}function gt(R,j){let L=S.blockers.get(R)||tc;return fe.get(R)!==j&&fe.set(R,j),L}function ut(R){S.blockers.delete(R),fe.delete(R)}function Er(R,j){let L=S.blockers.get(R)||tc;Ue(L.state==="unblocked"&&j.state==="blocked"||L.state==="blocked"&&j.state==="blocked"||L.state==="blocked"&&j.state==="proceeding"||L.state==="blocked"&&j.state==="unblocked"||L.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+j.state);let H=new Map(S.blockers);H.set(R,j),Xe({blockers:H})}function qr(R){let{currentLocation:j,nextLocation:L,historyAction:H}=R;if(fe.size===0)return;fe.size>1&&Bo(!1,"A router only supports one blocker at a time");let de=Array.from(fe.entries()),[xe,Te]=de[de.length-1],ae=S.blockers.get(xe);if(!(ae&&ae.state==="proceeding")&&Te({currentLocation:j,nextLocation:L,historyAction:H}))return xe}function ri(R){let j=kr(404,{pathname:R}),L=a||o,{matches:H,route:de}=Dw(L);return Cp(),{notFoundMatches:H,route:de,error:j}}function oa(R,j){return{boundaryId:Na(j.partialMatches).route.id,error:kr(400,{type:"route-discovery",pathname:R,message:j.error!=null&&"message"in j.error?j.error:String(j.error)})}}function Cp(R){let j=[];return J.forEach((L,H)=>{(!R||R(H))&&(L.cancel(),j.push(H),J.delete(H))}),j}function _R(R,j,L){if(w=R,v=j,x=L||null,!b&&S.navigation===Jp){b=!0;let H=d0(S.location,S.matches);H!=null&&Xe({restoreScrollPosition:H})}return()=>{w=null,v=null,x=null}}function u0(R,j){return x&&x(R,j.map(H=>s2(H,S.loaderData)))||R.key}function SR(R,j){if(w&&v){let L=u0(R,j);w[L]=v()}}function d0(R,j){if(w){let L=u0(R,j),H=w[L];if(typeof H=="number")return H}return null}function ld(R,j,L){if(u){if(g.has(L))return{active:!1,matches:R};if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:gh(j,L,l,!0)}}else return{active:!0,matches:gh(j,L,l,!0)||[]}}return{active:!1,matches:null}}async function cd(R,j,L){let H=R;for(;;){let de=a==null,xe=a||o;try{await N2(u,j,H,xe,i,s,Ie,L)}catch(_e){return{type:"error",error:_e,partialMatches:H}}finally{de&&(o=[...o])}if(L.aborted)return{type:"aborted"};let Te=vo(xe,j,l);if(Te)return h0(j,g),{type:"success",matches:Te};let ae=gh(xe,j,l,!0);if(!ae||H.length===ae.length&&H.every((_e,me)=>_e.route.id===ae[me].route.id))return h0(j,g),{type:"success",matches:null};H=ae}}function h0(R,j){if(j.size>=y){let L=j.values().next().value;j.delete(L)}j.add(R)}function CR(R){i={},a=ou(R,s,void 0,i)}function ER(R,j){let L=a==null;MC(R,j,a||o,i,s),L&&(o=[...o],Xe({}))}return E={get basename(){return l},get future(){return d},get state(){return S},get routes(){return o},get window(){return e},initialize:ze,subscribe:xt,enableScrollRestoration:_R,navigate:Et,fetch:q,revalidate:rr,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:co,deleteFetcher:Hl,dispose:Oe,getBlocker:gt,deleteBlocker:ut,patchRoutes:ER,_internalFetchControllers:O,_internalActiveDeferreds:J,_internalSetRoutes:CR},E}function R2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Hg(t,e,r,n,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Qv(s||".",Zv(l,i),Nl(t.pathname,r)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!tx(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Ls([r,u.pathname])),zo(u)}function kw(t,e,r,n){if(!n||!R2(n))return{path:r};if(n.formMethod&&!H2(n.formMethod))return{path:r,error:kr(405,{method:n.formMethod})};let s=()=>({path:r,error:kr(400,{type:"invalid-body"})}),i=n.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=jC(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fn(o))return s();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,y)=>{let[g,w]=y;return""+m+g+"="+w+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Fn(o))return s();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Gg(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Gg(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=jw(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=jw(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Fn(u.formMethod))return{path:r,submission:u};let d=Zs(r);return e&&d.search&&tx(d.search)&&l.append("index",""),d.search="?"+l,{path:zo(d),submission:u}}function M2(t,e){let r=t;if(e){let n=t.findIndex(s=>s.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function Tw(t,e,r,n,s,i,o,a,l,c,u,d,h,m,y,g){let w=g?rn(g[1])?g[1].error:g[1].data:void 0,x=t.createURL(e.location),v=t.createURL(s),b=g&&rn(g[1])?g[0]:void 0,_=b?M2(r,b):r,C=g?g[1].statusCode:void 0,A=o&&C&&C>=400,E=_.filter((P,T)=>{let{route:U}=P;if(U.lazy)return!0;if(U.loader==null)return!1;if(i)return typeof U.loader!="function"||U.loader.hydrate?!0:e.loaderData[U.id]===void 0&&(!e.errors||e.errors[U.id]===void 0);if(j2(e.loaderData,e.matches[T],P)||l.some(B=>B===P.route.id))return!0;let F=e.matches[T],z=P;return Rw(P,Tt({currentUrl:x,currentParams:F.params,nextUrl:v,nextParams:z.params},n,{actionResult:w,actionStatus:C,defaultShouldRevalidate:A?!1:a||x.pathname+x.search===v.pathname+v.search||x.search!==v.search||RC(F,z)}))}),S=[];return d.forEach((P,T)=>{if(i||!r.some(Y=>Y.route.id===P.routeId)||u.has(T))return;let U=vo(m,P.path,y);if(!U){S.push({key:T,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(T),z=gc(U,P.path),B=!1;h.has(T)?B=!1:c.has(T)?(c.delete(T),B=!0):F&&F.state!=="idle"&&F.data===void 0?B=a:B=Rw(z,Tt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:w,actionStatus:C,defaultShouldRevalidate:A?!1:a})),B&&S.push({key:T,routeId:P.routeId,path:P.path,matches:U,match:z,controller:new AbortController})}),[E,S]}function j2(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function RC(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rw(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function N2(t,e,r,n,s,i,o,a){let l=[e,...r.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:r,patch:(u,d)=>{a.aborted||MC(u,d,n,s,i)}}),o.set(l,c)),c&&U2(c)&&await c}finally{o.delete(l)}}function MC(t,e,r,n,s){if(t){var i;let o=n[t];Ue(o,"No route found to patch children into: routeId = "+t);let a=ou(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],n);o.children?o.children.push(...a):o.children=a}else{let o=ou(e,s,["patch",String(r.length||"0")],n);r.push(...o)}}async function I2(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Ue(s,"No route found in manifest");let i={};for(let o in n){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Bo(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!r2.has(o)&&(i[o]=n[o])}Object.assign(s,i),Object.assign(s,Tt({},e(s),{lazy:void 0}))}async function O2(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[r[o].route.id]:i}),{})}async function D2(t,e,r,n,s,i,o,a,l,c){let u=i.map(m=>m.route.lazy?I2(m.route,l,a):void 0),d=i.map((m,y)=>{let g=u[y],w=s.some(v=>v.route.id===m.route.id);return Tt({},m,{shouldLoad:w,resolve:async v=>(v&&n.method==="GET"&&(m.route.lazy||m.route.loader)&&(w=!0),w?L2(e,n,m,g,v,c):Promise.resolve({type:pt.data,result:void 0}))})}),h=await t({matches:d,request:n,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function L2(t,e,r,n,s,i){let o,a,l=c=>{let u,d=new Promise((y,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let h=y=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:i},...y!==void 0?[y]:[]),m=(async()=>{try{return{type:"data",result:await(s?s(g=>h(g)):h())}}catch(y){return{type:"error",result:y}}})();return Promise.race([m,d])};try{let c=r.route[t];if(n)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),n]);if(u!==void 0)throw u;o=d}else if(await n,c=r.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw kr(405,{method:e.method,pathname:d,routeId:r.route.id})}else return{type:pt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw kr(404,{pathname:d})}Ue(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:pt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function F2(t){let{result:e,type:r}=t;if(NC(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:pt.error,error:u}}return r===pt.error?{type:pt.error,error:new Yh(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:pt.data,data:c,statusCode:e.status,headers:e.headers}}if(r===pt.error){if(Lw(e)){var n;if(e.data instanceof Error){var s;return{type:pt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Yh(((n=e.init)==null?void 0:n.status)||500,void 0,e.data)}return{type:pt.error,error:e,statusCode:Bf(e)?e.status:void 0}}if(W2(e)){var i,o;return{type:pt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Lw(e)){var a,l;return{type:pt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:pt.data,data:e}}function $2(t,e,r,n,s,i){let o=t.headers.get("Location");if(Ue(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jv.test(o)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=Hg(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function Mw(t,e,r){if(Jv.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=Nl(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function ca(t,e,r,n){let s=t.createURL(jC(e)).toString(),i={signal:r};if(n&&Fn(n.formMethod)){let{formMethod:o,formEncType:a}=n;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(n.json)):a==="text/plain"?i.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?i.body=Gg(n.formData):i.body=n.formData}return new Request(s,i)}function Gg(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function jw(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function B2(t,e,r,n,s){let i={},o=null,a,l=!1,c={},u=r&&rn(r[1])?r[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,m=e[h];if(Ue(!So(m),"Cannot handle redirect results in processLoaderData"),rn(m)){let y=m.error;u!==void 0&&(y=u,u=void 0),o=o||{};{let g=Na(t,h);o[g.route.id]==null&&(o[g.route.id]=y)}i[h]=void 0,l||(l=!0,a=Bf(m.error)?m.error.status:500),m.headers&&(c[h]=m.headers)}else ki(m)?(n.set(h,m.deferredData),i[h]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[h]=m.headers)):(i[h]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[h]=m.headers))}),u!==void 0&&r&&(o={[r[0]]:u},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Nw(t,e,r,n,s,i,o,a){let{loaderData:l,errors:c}=B2(e,n,s,a);return i.forEach(u=>{let{key:d,match:h,controller:m}=u,y=o[d];if(Ue(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(rn(y)){let g=Na(t.matches,h==null?void 0:h.route.id);c&&c[g.route.id]||(c=Tt({},c,{[g.route.id]:y.error})),t.fetchers.delete(d)}else if(So(y))Ue(!1,"Unhandled fetcher revalidation redirect");else if(ki(y))Ue(!1,"Unhandled fetcher deferred data");else{let g=ai(y.data);t.fetchers.set(d,g)}}),{loaderData:l,errors:c}}function Iw(t,e,r,n){let s=Tt({},e);for(let i of r){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),n&&n.hasOwnProperty(o))break}return s}function Ow(t){return t?rn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Na(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Dw(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kr(t,e){let{pathname:r,routeId:n,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+r+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Yh(t||500,a,new Error(l),!0)}function jd(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(So(s))return{key:n,result:s}}}function jC(t){let e=typeof t=="string"?Zs(t):t;return zo(Tt({},e,{hash:""}))}function z2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function U2(t){return typeof t=="object"&&t!=null&&"then"in t}function V2(t){return NC(t.result)&&E2.has(t.result.status)}function ki(t){return t.type===pt.deferred}function rn(t){return t.type===pt.error}function So(t){return(t&&t.type)===pt.redirect}function Lw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function W2(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function NC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function H2(t){return C2.has(t.toLowerCase())}function Fn(t){return _2.has(t.toLowerCase())}async function G2(t,e,r,n,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=n.find(h=>h.route.id===c.route.id),d=u!=null&&!RC(u,c)&&(s&&s[c.route.id])!==void 0;ki(l)&&d&&await ex(l,r,!1).then(h=>{h&&(e[a]=h)})}}async function Y2(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:o}=r[n],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&ki(a)&&(Ue(o,"Expected an AbortController for revalidating fetcher deferred result"),await ex(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function ex(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:pt.error,error:s}}return{type:pt.data,data:t.deferredData.data}}}function tx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function gc(t,e){let r=typeof e=="string"?Zs(e).search:e.search;if(t[t.length-1].route.index&&tx(r||""))return t[t.length-1];let n=AC(t);return n[n.length-1]}function Fw(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:o}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function em(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function X2(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function K2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ai(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function q2(t,e){try{let r=t.sessionStorage.getItem(TC);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Z2(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(TC,JSON.stringify(r))}catch(n){Bo(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xh.apply(this,arguments)}const zf=p.createContext(null),IC=p.createContext(null),na=p.createContext(null),rx=p.createContext(null),Qs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),OC=p.createContext(null);function Q2(t,e){let{relative:r}=e===void 0?{}:e;Hu()||Ue(!1);let{basename:n,navigator:s}=p.useContext(na),{hash:i,pathname:o,search:a}=LC(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ls([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Hu(){return p.useContext(rx)!=null}function Uf(){return Hu()||Ue(!1),p.useContext(rx).location}function DC(t){p.useContext(na).static||p.useLayoutEffect(t)}function eo(){let{isDataRoute:t}=p.useContext(Qs);return t?hN():J2()}function J2(){Hu()||Ue(!1);let t=p.useContext(zf),{basename:e,future:r,navigator:n}=p.useContext(na),{matches:s}=p.useContext(Qs),{pathname:i}=Uf(),o=JSON.stringify(Zv(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return DC(()=>{a.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Qv(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ls([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,i,t])}const eN=p.createContext(null);function tN(t){let e=p.useContext(Qs).outlet;return e&&p.createElement(eN.Provider,{value:t},e)}function Vf(){let{matches:t}=p.useContext(Qs),e=t[t.length-1];return e?e.params:{}}function LC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=p.useContext(na),{matches:s}=p.useContext(Qs),{pathname:i}=Uf(),o=JSON.stringify(Zv(s,n.v7_relativeSplatPath));return p.useMemo(()=>Qv(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function rN(t,e,r,n){Hu()||Ue(!1);let{navigator:s}=p.useContext(na),{matches:i}=p.useContext(Qs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Uf(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=vo(t,{pathname:h});return aN(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Ls([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Ls([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n)}function nN(){let t=dN(),e=Bf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),r?p.createElement("pre",{style:s},r):null,null)}const sN=p.createElement(nN,null);class iN extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?p.createElement(Qs.Provider,{value:this.props.routeContext},p.createElement(OC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oN(t){let{routeContext:e,match:r,children:n}=t,s=p.useContext(zf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Qs.Provider,{value:e},n)}function aN(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ue(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:m}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let m,y=!1,g=null,w=null;r&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||sN,l&&(c<0&&h===0?(y=!0,w=null):c===h&&(y=!0,w=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),v=()=>{let b;return m?b=g:y?b=w:d.route.Component?b=p.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,p.createElement(oN,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?p.createElement(iN,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var FC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FC||{}),Kh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kh||{});function lN(t){let e=p.useContext(zf);return e||Ue(!1),e}function cN(t){let e=p.useContext(IC);return e||Ue(!1),e}function uN(t){let e=p.useContext(Qs);return e||Ue(!1),e}function $C(t){let e=uN(),r=e.matches[e.matches.length-1];return r.route.id||Ue(!1),r.route.id}function dN(){var t;let e=p.useContext(OC),r=cN(Kh.UseRouteError),n=$C(Kh.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function hN(){let{router:t}=lN(FC.UseNavigateStable),e=$C(Kh.UseNavigateStable),r=p.useRef(!1);return DC(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xh({fromRouteId:e},i)))},[t,e])}function fN(t){return tN(t.context)}function pN(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Wt.Pop,navigator:i,static:o=!1,future:a}=t;Hu()&&Ue(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:i,static:o,future:Xh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Zs(n));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:y="default"}=n,g=p.useMemo(()=>{let w=Nl(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:y},navigationType:s}},[l,u,d,h,m,y,s]);return g==null?null:p.createElement(na.Provider,{value:c},p.createElement(rx.Provider,{children:r,value:g}))}new Promise(()=>{});function mN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:p.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:p.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:p.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},au.apply(this,arguments)}function gN(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function yN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vN(t,e){return t.button===0&&(!e||e==="_self")&&!yN(t)}const xN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],wN="6";try{window.__reactRouterVersion=wN}catch{}function bN(t,e){return T2({basename:e==null?void 0:e.basename,future:au({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Jj({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||_N(),routes:t,mapRouteProperties:mN,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function _N(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=au({},e,{errors:SN(e.errors)})),e}function SN(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new Yh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const CN=p.createContext({isTransitioning:!1}),EN=p.createContext(new Map),PN="startTransition",$w=ov[PN],AN="flushSync",Bw=Qj[AN];function kN(t){$w?$w(t):t()}function nc(t){Bw?Bw(t):t()}class TN{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function RN(t){let{fallbackElement:e,router:r,future:n}=t,[s,i]=p.useState(r.state),[o,a]=p.useState(),[l,c]=p.useState({isTransitioning:!1}),[u,d]=p.useState(),[h,m]=p.useState(),[y,g]=p.useState(),w=p.useRef(new Map),{v7_startTransition:x}=n||{},v=p.useCallback(S=>{x?kN(S):S()},[x]),b=p.useCallback((S,P)=>{let{deletedFetchers:T,unstable_flushSync:U,unstable_viewTransitionOpts:F}=P;T.forEach(B=>w.current.delete(B)),S.fetchers.forEach((B,Y)=>{B.data!==void 0&&w.current.set(Y,B.data)});let z=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!F||z){U?nc(()=>i(S)):v(()=>i(S));return}if(U){nc(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let B=r.window.document.startViewTransition(()=>{nc(()=>i(S))});B.finished.finally(()=>{nc(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),nc(()=>m(B));return}h?(u&&u.resolve(),h.skipTransition(),g({state:S,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(S),c({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[r.window,h,u,w,v]);p.useLayoutEffect(()=>r.subscribe(b),[r,b]),p.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new TN)},[l]),p.useEffect(()=>{if(u&&o&&r.window){let S=o,P=u.promise,T=r.window.document.startViewTransition(async()=>{v(()=>i(S)),await P});T.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(T)}},[v,o,u,r.window]),p.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,h,s.location,o]),p.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),g(void 0))},[l.isTransitioning,y]),p.useEffect(()=>{},[]);let _=p.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:S=>r.navigate(S),push:(S,P,T)=>r.navigate(S,{state:P,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(S,P,T)=>r.navigate(S,{replace:!0,state:P,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),C=r.basename||"/",A=p.useMemo(()=>({router:r,navigator:_,static:!1,basename:C}),[r,_,C]),E=p.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return p.createElement(p.Fragment,null,p.createElement(zf.Provider,{value:A},p.createElement(IC.Provider,{value:s},p.createElement(EN.Provider,{value:w.current},p.createElement(CN.Provider,{value:l},p.createElement(pN,{basename:C,location:s.location,navigationType:s.historyAction,navigator:_,future:E},s.initialized||r.future.v7_partialHydration?p.createElement(MN,{routes:r.routes,future:r.future,state:s}):e))))),null)}const MN=p.memo(jN);function jN(t){let{routes:e,future:r,state:n}=t;return rN(e,void 0,n,r)}const NN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=p.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=gN(e,xN),{basename:m}=p.useContext(na),y,g=!1;if(typeof c=="string"&&IN.test(c)&&(y=c,NN))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=Nl(_.pathname,m);_.origin===b.origin&&C!=null?c=C+_.search+_.hash:g=!0}catch{}let w=Q2(c,{relative:s}),x=ON(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function v(b){n&&n(b),b.defaultPrevented||x(b)}return p.createElement("a",au({},h,{href:y||w,onClick:g||i?n:v,ref:r,target:l}))});var zw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zw||(zw={}));var Uw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Uw||(Uw={}));function ON(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=eo(),c=Uf(),u=LC(t,{relative:o});return p.useCallback(d=>{if(vN(d,r)){d.preventDefault();let h=n!==void 0?n:zo(c)===zo(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,n,s,r,t,i,o,a])}var Vw=["light","dark"],DN="(prefers-color-scheme: dark)",LN=p.createContext(void 0),FN={setTheme:t=>{},themes:[]},$N=()=>{var t;return(t=p.useContext(LN))!=null?t:FN};p.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?Vw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,w=!0)=>{let x=o?o[y]:y,v=g?y+"|| ''":`'${x}'`,b="";return s&&w&&!g&&Vw.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||x?b+=`c.add(${v})`:b+="null":x&&(b+=`d[s](n,${v})`),b},m=t?`!function(){${u}${h(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${DN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var BN=t=>{switch(t){case"success":return VN;case"info":return HN;case"warning":return WN;case"error":return GN;default:return null}},zN=Array(12).fill(0),UN=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},zN.map((e,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),VN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),GN=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YN=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Yg=1,XN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Yg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async i=>{if(qN(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:r,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=e.finally)==null||i.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Yg++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},en=new XN,KN=(t,e)=>{let r=(e==null?void 0:e.id)||Yg++;return en.addToast({title:t,...e,id:r}),r},qN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ZN=KN,QN=()=>en.toasts;Object.assign(ZN,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:QN});function JN(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}JN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nd(t){return t.label!==void 0}var eI=3,tI="32px",rI=4e3,nI=356,sI=14,iI=20,oI=200;function aI(...t){return t.filter(Boolean).join(" ")}var lI=t=>{var e,r,n,s,i,o,a,l,c,u;let{invert:d,toast:h,unstyled:m,interacting:y,setHeights:g,visibleToasts:w,heights:x,index:v,toasts:b,expanded:_,removeToast:C,defaultRichColors:A,closeButton:E,style:S,cancelButtonStyle:P,actionButtonStyle:T,className:U="",descriptionClassName:F="",duration:z,position:B,gap:Y,loadingIcon:X,expandByDefault:Q,classNames:D,icons:O,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:ee,cn:N}=t,[G,ie]=W.useState(!1),[te,re]=W.useState(!1),[J,fe]=W.useState(!1),[Ie,Ae]=W.useState(!1),[ze,Oe]=W.useState(0),[xt,Xe]=W.useState(0),Ct=W.useRef(null),Et=W.useRef(null),rr=v===0,k=v+1<=w,I=h.type,$=h.dismissible!==!1,oe=h.className||"",ne=h.descriptionClassName||"",q=W.useMemo(()=>x.findIndex(Me=>Me.toastId===h.id)||0,[x,h.id]),pe=W.useMemo(()=>{var Me;return(Me=h.closeButton)!=null?Me:E},[h.closeButton,E]),qe=W.useMemo(()=>h.duration||z||rI,[h.duration,z]),at=W.useRef(0),st=W.useRef(0),Kr=W.useRef(0),mn=W.useRef(null),[_r,Sr]=B.split("-"),co=W.useMemo(()=>x.reduce((Me,gt,ut)=>ut>=q?Me:Me+gt.height,0),[x,q]),ts=YN(),Hl=h.invert||d,Cr=I==="loading";st.current=W.useMemo(()=>q*Y+co,[q,co]),W.useEffect(()=>{ie(!0)},[]),W.useLayoutEffect(()=>{if(!G)return;let Me=Et.current,gt=Me.style.height;Me.style.height="auto";let ut=Me.getBoundingClientRect().height;Me.style.height=gt,Xe(ut),g(Er=>Er.find(qr=>qr.toastId===h.id)?Er.map(qr=>qr.toastId===h.id?{...qr,height:ut}:qr):[{toastId:h.id,height:ut,position:h.position},...Er])},[G,h.title,h.description,g,h.id]);let Mn=W.useCallback(()=>{re(!0),Oe(st.current),g(Me=>Me.filter(gt=>gt.toastId!==h.id)),setTimeout(()=>{C(h)},oI)},[h,C,g,st]);W.useEffect(()=>{if(h.promise&&I==="loading"||h.duration===1/0||h.type==="loading")return;let Me,gt=qe;return _||y||ee&&ts?(()=>{if(Kr.current<at.current){let ut=new Date().getTime()-at.current;gt=gt-ut}Kr.current=new Date().getTime()})():gt!==1/0&&(at.current=new Date().getTime(),Me=setTimeout(()=>{var ut;(ut=h.onAutoClose)==null||ut.call(h,h),Mn()},gt)),()=>clearTimeout(Me)},[_,y,Q,h,qe,Mn,h.promise,I,ee,ts]),W.useEffect(()=>{let Me=Et.current;if(Me){let gt=Me.getBoundingClientRect().height;return Xe(gt),g(ut=>[{toastId:h.id,height:gt,position:h.position},...ut]),()=>g(ut=>ut.filter(Er=>Er.toastId!==h.id))}},[g,h.id]),W.useEffect(()=>{h.delete&&Mn()},[Mn,h.delete]);function ad(){return O!=null&&O.loading?W.createElement("div",{className:"sonner-loader","data-visible":I==="loading"},O.loading):X?W.createElement("div",{className:"sonner-loader","data-visible":I==="loading"},X):W.createElement(UN,{visible:I==="loading"})}return W.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Et,className:N(U,oe,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[I],(r=h==null?void 0:h.classNames)==null?void 0:r[I]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:A,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":G,"data-promise":!!h.promise,"data-removed":te,"data-visible":k,"data-y-position":_r,"data-x-position":Sr,"data-index":v,"data-front":rr,"data-swiping":J,"data-dismissible":$,"data-type":I,"data-invert":Hl,"data-swipe-out":Ie,"data-expanded":!!(_||Q&&G),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${te?ze:st.current}px`,"--initial-height":Q?"auto":`${xt}px`,...S,...h.style},onPointerDown:Me=>{Cr||!$||(Ct.current=new Date,Oe(st.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(fe(!0),mn.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,gt,ut,Er;if(Ie||!$)return;mn.current=null;let qr=Number(((Me=Et.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ri=new Date().getTime()-((gt=Ct.current)==null?void 0:gt.getTime()),oa=Math.abs(qr)/ri;if(Math.abs(qr)>=iI||oa>.11){Oe(st.current),(ut=h.onDismiss)==null||ut.call(h,h),Mn(),Ae(!0);return}(Er=Et.current)==null||Er.style.setProperty("--swipe-amount","0px"),fe(!1)},onPointerMove:Me=>{var gt;if(!mn.current||!$)return;let ut=Me.clientY-mn.current.y,Er=Me.clientX-mn.current.x,qr=(_r==="top"?Math.min:Math.max)(0,ut),ri=Me.pointerType==="touch"?10:2;Math.abs(qr)>ri?(gt=Et.current)==null||gt.style.setProperty("--swipe-amount",`${ut}px`):Math.abs(Er)>ri&&(mn.current=null)}},pe&&!h.jsx?W.createElement("button",{"aria-label":V,"data-disabled":Cr,"data-close-button":!0,onClick:Cr||!$?()=>{}:()=>{var Me;Mn(),(Me=h.onDismiss)==null||Me.call(h,h)},className:N(D==null?void 0:D.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||W.isValidElement(h.title)?h.jsx||h.title:W.createElement(W.Fragment,null,I||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:N(D==null?void 0:D.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ad():null,h.type!=="loading"?h.icon||(O==null?void 0:O[I])||BN(I):null):null,W.createElement("div",{"data-content":"",className:N(D==null?void 0:D.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:N(D==null?void 0:D.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?W.createElement("div",{"data-description":"",className:N(F,ne,D==null?void 0:D.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),W.isValidElement(h.cancel)?h.cancel:h.cancel&&Nd(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:Me=>{var gt,ut;Nd(h.cancel)&&$&&((ut=(gt=h.cancel).onClick)==null||ut.call(gt,Me),Mn())},className:N(D==null?void 0:D.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,W.isValidElement(h.action)?h.action:h.action&&Nd(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:Me=>{var gt,ut;Nd(h.action)&&(Me.defaultPrevented||((ut=(gt=h.action).onClick)==null||ut.call(gt,Me),Mn()))},className:N(D==null?void 0:D.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function Ww(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var cI=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:d,visibleToasts:h=eI,toastOptions:m,dir:y=Ww(),gap:g=sI,loadingIcon:w,icons:x,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:_=aI}=t,[C,A]=W.useState([]),E=W.useMemo(()=>Array.from(new Set([r].concat(C.filter(ee=>ee.position).map(ee=>ee.position)))),[C,r]),[S,P]=W.useState([]),[T,U]=W.useState(!1),[F,z]=W.useState(!1),[B,Y]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=W.useRef(null),Q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=W.useRef(null),O=W.useRef(!1),V=W.useCallback(ee=>{var N;(N=C.find(G=>G.id===ee.id))!=null&&N.delete||en.dismiss(ee.id),A(G=>G.filter(({id:ie})=>ie!==ee.id))},[C]);return W.useEffect(()=>en.subscribe(ee=>{if(ee.dismiss){A(N=>N.map(G=>G.id===ee.id?{...G,delete:!0}:G));return}setTimeout(()=>{$f.flushSync(()=>{A(N=>{let G=N.findIndex(ie=>ie.id===ee.id);return G!==-1?[...N.slice(0,G),{...N[G],...ee},...N.slice(G+1)]:[ee,...N]})})})}),[]),W.useEffect(()=>{if(l!=="system"){Y(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{Y(ee?"dark":"light")})},[l]),W.useEffect(()=>{C.length<=1&&U(!1)},[C]),W.useEffect(()=>{let ee=N=>{var G,ie;n.every(te=>N[te]||N.code===te)&&(U(!0),(G=X.current)==null||G.focus()),N.code==="Escape"&&(document.activeElement===X.current||(ie=X.current)!=null&&ie.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[n]),W.useEffect(()=>{if(X.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,O.current=!1)}},[X.current]),C.length?W.createElement("section",{"aria-label":`${v} ${Q}`,tabIndex:-1},E.map((ee,N)=>{var G;let[ie,te]=ee.split("-");return W.createElement("ol",{key:ee,dir:y==="auto"?Ww():y,tabIndex:-1,ref:X,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":ie,"data-x-position":te,style:{"--front-toast-height":`${((G=S[0])==null?void 0:G.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||tI,"--width":`${nI}px`,"--gap":`${g}px`,...d},onBlur:re=>{O.current&&!re.currentTarget.contains(re.relatedTarget)&&(O.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||O.current||(O.current=!0,D.current=re.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{F||U(!1)},onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},C.filter(re=>!re.position&&N===0||re.position===ee).map((re,J)=>{var fe,Ie;return W.createElement(lI,{key:re.id,icons:x,index:J,toast:re,defaultRichColors:c,duration:(fe=m==null?void 0:m.duration)!=null?fe:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Ie=m==null?void 0:m.closeButton)!=null?Ie:i,interacting:F,position:ee,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:V,toasts:C.filter(Ae=>Ae.position==re.position),heights:S.filter(Ae=>Ae.position==re.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:b,cn:_})}))})):null};const uI=({...t})=>{const{theme:e="system"}=$N();return f.jsx(cI,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Il=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uo=typeof window>"u"||"Deno"in globalThis;function yn(){}function dI(t,e){return typeof t=="function"?t(e):t}function Xg(t){return typeof t=="number"&&t>=0&&t!==1/0}function BC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wa(t,e){return typeof t=="function"?t(e):t}function Bn(t,e){return typeof t=="function"?t(e):t}function Hw(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==nx(o,e.options))return!1}else if(!lu(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Gw(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Vo(e.options.mutationKey)!==Vo(i))return!1}else if(!lu(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function nx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Vo)(t)}function Vo(t){return JSON.stringify(t,(e,r)=>Kg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function lu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!lu(t[r],e[r])):!1}function zC(t,e){if(t===e)return t;const r=Yw(t)&&Yw(e);if(r||Kg(t)&&Kg(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{};let l=0;for(let c=0;c<o;c++){const u=r?c:i[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=zC(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function qh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Yw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kg(t){if(!Xw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Xw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Xw(t){return Object.prototype.toString.call(t)==="[object Object]"}function hI(t){return new Promise(e=>{setTimeout(e,t)})}function qg(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?zC(t,e):e}function fI(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function pI(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var sx=Symbol();function UC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Eo,yi,Ja,t1,mI=(t1=class extends Il{constructor(){super();Se(this,Eo);Se(this,yi);Se(this,Ja);ce(this,Ja,e=>{if(!Uo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){M(this,yi)||this.setEventListener(M(this,Ja))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,yi))==null||e.call(this),ce(this,yi,void 0))}setEventListener(e){var r;ce(this,Ja,e),(r=M(this,yi))==null||r.call(this),ce(this,yi,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){M(this,Eo)!==e&&(ce(this,Eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof M(this,Eo)=="boolean"?M(this,Eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Eo=new WeakMap,yi=new WeakMap,Ja=new WeakMap,t1),ix=new mI,el,vi,tl,r1,gI=(r1=class extends Il{constructor(){super();Se(this,el,!0);Se(this,vi);Se(this,tl);ce(this,tl,e=>{if(!Uo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){M(this,vi)||this.setEventListener(M(this,tl))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,vi))==null||e.call(this),ce(this,vi,void 0))}setEventListener(e){var r;ce(this,tl,e),(r=M(this,vi))==null||r.call(this),ce(this,vi,e(this.setOnline.bind(this)))}setOnline(e){M(this,el)!==e&&(ce(this,el,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return M(this,el)}},el=new WeakMap,vi=new WeakMap,tl=new WeakMap,r1),Zh=new gI;function Zg(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function yI(t){return Math.min(1e3*2**t,3e4)}function VC(t){return(t??"online")==="online"?Zh.isOnline():!0}var WC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tm(t){return t instanceof WC}function HC(t){let e=!1,r=0,n=!1,s;const i=Zg(),o=g=>{var w;n||(h(new WC(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>ix.isFocused()&&(t.networkMode==="always"||Zh.isOnline())&&t.canRun(),u=()=>VC(t.networkMode)&&t.canRun(),d=g=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var w;s=x=>{(n||c())&&g(x)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(n)return;let g;const w=r===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(d).catch(x=>{var A;if(n)return;const v=t.retry??(Uo?0:3),b=t.retryDelay??yI,_=typeof b=="function"?b(r,x):b,C=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,x);if(e||!C){h(x);return}r++,(A=t.onFail)==null||A.call(t,r,x),hI(_).then(()=>c()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():m().then(y),i)}}function vI(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Zt=vI(),Po,n1,GC=(n1=class{constructor(){Se(this,Po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xg(this.gcTime)&&ce(this,Po,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uo?1/0:5*60*1e3))}clearGcTimeout(){M(this,Po)&&(clearTimeout(M(this,Po)),ce(this,Po,void 0))}},Po=new WeakMap,n1),rl,nl,gn,pr,Ou,Ao,Dn,ks,s1,xI=(s1=class extends GC{constructor(e){super();Se(this,Dn);Se(this,rl);Se(this,nl);Se(this,gn);Se(this,pr);Se(this,Ou);Se(this,Ao);ce(this,Ao,!1),ce(this,Ou,e.defaultOptions),this.setOptions(e.options),this.observers=[],ce(this,gn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ce(this,rl,wI(this.options)),this.state=e.state??M(this,rl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=M(this,pr))==null?void 0:e.promise}setOptions(e){this.options={...M(this,Ou),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,gn).remove(this)}setData(e,r){const n=qg(this.state.data,e,this.options);return Fe(this,Dn,ks).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Fe(this,Dn,ks).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=M(this,pr))==null?void 0:n.promise;return(s=M(this,pr))==null||s.cancel(e),r?r.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,rl))}isActive(){return this.observers.some(e=>Bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!BC(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=M(this,pr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=M(this,pr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),M(this,gn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(M(this,pr)&&(M(this,Ao)?M(this,pr).cancel({revert:!0}):M(this,pr).cancelRetry()),this.scheduleGc()),M(this,gn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,Dn,ks).call(this,{type:"invalidate"})}fetch(e,r){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,pr))return M(this,pr).continueRetry(),M(this,pr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ce(this,Ao,!0),n.signal)})},i=()=>{const d=UC(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),ce(this,Ao,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),ce(this,nl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Fe(this,Dn,ks).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,m,y,g;tm(d)&&d.silent||Fe(this,Dn,ks).call(this,{type:"error",error:d}),tm(d)||((m=(h=M(this,gn).config).onError)==null||m.call(h,d,this),(g=(y=M(this,gn).config).onSettled)==null||g.call(y,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ce(this,pr,HC({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,m,y,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){a(w);return}(m=(h=M(this,gn).config).onSuccess)==null||m.call(h,d,this),(g=(y=M(this,gn).config).onSettled)==null||g.call(y,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,h)=>{Fe(this,Dn,ks).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Fe(this,Dn,ks).call(this,{type:"pause"})},onContinue:()=>{Fe(this,Dn,ks).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),M(this,pr).start()}},rl=new WeakMap,nl=new WeakMap,gn=new WeakMap,pr=new WeakMap,Ou=new WeakMap,Ao=new WeakMap,Dn=new WeakSet,ks=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...YC(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return tm(s)&&s.revert&&M(this,nl)?{...M(this,nl),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),M(this,gn).notify({query:this,type:"updated",action:e})})},s1);function YC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var os,i1,bI=(i1=class extends Il{constructor(e={}){super();Se(this,os);this.config=e,ce(this,os,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??nx(s,r);let o=this.get(i);return o||(o=new xI({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,os).has(e.queryHash)||(M(this,os).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=M(this,os).get(e.queryHash);r&&(e.destroy(),r===e&&M(this,os).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,os).get(e)}getAll(){return[...M(this,os).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Hw(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Hw(e,n)):r}notify(e){Zt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},os=new WeakMap,i1),as,Pr,ko,ls,li,o1,_I=(o1=class extends GC{constructor(e){super();Se(this,ls);Se(this,as);Se(this,Pr);Se(this,ko);this.mutationId=e.mutationId,ce(this,Pr,e.mutationCache),ce(this,as,[]),this.state=e.state||XC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){M(this,as).includes(e)||(M(this,as).push(e),this.clearGcTimeout(),M(this,Pr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ce(this,as,M(this,as).filter(r=>r!==e)),this.scheduleGc(),M(this,Pr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){M(this,as).length||(this.state.status==="pending"?this.scheduleGc():M(this,Pr).remove(this))}continue(){var e;return((e=M(this,ko))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,h,m,y,g,w,x,v,b,_,C,A,E;ce(this,ko,HC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{Fe(this,ls,li).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{Fe(this,ls,li).call(this,{type:"pause"})},onContinue:()=>{Fe(this,ls,li).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Pr).canRun(this)}));const r=this.state.status==="pending",n=!M(this,ko).canStart();try{if(!r){Fe(this,ls,li).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=M(this,Pr).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Fe(this,ls,li).call(this,{type:"pending",context:P,variables:e,isPaused:n})}const S=await M(this,ko).start();return await((c=(l=M(this,Pr).config).onSuccess)==null?void 0:c.call(l,S,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,S,e,this.state.context)),await((m=(h=M(this,Pr).config).onSettled)==null?void 0:m.call(h,S,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,S,null,e,this.state.context)),Fe(this,ls,li).call(this,{type:"success",data:S}),S}catch(S){try{throw await((x=(w=M(this,Pr).config).onError)==null?void 0:x.call(w,S,e,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,S,e,this.state.context)),await((C=(_=M(this,Pr).config).onSettled)==null?void 0:C.call(_,void 0,S,this.state.variables,this.state.context,this)),await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,S,e,this.state.context)),S}finally{Fe(this,ls,li).call(this,{type:"error",error:S})}}finally{M(this,Pr).runNext(this)}}},as=new WeakMap,Pr=new WeakMap,ko=new WeakMap,ls=new WeakSet,li=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{M(this,as).forEach(n=>{n.onMutationUpdate(e)}),M(this,Pr).notify({mutation:this,type:"updated",action:e})})},o1);function XC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jr,Du,a1,SI=(a1=class extends Il{constructor(e={}){super();Se(this,Jr);Se(this,Du);this.config=e,ce(this,Jr,new Map),ce(this,Du,Date.now())}build(e,r,n){const s=new _I({mutationCache:this,mutationId:++pd(this,Du)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Id(e),n=M(this,Jr).get(r)??[];n.push(e),M(this,Jr).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Id(e);if(M(this,Jr).has(r)){const s=(n=M(this,Jr).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?M(this,Jr).delete(r):M(this,Jr).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=M(this,Jr).get(Id(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=M(this,Jr).get(Id(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...M(this,Jr).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Gw(r,n))}findAll(e={}){return this.getAll().filter(r=>Gw(e,r))}notify(e){Zt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Zt.batch(()=>Promise.all(e.map(r=>r.continue().catch(yn))))}},Jr=new WeakMap,Du=new WeakMap,a1);function Id(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Kw(t){return{onFetch:(e,r)=>{var u,d,h,m,y;const n=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=UC(e.options,e.fetchOptions),v=async(b,_,C)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const A={queryKey:e.queryKey,pageParam:_,direction:C?"backward":"forward",meta:e.options.meta};w(A);const E=await x(A),{maxPages:S}=e.options,P=C?pI:fI;return{pages:P(b.pages,E,S),pageParams:P(b.pageParams,_,S)}};if(s&&i.length){const b=s==="backward",_=b?CI:qw,C={pages:i,pageParams:o},A=_(n,C);a=await v(C,A,b)}else{const b=t??i.length;do{const _=l===0?o[0]??n.initialPageParam:qw(n,a);if(l>0&&_==null)break;a=await v(a,_),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function qw(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function CI(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Dt,xi,wi,sl,il,bi,ol,al,l1,EI=(l1=class{constructor(t={}){Se(this,Dt);Se(this,xi);Se(this,wi);Se(this,sl);Se(this,il);Se(this,bi);Se(this,ol);Se(this,al);ce(this,Dt,t.queryCache||new bI),ce(this,xi,t.mutationCache||new SI),ce(this,wi,t.defaultOptions||{}),ce(this,sl,new Map),ce(this,il,new Map),ce(this,bi,0)}mount(){pd(this,bi)._++,M(this,bi)===1&&(ce(this,ol,ix.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,Dt).onFocus())})),ce(this,al,Zh.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,Dt).onOnline())})))}unmount(){var t,e;pd(this,bi)._--,M(this,bi)===0&&((t=M(this,ol))==null||t.call(this),ce(this,ol,void 0),(e=M(this,al))==null||e.call(this),ce(this,al,void 0))}isFetching(t){return M(this,Dt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,xi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=M(this,Dt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=M(this,Dt).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Wa(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return M(this,Dt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=M(this,Dt).get(n.queryHash),i=s==null?void 0:s.state.data,o=dI(e,i);if(o!==void 0)return M(this,Dt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Zt.batch(()=>M(this,Dt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=M(this,Dt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=M(this,Dt);Zt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=M(this,Dt),n={type:"active",...t};return Zt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Zt.batch(()=>M(this,Dt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(yn).catch(yn)}invalidateQueries(t={},e={}){return Zt.batch(()=>{if(M(this,Dt).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Zt.batch(()=>M(this,Dt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=M(this,Dt).build(this,e);return r.isStaleByTime(Wa(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=Kw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=Kw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zh.isOnline()?M(this,xi).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Dt)}getMutationCache(){return M(this,xi)}getDefaultOptions(){return M(this,wi)}setDefaultOptions(t){ce(this,wi,t)}setQueryDefaults(t,e){M(this,sl).set(Vo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,sl).values()];let r={};return e.forEach(n=>{lu(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){M(this,il).set(Vo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,il).values()];let r={};return e.forEach(n=>{lu(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,wi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===sx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,wi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,Dt).clear(),M(this,xi).clear()}},Dt=new WeakMap,xi=new WeakMap,wi=new WeakMap,sl=new WeakMap,il=new WeakMap,bi=new WeakMap,ol=new WeakMap,al=new WeakMap,l1),Fr,Ze,Lu,Ar,To,ll,_i,cs,Fu,cl,ul,Ro,Mo,Si,dl,ct,yc,Qg,Jg,ey,ty,ry,ny,sy,KC,c1,PI=(c1=class extends Il{constructor(e,r){super();Se(this,ct);Se(this,Fr);Se(this,Ze);Se(this,Lu);Se(this,Ar);Se(this,To);Se(this,ll);Se(this,_i);Se(this,cs);Se(this,Fu);Se(this,cl);Se(this,ul);Se(this,Ro);Se(this,Mo);Se(this,Si);Se(this,dl,new Set);this.options=r,ce(this,Fr,e),ce(this,cs,null),ce(this,_i,Zg()),this.options.experimental_prefetchInRender||M(this,_i).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Ze).addObserver(this),Zw(M(this,Ze),this.options)?Fe(this,ct,yc).call(this):this.updateResult(),Fe(this,ct,ty).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return iy(M(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return iy(M(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,ct,ry).call(this),Fe(this,ct,ny).call(this),M(this,Ze).removeObserver(this)}setOptions(e,r){const n=this.options,s=M(this,Ze);if(this.options=M(this,Fr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bn(this.options.enabled,M(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,ct,sy).call(this),M(this,Ze).setOptions(this.options),n._defaulted&&!qh(this.options,n)&&M(this,Fr).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Ze),observer:this});const i=this.hasListeners();i&&Qw(M(this,Ze),s,this.options,n)&&Fe(this,ct,yc).call(this),this.updateResult(r),i&&(M(this,Ze)!==s||Bn(this.options.enabled,M(this,Ze))!==Bn(n.enabled,M(this,Ze))||Wa(this.options.staleTime,M(this,Ze))!==Wa(n.staleTime,M(this,Ze)))&&Fe(this,ct,Qg).call(this);const o=Fe(this,ct,Jg).call(this);i&&(M(this,Ze)!==s||Bn(this.options.enabled,M(this,Ze))!==Bn(n.enabled,M(this,Ze))||o!==M(this,Si))&&Fe(this,ct,ey).call(this,o)}getOptimisticResult(e){const r=M(this,Fr).getQueryCache().build(M(this,Fr),e),n=this.createResult(r,e);return kI(this,n)&&(ce(this,Ar,n),ce(this,ll,this.options),ce(this,To,M(this,Ze).state)),n}getCurrentResult(){return M(this,Ar)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){M(this,dl).add(e)}getCurrentQuery(){return M(this,Ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=M(this,Fr).defaultQueryOptions(e),n=M(this,Fr).getQueryCache().build(M(this,Fr),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Fe(this,ct,yc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Ar)))}createResult(e,r){var E;const n=M(this,Ze),s=this.options,i=M(this,Ar),o=M(this,To),a=M(this,ll),c=e!==n?e.state:M(this,Lu),{state:u}=e;let d={...u},h=!1,m;if(r._optimisticResults){const S=this.hasListeners(),P=!S&&Zw(e,r),T=S&&Qw(e,n,r,s);(P||T)&&(d={...d,...YC(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:w}=d;if(r.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&r.select===M(this,Fu))m=M(this,cl);else try{ce(this,Fu,r.select),m=r.select(d.data),m=qg(i==null?void 0:i.data,m,r),ce(this,cl,m),ce(this,cs,null)}catch(S){ce(this,cs,S)}else m=d.data;if(r.placeholderData!==void 0&&m===void 0&&w==="pending"){let S;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))S=i.data;else if(S=typeof r.placeholderData=="function"?r.placeholderData((E=M(this,ul))==null?void 0:E.state.data,M(this,ul)):r.placeholderData,r.select&&S!==void 0)try{S=r.select(S),ce(this,cs,null)}catch(P){ce(this,cs,P)}S!==void 0&&(w="success",m=qg(i==null?void 0:i.data,S,r),h=!0)}M(this,cs)&&(y=M(this,cs),m=M(this,cl),g=Date.now(),w="error");const x=d.fetchStatus==="fetching",v=w==="pending",b=w==="error",_=v&&x,C=m!==void 0;return{status:w,fetchStatus:d.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:b&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&C,isStale:ox(e,r),refetch:this.refetch,promise:M(this,_i)}}updateResult(e){const r=M(this,Ar),n=this.createResult(M(this,Ze),this.options);if(ce(this,To,M(this,Ze).state),ce(this,ll,this.options),M(this,To).data!==void 0&&ce(this,ul,M(this,Ze)),qh(n,r))return;if(this.options.experimental_prefetchInRender){const o=c=>{n.status==="error"?c.reject(n.error):n.data!==void 0&&c.resolve(n.data)},a=()=>{const c=ce(this,_i,n.promise=Zg());o(c)},l=M(this,_i);switch(l.status){case"pending":o(l);break;case"fulfilled":(n.status==="error"||n.data!==l.value)&&a();break;case"rejected":(n.status!=="error"||n.error!==l.reason)&&a();break}}ce(this,Ar,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!M(this,dl).size)return!0;const l=new Set(a??M(this,dl));return this.options.throwOnError&&l.add("error"),Object.keys(M(this,Ar)).some(c=>{const u=c;return M(this,Ar)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Fe(this,ct,KC).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,ct,ty).call(this)}},Fr=new WeakMap,Ze=new WeakMap,Lu=new WeakMap,Ar=new WeakMap,To=new WeakMap,ll=new WeakMap,_i=new WeakMap,cs=new WeakMap,Fu=new WeakMap,cl=new WeakMap,ul=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,Si=new WeakMap,dl=new WeakMap,ct=new WeakSet,yc=function(e){Fe(this,ct,sy).call(this);let r=M(this,Ze).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(yn)),r},Qg=function(){Fe(this,ct,ry).call(this);const e=Wa(this.options.staleTime,M(this,Ze));if(Uo||M(this,Ar).isStale||!Xg(e))return;const n=BC(M(this,Ar).dataUpdatedAt,e)+1;ce(this,Ro,setTimeout(()=>{M(this,Ar).isStale||this.updateResult()},n))},Jg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Ze)):this.options.refetchInterval)??!1},ey=function(e){Fe(this,ct,ny).call(this),ce(this,Si,e),!(Uo||Bn(this.options.enabled,M(this,Ze))===!1||!Xg(M(this,Si))||M(this,Si)===0)&&ce(this,Mo,setInterval(()=>{(this.options.refetchIntervalInBackground||ix.isFocused())&&Fe(this,ct,yc).call(this)},M(this,Si)))},ty=function(){Fe(this,ct,Qg).call(this),Fe(this,ct,ey).call(this,Fe(this,ct,Jg).call(this))},ry=function(){M(this,Ro)&&(clearTimeout(M(this,Ro)),ce(this,Ro,void 0))},ny=function(){M(this,Mo)&&(clearInterval(M(this,Mo)),ce(this,Mo,void 0))},sy=function(){const e=M(this,Fr).getQueryCache().build(M(this,Fr),this.options);if(e===M(this,Ze))return;const r=M(this,Ze);ce(this,Ze,e),ce(this,Lu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},KC=function(e){Zt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(M(this,Ar))}),M(this,Fr).getQueryCache().notify({query:M(this,Ze),type:"observerResultsUpdated"})})},c1);function AI(t,e){return Bn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Zw(t,e){return AI(t,e)||t.state.data!==void 0&&iy(t,e,e.refetchOnMount)}function iy(t,e,r){if(Bn(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ox(t,e)}return!1}function Qw(t,e,r,n){return(t!==e||Bn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ox(t,r)}function ox(t,e){return Bn(e.enabled,t)!==!1&&t.isStaleByTime(Wa(e.staleTime,t))}function kI(t,e){return!qh(t.getCurrentResult(),e)}var Ci,Ei,$r,js,Bs,yh,oy,u1,TI=(u1=class extends Il{constructor(r,n){super();Se(this,Bs);Se(this,Ci);Se(this,Ei);Se(this,$r);Se(this,js);ce(this,Ci,r),this.setOptions(n),this.bindMethods(),Fe(this,Bs,yh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=M(this,Ci).defaultMutationOptions(r),qh(this.options,n)||M(this,Ci).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,$r),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Vo(n.mutationKey)!==Vo(this.options.mutationKey)?this.reset():((s=M(this,$r))==null?void 0:s.state.status)==="pending"&&M(this,$r).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=M(this,$r))==null||r.removeObserver(this)}onMutationUpdate(r){Fe(this,Bs,yh).call(this),Fe(this,Bs,oy).call(this,r)}getCurrentResult(){return M(this,Ei)}reset(){var r;(r=M(this,$r))==null||r.removeObserver(this),ce(this,$r,void 0),Fe(this,Bs,yh).call(this),Fe(this,Bs,oy).call(this)}mutate(r,n){var s;return ce(this,js,n),(s=M(this,$r))==null||s.removeObserver(this),ce(this,$r,M(this,Ci).getMutationCache().build(M(this,Ci),this.options)),M(this,$r).addObserver(this),M(this,$r).execute(r)}},Ci=new WeakMap,Ei=new WeakMap,$r=new WeakMap,js=new WeakMap,Bs=new WeakSet,yh=function(){var n;const r=((n=M(this,$r))==null?void 0:n.state)??XC();ce(this,Ei,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},oy=function(r){Zt.batch(()=>{var n,s,i,o,a,l,c,u;if(M(this,js)&&this.hasListeners()){const d=M(this,Ei).variables,h=M(this,Ei).context;(r==null?void 0:r.type)==="success"?((s=(n=M(this,js)).onSuccess)==null||s.call(n,r.data,d,h),(o=(i=M(this,js)).onSettled)==null||o.call(i,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((l=(a=M(this,js)).onError)==null||l.call(a,r.error,d,h),(u=(c=M(this,js)).onSettled)==null||u.call(c,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(M(this,Ei))})})},u1),qC=p.createContext(void 0),Zn=t=>{const e=p.useContext(qC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RI=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(qC.Provider,{value:t,children:e})),ZC=p.createContext(!1),MI=()=>p.useContext(ZC);ZC.Provider;function jI(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var NI=p.createContext(jI()),II=()=>p.useContext(NI);function QC(t,e){return typeof t=="function"?t(...e):!!t}function JC(){}var OI=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},DI=t=>{p.useEffect(()=>{t.clearReset()},[t])},LI=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&QC(r,[t.error,n]),FI=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$I=(t,e)=>t.isLoading&&t.isFetching&&!e,BI=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Jw=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function zI(t,e,r){var u,d,h,m,y;const n=Zn(),s=MI(),i=II(),o=n.defaultQueryOptions(t);(d=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",FI(o),OI(o,i),DI(i);const a=!n.getQueryCache().get(o.queryHash),[l]=p.useState(()=>new e(n,o)),c=l.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(g=>{const w=s?()=>{}:l.subscribe(Zt.batchCalls(g));return l.updateResult(),w},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),BI(o,c))throw Jw(o,l,i);if(LI({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw c.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,c),o.experimental_prefetchInRender&&!Uo&&$I(c,s)){const g=a?Jw(o,l,i):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;g==null||g.catch(JC).finally(()=>{l.hasListeners()||l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function kn(t,e){return zI(t,PI)}function to(t,e){const r=Zn(),[n]=p.useState(()=>new TI(r,t));p.useEffect(()=>{n.setOptions(t)},[n,t]);const s=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(Zt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((o,a)=>{n.mutate(o,a).catch(JC)},[n]);if(s.error&&QC(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function UI(){return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"relative flex min-h-screen flex-col bg-background",children:[f.jsx("header",{className:"top-0 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6",children:f.jsxs("nav",{className:"hidden flex-row gap-6 text-lg font-medium md:flex md:flex-row md:items-center md:gap-5 md:text-sm lg:gap-6 relative",children:[f.jsx(En,{to:yt.root.path,className:"flex items-center gap-2 text-lg font-semibold md:text-base",children:f.jsx("span",{className:"",children:"DANNCE GUI"})}),V8.map(t=>f.jsx(En,{to:t.path,className:"text-muted-foreground transition-colors hover:text-foreground",children:f.jsx("span",{className:"",children:t.title})},t.path)),f.jsx("div",{className:"text-muted-foreground transition-colors hover:text-foreground flex-1",children:f.jsx("div",{className:"flex flex-row justify-end",children:f.jsx("span",{className:"cursor-pointer",children:"Kill Server [disabled]"})})})]})}),f.jsx("div",{className:"flex flex-col mx-10 mt-8 gap-4 mb-12",children:f.jsx(fN,{})})]})})}function VI(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function eE(...t){return e=>t.forEach(r=>VI(r,e))}function rt(...t){return p.useCallback(eE(...t),t)}var Hs=p.forwardRef((t,e)=>{const{children:r,...n}=t,s=p.Children.toArray(r),i=s.find(WI);if(i){const o=i.props.children,a=s.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return f.jsx(ay,{...n,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return f.jsx(ay,{...n,ref:e,children:r})});Hs.displayName="Slot";var ay=p.forwardRef((t,e)=>{const{children:r,...n}=t;if(p.isValidElement(r)){const s=GI(r);return p.cloneElement(r,{...HI(n,r.props),ref:e?eE(e,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});ay.displayName="SlotClone";var tE=({children:t})=>f.jsx(f.Fragment,{children:t});function WI(t){return p.isValidElement(t)&&t.type===tE}function HI(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function GI(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function rE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=rE(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function YI(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=rE(t))&&(n&&(n+=" "),n+=e);return n}const eb=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,tb=YI,nE=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return tb(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=r==null?void 0:r[c],d=i==null?void 0:i[c];if(u===null)return null;const h=eb(u)||eb(d);return s[c][h]}),a=r&&Object.entries(r).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,d,h]:c},[]);return tb(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};function sE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=sE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function XI(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=sE(t))&&(n&&(n+=" "),n+=e);return n}const ax="-",KI=t=>{const e=ZI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(ax);return a[0]===""&&a.length!==1&&a.shift(),iE(a,e)||qI(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},iE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?iE(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ax);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},rb=/^\[(.+)\]$/,qI=t=>{if(rb.test(t)){const e=rb.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ZI=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return JI(Object.entries(t.classGroups),r).forEach(([i,o])=>{ly(o,n,i,e)}),n},ly=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:nb(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(QI(s)){ly(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{ly(o,nb(e,i),r,n)})})},nb=(t,e)=>{let r=t;return e.split(ax).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QI=t=>t.isThemeGetter,JI=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t,eO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},oE="!",tO=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let w=0;w<a.length;w++){let x=a[w];if(c===0){if(x===s&&(n||a.slice(w,w+i)===e)){l.push(a.slice(u,w)),u=w+i;continue}if(x==="/"){d=w;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?a:a.substring(u),m=h.startsWith(oE),y=m?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:o}):o},rO=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},nO=t=>({cache:eO(t.cacheSize),parseClassName:tO(t),...KI(t)}),sO=/\s+/,iO=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(sO);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=r(c);let y=!!m,g=n(y?h.substring(0,m):h);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=n(h),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const w=rO(u).join(":"),x=d?w+oE:w,v=x+g;if(i.includes(v))continue;i.push(v);const b=s(g,y);for(let _=0;_<b.length;++_){const C=b[_];i.push(x+C)}a=c+(a.length>0?" "+a:a)}return a};function oO(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=aE(e))&&(n&&(n+=" "),n+=r);return n}const aE=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=aE(t[n]))&&(r&&(r+=" "),r+=e);return r};function aO(t,...e){let r,n,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return r=nO(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=iO(l,r);return s(l,u),u}return function(){return i(oO.apply(null,arguments))}}const bt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},lE=/^\[(?:([a-z-]+):)?(.+)\]$/i,lO=/^\d+\/\d+$/,cO=new Set(["px","full","screen"]),uO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=t=>Ha(t)||cO.has(t)||lO.test(t),ii=t=>Ol(t,"length",_O),Ha=t=>!!t&&!Number.isNaN(Number(t)),rm=t=>Ol(t,"number",Ha),sc=t=>!!t&&Number.isInteger(Number(t)),mO=t=>t.endsWith("%")&&Ha(t.slice(0,-1)),De=t=>lE.test(t),oi=t=>uO.test(t),gO=new Set(["length","size","percentage"]),yO=t=>Ol(t,gO,cE),vO=t=>Ol(t,"position",cE),xO=new Set(["image","url"]),wO=t=>Ol(t,xO,CO),bO=t=>Ol(t,"",SO),ic=()=>!0,Ol=(t,e,r)=>{const n=lE.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},_O=t=>dO.test(t)&&!hO.test(t),cE=()=>!1,SO=t=>fO.test(t),CO=t=>pO.test(t),EO=()=>{const t=bt("colors"),e=bt("spacing"),r=bt("blur"),n=bt("brightness"),s=bt("borderColor"),i=bt("borderRadius"),o=bt("borderSpacing"),a=bt("borderWidth"),l=bt("contrast"),c=bt("grayscale"),u=bt("hueRotate"),d=bt("invert"),h=bt("gap"),m=bt("gradientColorStops"),y=bt("gradientColorStopPositions"),g=bt("inset"),w=bt("margin"),x=bt("opacity"),v=bt("padding"),b=bt("saturate"),_=bt("scale"),C=bt("sepia"),A=bt("skew"),E=bt("space"),S=bt("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",De,e],F=()=>[De,e],z=()=>["",Es,ii],B=()=>["auto",Ha,De],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",De],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ha,De];return{cacheSize:500,separator:":",theme:{colors:[ic],spacing:[Es,ii],blur:["none","",oi,De],brightness:ee(),borderColor:[t],borderRadius:["none","","full",oi,De],borderSpacing:F(),borderWidth:z(),contrast:ee(),grayscale:O(),hueRotate:ee(),invert:O(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[mO,ii],inset:U(),margin:U(),opacity:ee(),padding:F(),saturate:ee(),scale:ee(),sepia:O(),skew:ee(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[oi]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),De]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sc,De]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",sc,De]}],"grid-cols":[{"grid-cols":[ic]}],"col-start-end":[{col:["auto",{span:["full",sc,De]},De]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ic]}],"row-start-end":[{row:["auto",{span:[sc,De]},De]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[oi]},oi]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oi,ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rm]}],"font-family":[{font:[ic]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Ha,rm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,ii]}],"underline-offset":[{"underline-offset":["auto",Es,De]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),vO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Es,De]}],"outline-w":[{outline:[Es,ii]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Es,ii]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",oi,bO]}],"shadow-color":[{shadow:[ic]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",oi,De]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[sc,De]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Es,ii,rm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PO=aO(EO);function Ne(...t){return PO(XI(t))}function cy(t){return new Date(t*1e3).toLocaleString("en-US")}const AO=nE("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tr=p.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?Hs:"button";return f.jsx(o,{className:Ne(AO({variant:e,size:r,className:t})),ref:i,...s})});tr.displayName="Button";function kO(){return f.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[f.jsx("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl mb-5",children:"DANNCE Gui"}),f.jsx("div",{className:"flex flex-col gap-4 items-center",children:W8.map(({path:t,title:e})=>f.jsx(En,{to:t,children:f.jsx(tr,{children:e})},t))})]})}const zi=p.forwardRef(({className:t,...e},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:Ne("w-full caption-bottom text-sm",t),...e})}));zi.displayName="Table";const Ui=p.forwardRef(({className:t,...e},r)=>f.jsx("thead",{ref:r,className:Ne("[&_tr]:border-b",t),...e}));Ui.displayName="TableHeader";const Vi=p.forwardRef(({className:t,...e},r)=>f.jsx("tbody",{ref:r,className:Ne("[&_tr:last-child]:border-0",t),...e}));Vi.displayName="TableBody";const TO=p.forwardRef(({className:t,...e},r)=>f.jsx("tfoot",{ref:r,className:Ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));TO.displayName="TableFooter";const Wr=p.forwardRef(({className:t,...e},r)=>f.jsx("tr",{ref:r,className:Ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Wr.displayName="TableRow";const Ce=p.forwardRef(({className:t,...e},r)=>f.jsx("th",{ref:r,className:Ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ce.displayName="TableHead";const Re=p.forwardRef(({className:t,...e},r)=>f.jsx("td",{ref:r,className:Ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Re.displayName="TableCell";const Wo=p.forwardRef(({className:t,...e},r)=>f.jsx("caption",{ref:r,className:Ne("mt-4 text-sm text-muted-foreground",t),...e}));Wo.displayName="TableCaption";function ke(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function RO(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=d=>{var x;const{scope:h,children:m,...y}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(d,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,MO(s,...e)]}function MO(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var jO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=jO.reduce((t,e)=>{const r=p.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Hs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function NO(t,e){t&&qs.flushSync(()=>t.dispatchEvent(e))}function gr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function IO(t,e=globalThis==null?void 0:globalThis.document){const r=gr(t);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var OO="DismissableLayer",uy="dismissableLayer.update",DO="dismissableLayer.pointerDownOutside",LO="dismissableLayer.focusOutside",sb,uE=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gu=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=p.useContext(uE),[u,d]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=rt(e,E=>d(E)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(w),v=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=v>=x,C=BO(E=>{const S=E.target,P=[...c.branches].some(T=>T.contains(S));!_||P||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},h),A=zO(E=>{const S=E.target;[...c.branches].some(T=>T.contains(S))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},h);return IO(E=>{v===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},h),p.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(sb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ib(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sb)}},[u,h,r,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ib())},[u,c]),p.useEffect(()=>{const E=()=>m({});return document.addEventListener(uy,E),()=>document.removeEventListener(uy,E)},[]),f.jsx(Be.div,{...l,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,A.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,C.onPointerDownCapture)})});Gu.displayName=OO;var FO="DismissableLayerBranch",$O=p.forwardRef((t,e)=>{const r=p.useContext(uE),n=p.useRef(null),s=rt(e,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),f.jsx(Be.div,{...t,ref:s})});$O.displayName=FO;function BO(t,e=globalThis==null?void 0:globalThis.document){const r=gr(t),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){dE(DO,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function zO(t,e=globalThis==null?void 0:globalThis.document){const r=gr(t),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&dE(LO,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ib(){const t=new CustomEvent(uy);document.dispatchEvent(t)}function dE(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?NO(s,i):s.dispatchEvent(i)}var dr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},UO=ov.useId||(()=>{}),VO=0;function Dl(t){const[e,r]=p.useState(UO());return dr(()=>{r(n=>n??String(VO++))},[t]),e?`radix-${e}`:""}const WO=["top","right","bottom","left"],ds=Math.min,sn=Math.max,Qh=Math.round,Od=Math.floor,Wi=t=>({x:t,y:t}),HO={left:"right",right:"left",bottom:"top",top:"bottom"},GO={start:"end",end:"start"};function dy(t,e,r){return sn(t,ds(e,r))}function Gs(t,e){return typeof t=="function"?t(e):t}function Ys(t){return t.split("-")[0]}function Ll(t){return t.split("-")[1]}function lx(t){return t==="x"?"y":"x"}function cx(t){return t==="y"?"height":"width"}function Hi(t){return["top","bottom"].includes(Ys(t))?"y":"x"}function ux(t){return lx(Hi(t))}function YO(t,e,r){r===void 0&&(r=!1);const n=Ll(t),s=ux(t),i=cx(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Jh(o)),[o,Jh(o)]}function XO(t){const e=Jh(t);return[hy(t),e,hy(e)]}function hy(t){return t.replace(/start|end/g,e=>GO[e])}function KO(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function qO(t,e,r,n){const s=Ll(t);let i=KO(Ys(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(hy)))),i}function Jh(t){return t.replace(/left|right|bottom|top/g,e=>HO[e])}function ZO(t){return{top:0,right:0,bottom:0,left:0,...t}}function hE(t){return typeof t!="number"?ZO(t):{top:t,right:t,bottom:t,left:t}}function ef(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function ob(t,e,r){let{reference:n,floating:s}=t;const i=Hi(e),o=ux(e),a=cx(o),l=Ys(e),c=i==="y",u=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-s.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Ll(e)){case"start":m[o]-=h*(r&&c?-1:1);break;case"end":m[o]+=h*(r&&c?-1:1);break}return m}const QO=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=ob(c,n,l),h=n,m={},y=0;for(let g=0;g<a.length;g++){const{name:w,fn:x}=a[g],{x:v,y:b,data:_,reset:C}=await x({x:u,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,d=b??d,m={...m,[w]:{...m[w],..._}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=ob(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:m}};async function cu(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Gs(e,t),y=hE(m),w=a[h?d==="floating"?"reference":"floating":d],x=ef(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},C=ef(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(x.top-C.top+y.top)/_.y,bottom:(C.bottom-x.bottom+y.bottom)/_.y,left:(x.left-C.left+y.left)/_.x,right:(C.right-x.right+y.right)/_.x}}const JO=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Gs(t,e)||{};if(c==null)return{};const d=hE(u),h={x:r,y:n},m=ux(s),y=cx(m),g=await o.getDimensions(c),w=m==="y",x=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-h[m]-i.floating[y],C=h[m]-i.reference[m],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=A?A[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(A)))&&(E=a.floating[b]||i.floating[y]);const S=_/2-C/2,P=E/2-g[y]/2-1,T=ds(d[x],P),U=ds(d[v],P),F=T,z=E-g[y]-U,B=E/2-g[y]/2+S,Y=dy(F,B,z),X=!l.arrow&&Ll(s)!=null&&B!==Y&&i.reference[y]/2-(B<F?T:U)-g[y]/2<0,Q=X?B<F?B-F:B-z:0;return{[m]:h[m]+Q,data:{[m]:Y,centerOffset:B-Y-Q,...X&&{alignmentOffset:Q}},reset:X}}}),eD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=Gs(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Ys(s),v=Hi(a),b=Ys(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(b||!g?[Jh(a)]:XO(a)),A=y!=="none";!h&&A&&C.push(...qO(a,g,y,_));const E=[a,...C],S=await cu(e,w),P=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(S[x]),d){const B=YO(s,o,_);P.push(S[B[0]],S[B[1]])}if(T=[...T,{placement:s,overflows:P}],!P.every(B=>B<=0)){var U,F;const B=(((U=i.flip)==null?void 0:U.index)||0)+1,Y=E[B];if(Y)return{data:{index:B,overflows:T},reset:{placement:Y}};let X=(F=T.filter(Q=>Q.overflows[0]<=0).sort((Q,D)=>Q.overflows[1]-D.overflows[1])[0])==null?void 0:F.placement;if(!X)switch(m){case"bestFit":{var z;const Q=(z=T.filter(D=>{if(A){const O=Hi(D.placement);return O===v||O==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(O=>O>0).reduce((O,V)=>O+V,0)]).sort((D,O)=>D[1]-O[1])[0])==null?void 0:z[0];Q&&(X=Q);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function ab(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lb(t){return WO.some(e=>t[e]>=0)}const tD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Gs(t,e);switch(n){case"referenceHidden":{const i=await cu(e,{...s,elementContext:"reference"}),o=ab(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lb(o)}}}case"escaped":{const i=await cu(e,{...s,altBoundary:!0}),o=ab(i,r.floating);return{data:{escapedOffsets:o,escaped:lb(o)}}}default:return{}}}}};async function rD(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ys(r),a=Ll(r),l=Hi(r)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=Gs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const nD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await rD(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},sD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x,y:v}=w;return{x,y:v}}},...l}=Gs(t,e),c={x:r,y:n},u=await cu(e,l),d=Hi(Ys(s)),h=lx(d);let m=c[h],y=c[d];if(i){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=m+u[w],b=m-u[x];m=dy(v,m,b)}if(o){const w=d==="y"?"top":"left",x=d==="y"?"bottom":"right",v=y+u[w],b=y-u[x];y=dy(v,y,b)}const g=a.fn({...e,[h]:m,[d]:y});return{...g,data:{x:g.x-r,y:g.y-n}}}}},iD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Gs(t,e),u={x:r,y:n},d=Hi(s),h=lx(d);let m=u[h],y=u[d];const g=Gs(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+w.mainAxis,C=i.reference[h]+i.reference[b]-w.mainAxis;m<_?m=_:m>C&&(m=C)}if(c){var x,v;const b=h==="y"?"width":"height",_=["top","left"].includes(Ys(s)),C=i.reference[d]-i.floating[b]+(_&&((x=o.offset)==null?void 0:x[d])||0)+(_?0:w.crossAxis),A=i.reference[d]+i.reference[b]+(_?0:((v=o.offset)==null?void 0:v[d])||0)-(_?w.crossAxis:0);y<C?y=C:y>A&&(y=A)}return{[h]:m,[d]:y}}}},oD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:r,rects:n,platform:s,elements:i}=e,{apply:o=()=>{},...a}=Gs(t,e),l=await cu(e,a),c=Ys(r),u=Ll(r),d=Hi(r)==="y",{width:h,height:m}=n.floating;let y,g;c==="top"||c==="bottom"?(y=c,g=u===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(g=c,y=u==="end"?"top":"bottom");const w=m-l.top-l.bottom,x=h-l.left-l.right,v=ds(m-l[y],w),b=ds(h-l[g],x),_=!e.middlewareData.shift;let C=v,A=b;if(d?A=u||_?ds(b,x):x:C=u||_?ds(v,w):w,_&&!u){const S=sn(l.left,0),P=sn(l.right,0),T=sn(l.top,0),U=sn(l.bottom,0);d?A=h-2*(S!==0||P!==0?S+P:sn(l.left,l.right)):C=m-2*(T!==0||U!==0?T+U:sn(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:C});const E=await s.getDimensions(i.floating);return h!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function Fl(t){return fE(t)?(t.nodeName||"").toLowerCase():"#document"}function ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Js(t){var e;return(e=(fE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fE(t){return t instanceof Node||t instanceof ln(t).Node}function Xn(t){return t instanceof Element||t instanceof ln(t).Element}function gs(t){return t instanceof HTMLElement||t instanceof ln(t).HTMLElement}function cb(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ln(t).ShadowRoot}function Yu(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function aD(t){return["table","td","th"].includes(Fl(t))}function Wf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function dx(t){const e=hx(),r=Xn(t)?Kn(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lD(t){let e=Gi(t);for(;gs(e)&&!xl(e);){if(dx(e))return e;if(Wf(e))return null;e=Gi(e)}return null}function hx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xl(t){return["html","body","#document"].includes(Fl(t))}function Kn(t){return ln(t).getComputedStyle(t)}function Hf(t){return Xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gi(t){if(Fl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cb(t)&&t.host||Js(t);return cb(e)?e.host:e}function pE(t){const e=Gi(t);return xl(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&Yu(e)?e:pE(e)}function uu(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=pE(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=ln(s);if(i){const a=fy(o);return e.concat(o,o.visualViewport||[],Yu(s)?s:[],a&&r?uu(a):[])}return e.concat(s,uu(s,[],r))}function fy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mE(t){const e=Kn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=gs(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=Qh(r)!==i||Qh(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function fx(t){return Xn(t)?t:t.contextElement}function Ga(t){const e=fx(t);if(!gs(e))return Wi(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=mE(e);let o=(i?Qh(r.width):r.width)/n,a=(i?Qh(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cD=Wi(0);function gE(t){const e=ln(t);return!hx()||!e.visualViewport?cD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uD(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ln(t)?!1:e}function Ho(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=fx(t);let o=Wi(1);e&&(n?Xn(n)&&(o=Ga(n)):o=Ga(t));const a=uD(i,r,n)?gE(i):Wi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const h=ln(i),m=n&&Xn(n)?ln(n):n;let y=h,g=fy(y);for(;g&&n&&m!==y;){const w=Ga(g),x=g.getBoundingClientRect(),v=Kn(g),b=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,_=x.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=b,c+=_,y=ln(g),g=fy(y)}}return ef({width:u,height:d,x:l,y:c})}function dD(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Js(n),a=e?Wf(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Wi(1);const u=Wi(0),d=gs(n);if((d||!d&&!i)&&((Fl(n)!=="body"||Yu(o))&&(l=Hf(n)),gs(n))){const h=Ho(n);c=Ga(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}}function hD(t){return Array.from(t.getClientRects())}function yE(t){return Ho(Js(t)).left+Hf(t).scrollLeft}function fD(t){const e=Js(t),r=Hf(t),n=t.ownerDocument.body,s=sn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=sn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+yE(t);const a=-r.scrollTop;return Kn(n).direction==="rtl"&&(o+=sn(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function pD(t,e){const r=ln(t),n=Js(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=hx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function mD(t,e){const r=Ho(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=gs(t)?Ga(t):Wi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function ub(t,e,r){let n;if(e==="viewport")n=pD(t,r);else if(e==="document")n=fD(Js(t));else if(Xn(e))n=mD(e,r);else{const s=gE(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return ef(n)}function vE(t,e){const r=Gi(t);return r===e||!Xn(r)||xl(r)?!1:Kn(r).position==="fixed"||vE(r,e)}function gD(t,e){const r=e.get(t);if(r)return r;let n=uu(t,[],!1).filter(a=>Xn(a)&&Fl(a)!=="body"),s=null;const i=Kn(t).position==="fixed";let o=i?Gi(t):t;for(;Xn(o)&&!xl(o);){const a=Kn(o),l=dx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yu(o)&&!l&&vE(t,o))?n=n.filter(u=>u!==o):s=a,o=Gi(o)}return e.set(t,n),n}function yD(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?Wf(e)?[]:gD(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const d=ub(e,u,s);return c.top=sn(d.top,c.top),c.right=ds(d.right,c.right),c.bottom=ds(d.bottom,c.bottom),c.left=sn(d.left,c.left),c},ub(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vD(t){const{width:e,height:r}=mE(t);return{width:e,height:r}}function xD(t,e,r){const n=gs(e),s=Js(e),i=r==="fixed",o=Ho(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Wi(0);if(n||!n&&!i)if((Fl(e)!=="body"||Yu(s))&&(a=Hf(e)),n){const d=Ho(e,!0,i,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else s&&(l.x=yE(s));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function nm(t){return Kn(t).position==="static"}function db(t,e){return!gs(t)||Kn(t).position==="fixed"?null:e?e(t):t.offsetParent}function xE(t,e){const r=ln(t);if(Wf(t))return r;if(!gs(t)){let s=Gi(t);for(;s&&!xl(s);){if(Xn(s)&&!nm(s))return s;s=Gi(s)}return r}let n=db(t,e);for(;n&&aD(n)&&nm(n);)n=db(n,e);return n&&xl(n)&&nm(n)&&!dx(n)?r:n||lD(t)||r}const wD=async function(t){const e=this.getOffsetParent||xE,r=this.getDimensions,n=await r(t.floating);return{reference:xD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bD(t){return Kn(t).direction==="rtl"}const _D={convertOffsetParentRelativeRectToViewportRelativeRect:dD,getDocumentElement:Js,getClippingRect:yD,getOffsetParent:xE,getElementRects:wD,getClientRects:hD,getDimensions:vD,getScale:Ga,isElement:Xn,isRTL:bD};function SD(t,e){let r=null,n;const s=Js(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const m=Od(u),y=Od(s.clientWidth-(c+d)),g=Od(s.clientHeight-(u+h)),w=Od(c),v={rootMargin:-m+"px "+-y+"px "+-g+"px "+-w+"px",threshold:sn(0,ds(1,l))||1};let b=!0;function _(C){const A=C[0].intersectionRatio;if(A!==l){if(!b)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,v)}r.observe(t)}return o(!0),i}function CD(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=fx(t),u=s||i?[...c?uu(c):[],...uu(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const d=c&&a?SD(c,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),r()}),c&&!l&&m.observe(c),m.observe(e));let y,g=l?Ho(t):null;l&&w();function w(){const x=Ho(t);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&r(),g=x,y=requestAnimationFrame(w)}return r(),()=>{var x;u.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),d==null||d(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const ED=nD,PD=sD,AD=eD,kD=oD,TD=tD,hb=JO,RD=iD,MD=(t,e,r)=>{const n=new Map,s={platform:_D,...r},i={...s.platform,_c:n};return QO(t,e,{...s,platform:i})};var vh=typeof document<"u"?p.useLayoutEffect:p.useEffect;function tf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!tf(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!tf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fb(t,e){const r=wE(t);return Math.round(e*r)/r}function pb(t){const e=p.useRef(t);return vh(()=>{e.current=t}),e}function jD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=p.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);tf(h,n)||m(n);const[y,g]=p.useState(null),[w,x]=p.useState(null),v=p.useCallback(Q=>{Q!==A.current&&(A.current=Q,g(Q))},[]),b=p.useCallback(Q=>{Q!==E.current&&(E.current=Q,x(Q))},[]),_=i||y,C=o||w,A=p.useRef(null),E=p.useRef(null),S=p.useRef(u),P=l!=null,T=pb(l),U=pb(s),F=p.useCallback(()=>{if(!A.current||!E.current)return;const Q={placement:e,strategy:r,middleware:h};U.current&&(Q.platform=U.current),MD(A.current,E.current,Q).then(D=>{const O={...D,isPositioned:!0};z.current&&!tf(S.current,O)&&(S.current=O,qs.flushSync(()=>{d(O)}))})},[h,e,r,U]);vh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,d(Q=>({...Q,isPositioned:!1})))},[c]);const z=p.useRef(!1);vh(()=>(z.current=!0,()=>{z.current=!1}),[]),vh(()=>{if(_&&(A.current=_),C&&(E.current=C),_&&C){if(T.current)return T.current(_,C,F);F()}},[_,C,F,T,P]);const B=p.useMemo(()=>({reference:A,floating:E,setReference:v,setFloating:b}),[v,b]),Y=p.useMemo(()=>({reference:_,floating:C}),[_,C]),X=p.useMemo(()=>{const Q={position:r,left:0,top:0};if(!Y.floating)return Q;const D=fb(Y.floating,u.x),O=fb(Y.floating,u.y);return a?{...Q,transform:"translate("+D+"px, "+O+"px)",...wE(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:O}},[r,a,Y.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:F,refs:B,elements:Y,floatingStyles:X}),[u,F,B,Y,X])}const ND=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?hb({element:n.current,padding:s}).fn(r):{}:n?hb({element:n,padding:s}).fn(r):{}}}},ID=(t,e)=>({...ED(t),options:[t,e]}),OD=(t,e)=>({...PD(t),options:[t,e]}),DD=(t,e)=>({...RD(t),options:[t,e]}),LD=(t,e)=>({...AD(t),options:[t,e]}),FD=(t,e)=>({...kD(t),options:[t,e]}),$D=(t,e)=>({...TD(t),options:[t,e]}),BD=(t,e)=>({...ND(t),options:[t,e]});var zD="Arrow",bE=p.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return f.jsx(Be.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});bE.displayName=zD;var UD=bE;function _E(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];function c(d){const{scope:h,children:m,...y}=d,g=(h==null?void 0:h[t][l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})}function u(d,h){const m=(h==null?void 0:h[t][l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,VD(s,...e)]}function VD(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function SE(t){const[e,r]=p.useState(void 0);return dr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var px="Popper",[CE,$l]=_E(px),[WD,EE]=CE(px),PE=t=>{const{__scopePopper:e,children:r}=t,[n,s]=p.useState(null);return f.jsx(WD,{scope:e,anchor:n,onAnchorChange:s,children:r})};PE.displayName=px;var AE="PopperAnchor",kE=p.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=EE(AE,r),o=p.useRef(null),a=rt(e,o);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:f.jsx(Be.div,{...s,ref:a})});kE.displayName=AE;var mx="PopperContent",[HD,GD]=CE(mx),TE=p.forwardRef((t,e)=>{var J,fe,Ie,Ae,ze,Oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,w=EE(mx,r),[x,v]=p.useState(null),b=rt(e,xt=>v(xt)),[_,C]=p.useState(null),A=SE(_),E=(A==null?void 0:A.width)??0,S=(A==null?void 0:A.height)??0,P=n+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(c)?c:[c],F=U.length>0,z={padding:T,boundary:U.filter(XD),altBoundary:F},{refs:B,floatingStyles:Y,placement:X,isPositioned:Q,middlewareData:D}=jD({strategy:"fixed",placement:P,whileElementsMounted:(...xt)=>CD(...xt,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[ID({mainAxis:s+S,alignmentAxis:o}),l&&OD({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?DD():void 0,...z}),l&&LD({...z}),FD({...z,apply:({elements:xt,rects:Xe,availableWidth:Ct,availableHeight:Et})=>{const{width:rr,height:k}=Xe.reference,I=xt.floating.style;I.setProperty("--radix-popper-available-width",`${Ct}px`),I.setProperty("--radix-popper-available-height",`${Et}px`),I.setProperty("--radix-popper-anchor-width",`${rr}px`),I.setProperty("--radix-popper-anchor-height",`${k}px`)}}),_&&BD({element:_,padding:a}),KD({arrowWidth:E,arrowHeight:S}),h&&$D({strategy:"referenceHidden",...z})]}),[O,V]=jE(X),ee=gr(y);dr(()=>{Q&&(ee==null||ee())},[Q,ee]);const N=(J=D.arrow)==null?void 0:J.x,G=(fe=D.arrow)==null?void 0:fe.y,ie=((Ie=D.arrow)==null?void 0:Ie.centerOffset)!==0,[te,re]=p.useState();return dr(()=>{x&&re(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:Q?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Ae=D.transformOrigin)==null?void 0:Ae.x,(ze=D.transformOrigin)==null?void 0:ze.y].join(" "),...((Oe=D.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(HD,{scope:r,placedSide:O,onArrowChange:C,arrowX:N,arrowY:G,shouldHideArrow:ie,children:f.jsx(Be.div,{"data-side":O,"data-align":V,...g,ref:b,style:{...g.style,animation:Q?void 0:"none"}})})})});TE.displayName=mx;var RE="PopperArrow",YD={top:"bottom",right:"left",bottom:"top",left:"right"},ME=p.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=GD(RE,n),o=YD[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(UD,{...s,ref:r,style:{...s.style,display:"block"}})})});ME.displayName=RE;function XD(t){return t!==null}var KD=t=>({name:"transformOrigin",options:t,fn(e){var w,x,v;const{placement:r,rects:n,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=jE(r),d={start:"0%",center:"50%",end:"100%"}[u],h=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=o?d:`${h}px`,g=`${-l}px`):c==="top"?(y=o?d:`${h}px`,g=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=o?d:`${m}px`):c==="left"&&(y=`${n.floating.width+l}px`,g=o?d:`${m}px`),{data:{x:y,y:g}}}});function jE(t){const[e,r="center"]=t.split("-");return[e,r]}var gx=PE,Gf=kE,yx=TE,vx=ME,qD="Portal",Yf=p.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,i]=p.useState(!1);dr(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$f.createPortal(f.jsx(Be.div,{...n,ref:e}),o):null});Yf.displayName=qD;function ZD(t,e){return p.useReducer((r,n)=>e[r][n]??r,t)}var pn=t=>{const{present:e,children:r}=t,n=QD(e),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=rt(n.ref,JD(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};pn.displayName="Presence";function QD(t){const[e,r]=p.useState(),n=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ZD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Dd(n.current);i.current=a==="mounted"?c:"none"},[a]),dr(()=>{const c=n.current,u=s.current;if(u!==t){const h=i.current,m=Dd(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),dr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=m=>{const g=Dd(n.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=m=>{m.target===e&&(i.current=Dd(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function Dd(t){return(t==null?void 0:t.animationName)||"none"}function JD(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function wl({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=eL({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,a=gr(r),l=p.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function eL({defaultProp:t,onChange:e}){const r=p.useState(t),[n]=r,s=p.useRef(n),i=gr(e);return p.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var tL="VisuallyHidden",xx=p.forwardRef((t,e)=>f.jsx(Be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));xx.displayName=tL;var rL=xx,[Xf,X8]=RO("Tooltip",[$l]),Kf=$l(),NE="TooltipProvider",nL=700,py="tooltip.open",[sL,wx]=Xf(NE),IE=t=>{const{__scopeTooltip:e,delayDuration:r=nL,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=p.useState(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(sL,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};IE.displayName=NE;var qf="Tooltip",[iL,Zf]=Xf(qf),OE=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=wx(qf,t.__scopeTooltip),c=Kf(e),[u,d]=p.useState(null),h=Dl(),m=p.useRef(0),y=o??l.disableHoverableContent,g=a??l.delayDuration,w=p.useRef(!1),[x=!1,v]=wl({prop:n,defaultProp:s,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(py))):l.onClose(),i==null||i(E)}}),b=p.useMemo(()=>x?w.current?"delayed-open":"instant-open":"closed",[x]),_=p.useCallback(()=>{window.clearTimeout(m.current),w.current=!1,v(!0)},[v]),C=p.useCallback(()=>{window.clearTimeout(m.current),v(!1)},[v]),A=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,v(!0)},g)},[g,v]);return p.useEffect(()=>()=>window.clearTimeout(m.current),[]),f.jsx(gx,{...c,children:f.jsx(iL,{scope:e,contentId:h,open:x,stateAttribute:b,trigger:u,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayed?A():_()},[l.isOpenDelayed,A,_]),onTriggerLeave:p.useCallback(()=>{y?C():window.clearTimeout(m.current)},[C,y]),onOpen:_,onClose:C,disableHoverableContent:y,children:r})})};OE.displayName=qf;var my="TooltipTrigger",DE=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Zf(my,r),i=wx(my,r),o=Kf(r),a=p.useRef(null),l=rt(e,a,s.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),d=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(Gf,{asChild:!0,...o,children:f.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:ke(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ke(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ke(t.onBlur,s.onClose),onClick:ke(t.onClick,s.onClose)})})});DE.displayName=my;var oL="TooltipPortal",[K8,aL]=Xf(oL,{forceMount:void 0}),bl="TooltipContent",LE=p.forwardRef((t,e)=>{const r=aL(bl,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=Zf(bl,t.__scopeTooltip);return f.jsx(pn,{present:n||o.open,children:o.disableHoverableContent?f.jsx(FE,{side:s,...i,ref:e}):f.jsx(lL,{side:s,...i,ref:e})})}),lL=p.forwardRef((t,e)=>{const r=Zf(bl,t.__scopeTooltip),n=wx(bl,t.__scopeTooltip),s=p.useRef(null),i=rt(e,s),[o,a]=p.useState(null),{trigger:l,onClose:c}=r,u=s.current,{onPointerInTransitChange:d}=n,h=p.useCallback(()=>{a(null),d(!1)},[d]),m=p.useCallback((y,g)=>{const w=y.currentTarget,x={x:y.clientX,y:y.clientY},v=hL(x,w.getBoundingClientRect()),b=fL(x,v),_=pL(g.getBoundingClientRect()),C=gL([...b,..._]);a(C),d(!0)},[d]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(l&&u){const y=w=>m(w,u),g=w=>m(w,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[l,u,m,h]),p.useEffect(()=>{if(o){const y=g=>{const w=g.target,x={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),b=!mL(x,o);v?h():b&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,h]),f.jsx(FE,{...t,ref:i})}),[cL,uL]=Xf(qf,{isInside:!1}),FE=p.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Zf(bl,r),c=Kf(r),{onClose:u}=l;return p.useEffect(()=>(document.addEventListener(py,u),()=>document.removeEventListener(py,u)),[u]),p.useEffect(()=>{if(l.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(Gu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(yx,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(tE,{children:n}),f.jsx(cL,{scope:r,isInside:!0,children:f.jsx(rL,{id:l.contentId,role:"tooltip",children:s||n})})]})})});LE.displayName=bl;var $E="TooltipArrow",dL=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Kf(r);return uL($E,r).isInside?null:f.jsx(vx,{...s,...n,ref:e})});dL.displayName=$E;function hL(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function fL(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function pL(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function mL(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>n!=u>n&&r<(c-a)*(n-l)/(u-l)+a&&(s=!s)}return s}function gL(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),yL(e)}function yL(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var vL=IE,xL=OE,wL=DE,BE=LE;const zE=vL,Nc=xL,Ic=wL,Ya=p.forwardRef(({className:t,sideOffset:e=4,...r},n)=>f.jsx(BE,{ref:n,sideOffset:e,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ya.displayName=BE.displayName;const Xu=window.config.apiUrl;console.log("BASE_APP_URL",Xu);function Qf(...t){return t=t.map(e=>e.replace(/\/?(.+?)\/?/,"$1")),t.join("/")}async function ei(t,e={}){const r=Qf(Xu,t),n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.status>=200&&n.status<300)return await n.json();throw Error(`Invalid status: ${n.status}`)}async function ws(t){const e=Qf(Xu,t),r=await fetch(e,{method:"GET",headers:{}});if(r.status>=200&&r.status<300)return await r.json();throw Error(`Invalid status: ${r.status}`)}async function bL(t){const e=Qf(Xu,t),r=await fetch(e,{method:"GET",headers:{"Cache-Control":"no-cache"}});if(r.status>=200&&r.status<300)return await r.text();throw Error(`Invalid status: ${r.status}`)}async function _L(){return ws("/runtime/list")}async function SL(){return ws("/video_folder/list")}async function CL(t){if(isNaN(t))throw new Error("Video folder ID is not a number");return ws(`/video_folder/${t}`)}async function EL(t){return ei("/video_folder/",t)}async function PL(t){return ei("/runtime/",t)}async function AL(){return ws("/predict_job/list")}async function kL(){return ws("/train_job/list")}async function TL(){return ws("/prediction/list")}async function RL(t){return ei("/train_job/submit_com",t)}async function ML(t){return ei("/train_job/submit_dannce",t)}async function jL(t){return ei("/predict_job/submit_com",t)}async function NL(t){return ei("/predict_job/submit_dannce",t)}async function IL(){return ei("/jobs_common/update-live-jobs",{})}async function OL(t){return ws(`/predict_job/${t}`)}async function DL(t){return ws(`/train_job/${t}`)}async function LL(){return ws("/weights/list")}async function FL(t){if(!t)throw Error("getSlurmLogFIle:: slurmJobId must be defined");return bL(`/jobs_common/get_log/${t}`)}async function $L(t){if(t.paths.length==0)throw Error("importVideoFolders:: paths[] must not be empty");return ei("/video_folder/import_from_paths",t)}async function BL(t){if(!t)throw Error("getPredictionDetails:: predictionId must be defined");return ws(`/prediction/${t}`)}async function zL(t,e,r,n){if(!t)throw Error("getPredictionDetails:: predictionId must be defined");return ei(`/prediction/${t}/make_preview`,{frames:e,camera_name_1:r,camera_name_2:n})}function Ku(){return kn({queryKey:["listRunntimes"],queryFn:_L})}function UL(t){return kn({queryKey:["predictJobDetails",t],queryFn:()=>OL(t)})}function VL(t){return kn({queryKey:["trainJobDetails",t],queryFn:()=>DL(t)})}function WL(){return kn({queryKey:["listPredictJobs"],queryFn:AL})}function HL(t){return kn({queryKey:["predictionDetails",t],queryFn:()=>BL(t)})}function GL(){return kn({queryKey:["listTrainJobs"],queryFn:kL})}function YL(){return kn({queryKey:["listPredictions"],queryFn:TL})}function UE(){return kn({queryKey:["listWeights"],queryFn:LL})}function qu(){return kn({queryKey:["listVideoFolders"],queryFn:SL})}function XL(t){return kn({queryKey:["videoFolder",t],queryFn:()=>CL(t)})}function KL(t){return kn({queryKey:["slurmLogfile",t],retry:!1,queryFn:()=>FL(t)})}function qL(t,e,r,n){return kn({queryKey:["previewPrediction",t,e,r,n],retry:!1,queryFn:()=>zL(t,e,r,n)})}function ZL(){const t=Zn();return to({mutationFn:EL,onSuccess:()=>{t.invalidateQueries({queryKey:["listVideoFolders"]})}})}function QL(){const t=Zn();return to({mutationFn:PL,onSuccess:()=>{t.invalidateQueries({queryKey:["listVideoFolders"]})}})}function JL(){const t=Zn();return to({mutationFn:RL,onSuccess:()=>{t.invalidateQueries({queryKey:["listTrainJobs"]})}})}function eF(){const t=Zn();return to({mutationFn:ML,onSuccess:()=>{t.invalidateQueries({queryKey:["listTrainJobs"]})}})}function tF(){const t=Zn();return to({mutationFn:IL,onSuccess:()=>{t.invalidateQueries({queryKey:["listTrainJobs"]}),t.invalidateQueries({queryKey:["listPredictJobs"]})}})}function rF(){const t=Zn();return to({mutationFn:jL,onSuccess:()=>{t.invalidateQueries({queryKey:["listPredictJobs"]})}})}function nF(){const t=Zn();return to({mutationFn:NL,onSuccess:()=>{t.invalidateQueries({queryKey:["listPredictJobs"]})}})}function sF(){const t=Zn();return to({mutationFn:$L,onSuccess:()=>{t.invalidateQueries({queryKey:["listVideoFolders"]})}})}function iF(){const[t,e]=p.useState([0,0]);return p.useLayoutEffect(()=>{function r(){e([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),t}function oF(t,e=500){const[r,n]=p.useState(null),s=p.useRef(null);return p.useEffect(()=>(s.current=setTimeout(()=>n(t),e),()=>{clearTimeout(s.current)}),[t,e]),r}function aF(){const{data:t,isLoading:e}=GL(),{data:r,isLoading:n}=WL(),s=tF();if(n||e)return f.jsx("div",{children:"Loading..."});const i=()=>{console.log("REFRESHING JOBS"),s.mutate()};return f.jsx(f.Fragment,{children:f.jsxs(zE,{children:[f.jsx(tr,{onClick:i,className:"max-w-40",variant:"default",children:"Refresh All Jobs"}),f.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Training Jobs"}),f.jsxs(zi,{className:"mb-5",children:[f.jsx(Wo,{children:"Training Jobs"}),f.jsx(Ui,{children:f.jsxs(Wr,{children:[f.jsx(Ce,{className:"w-[80px]",children:"Job ID"}),f.jsx(Ce,{children:"Name"}),f.jsx(Ce,{children:"Command"}),f.jsx(Ce,{children:"Runtime"}),f.jsx(Ce,{children:"Status"}),f.jsx(Ce,{children:"Slurm Job"}),f.jsx(Ce,{children:"Output Weights"}),f.jsx(Ce,{children:"Log File"}),f.jsx(Ce,{children:"Created At"}),f.jsx(Ce,{children:"Actions "})]})}),f.jsx(Vi,{children:t.map(o=>f.jsxs(Wr,{children:[f.jsx(Re,{children:o.train_job_id}),f.jsx(Re,{className:"font-medium",children:f.jsx(En,{to:yt.trainJobDetails.path.replace(/:id/,`${o.train_job_id}`),children:o.train_job_name})}),f.jsx(Re,{children:o.mode}),f.jsx(Re,{children:o.runtime_id}),f.jsx(Re,{children:o.status}),f.jsx(Re,{children:o.slurm_job_id}),f.jsx(Re,{children:o.weights_name}),f.jsx(Re,{children:f.jsxs(Nc,{children:[f.jsx(Ic,{children:"..."}),f.jsx(Ya,{children:o.stdout_file})]})}),f.jsx(Re,{children:cy(o.created_at)}),f.jsx(Re,{children:f.jsx("div",{className:"cursor-pointer",children:"Cancel"})})]},o.train_job_id))})]}),f.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Inference Jobs"}),f.jsxs(zi,{children:[f.jsx(Wo,{children:"Inference Jobs"}),f.jsx(Ui,{children:f.jsxs(Wr,{children:[f.jsx(Ce,{className:"w-[80px]",children:"Job ID"}),f.jsx(Ce,{children:"Name"}),f.jsx(Ce,{children:"Command"}),f.jsx(Ce,{children:"Runtime"}),f.jsx(Ce,{children:"Status"}),f.jsx(Ce,{children:"Slurm Job"}),f.jsx(Ce,{children:"Video Folder"}),f.jsx(Ce,{children:"Predictons"}),f.jsx(Ce,{children:"Log File"}),f.jsx(Ce,{children:"Created At"}),f.jsx(Ce,{children:"Actions "})]})}),f.jsx(Vi,{children:r.map(o=>f.jsxs(Wr,{children:[f.jsx(Re,{className:"font-medium",children:o.predict_job_id}),f.jsx(Re,{className:"font-medium",children:f.jsx(En,{to:yt.predictJobDetails.path.replace(/:id/,`${o.predict_job_id}`),children:o.predict_job_name})}),f.jsx(Re,{children:o.mode}),f.jsx(Re,{children:o.runtime_id}),f.jsx(Re,{children:o.status}),f.jsx(Re,{children:o.slurm_job_id}),f.jsx(Re,{children:o.weights_name}),f.jsx(Re,{children:o.prediction_name}),f.jsx(Re,{children:f.jsxs(Nc,{children:[f.jsx(Ic,{children:"..."}),f.jsx(Ya,{children:o.stdout_file})]})}),f.jsx(Re,{children:cy(o.created_at)}),f.jsx(Re,{children:f.jsx("div",{className:"cursor-pointer",children:"Cancel"})})]},o.predict_job_id))})]})]})})}var Zu=t=>t.type==="checkbox",Ia=t=>t instanceof Date,Rr=t=>t==null;const VE=t=>typeof t=="object";var Xt=t=>!Rr(t)&&!Array.isArray(t)&&VE(t)&&!Ia(t),WE=t=>Xt(t)&&t.target?Zu(t.target)?t.target.checked:t.target.value:t,lF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,HE=(t,e)=>t.has(lF(e)),cF=t=>{const e=t.constructor&&t.constructor.prototype;return Xt(e)&&e.hasOwnProperty("isPrototypeOf")},bx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(bx&&(t instanceof Blob||t instanceof FileList))&&(r||Xt(t)))if(e=r?[]:{},!r&&!cF(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Lr(t[n]));else return t;return e}var Jf=t=>Array.isArray(t)?t.filter(Boolean):[],Ft=t=>t===void 0,se=(t,e,r)=>{if(!e||!Xt(t))return r;const n=Jf(e.split(/[,[\].]+?/)).reduce((s,i)=>Rr(s)?s:s[i],t);return Ft(n)||n===t?Ft(t[e])?r:t[e]:n},vn=t=>typeof t=="boolean",_x=t=>/^\w*$/.test(t),GE=t=>Jf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(t,e,r)=>{let n=-1;const s=_x(e)?[e]:GE(e),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=t[a];l=Xt(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const rf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ps={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},YE=W.createContext(null),ep=()=>W.useContext(YE),uF=t=>{const{children:e,...r}=t;return W.createElement(YE.Provider,{value:r},e)};var XE=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==zn.all&&(e._proxyFormState[o]=!n||zn.all),r&&(r[o]=!0),t[o]}});return s},Br=t=>Xt(t)&&!Object.keys(t).length,KE=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Br(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||zn.all))},Oc=t=>Array.isArray(t)?t:[t],qE=(t,e,r)=>!t||!e||t===e||Oc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Sx(t){const e=W.useRef(t);e.current=t,W.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function dF(t){const e=ep(),{control:r=e.control,disabled:n,name:s,exact:i}=t||{},[o,a]=W.useState(r._formState),l=W.useRef(!0),c=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=W.useRef(s);return u.current=s,Sx({disabled:n,next:d=>l.current&&qE(u.current,d.name,i)&&KE(d,c.current,r._updateFormState)&&a({...r._formState,...d}),subject:r._subjects.state}),W.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),XE(o,r,c.current,!1)}var hs=t=>typeof t=="string",ZE=(t,e,r,n,s)=>hs(t)?(n&&e.watch.add(t),se(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),se(r,i))):(n&&(e.watchAll=!0),r);function hF(t){const e=ep(),{control:r=e.control,name:n,defaultValue:s,disabled:i,exact:o}=t||{},a=W.useRef(n);a.current=n,Sx({disabled:i,subject:r._subjects.values,next:u=>{qE(a.current,u.name,o)&&c(Lr(ZE(a.current,r._names,u.values||r._formValues,!1,s)))}});const[l,c]=W.useState(r._getWatch(n,s));return W.useEffect(()=>r._removeUnmounted()),l}function fF(t){const e=ep(),{name:r,disabled:n,control:s=e.control,shouldUnregister:i}=t,o=HE(s._names.array,r),a=hF({control:s,name:r,defaultValue:se(s._formValues,r,se(s._defaultValues,r,t.defaultValue)),exact:!0}),l=dF({control:s,name:r,exact:!0}),c=W.useRef(s.register(r,{...t.rules,value:a,...vn(t.disabled)?{disabled:t.disabled}:{}}));return W.useEffect(()=>{const u=s._options.shouldUnregister||i,d=(h,m)=>{const y=se(s._fields,h);y&&y._f&&(y._f.mount=m)};if(d(r,!0),u){const h=Lr(se(s._options.defaultValues,r));lt(s._defaultValues,r,h),Ft(se(s._formValues,r))&&lt(s._formValues,r,h)}return()=>{(o?u&&!s._state.action:u)?s.unregister(r):d(r,!1)}},[r,s,o,i]),W.useEffect(()=>{se(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:se(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:a,...vn(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:W.useCallback(u=>c.current.onChange({target:{value:WE(u),name:r},type:rf.CHANGE}),[r]),onBlur:W.useCallback(()=>c.current.onBlur({target:{value:se(s._formValues,r),name:r},type:rf.BLUR}),[r,s]),ref:W.useCallback(u=>{const d=se(s._fields,r);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})},[s._fields,r])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!se(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!se(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!se(l.validatingFields,r)},error:{enumerable:!0,get:()=>se(l.errors,r)}})}}const pF=t=>t.render(fF(t));var QE=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},mb=t=>({isOnSubmit:!t||t===zn.onSubmit,isOnBlur:t===zn.onBlur,isOnChange:t===zn.onChange,isOnAll:t===zn.all,isOnTouch:t===zn.onTouched}),gb=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Dc=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=se(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Dc(a,e))break}else if(Xt(a)&&Dc(a,e))break}}};var mF=(t,e,r)=>{const n=Oc(se(t,r));return lt(n,"root",e[r]),lt(t,r,n),t},Cx=t=>t.type==="file",Os=t=>typeof t=="function",nf=t=>{if(!bx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},xh=t=>hs(t),Ex=t=>t.type==="radio",sf=t=>t instanceof RegExp;const yb={value:!1,isValid:!1},vb={value:!0,isValid:!0};var JE=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?vb:{value:t[0].value,isValid:!0}:vb:yb}return yb};const xb={isValid:!1,value:null};var eP=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,xb):xb;function wb(t,e,r="validate"){if(xh(t)||Array.isArray(t)&&t.every(xh)||vn(t)&&!t)return{type:r,message:xh(t)?t:"",ref:e}}var ua=t=>Xt(t)&&!sf(t)?t:{value:t,message:""},bb=async(t,e,r,n,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:m,name:y,valueAsNumber:g,mount:w,disabled:x}=t._f,v=se(e,y);if(!w||x)return{};const b=o?o[0]:i,_=F=>{n&&b.reportValidity&&(b.setCustomValidity(vn(F)?"":F||""),b.reportValidity())},C={},A=Ex(i),E=Zu(i),S=A||E,P=(g||Cx(i))&&Ft(i.value)&&Ft(v)||nf(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,T=QE.bind(null,y,r,C),U=(F,z,B,Y=Ps.maxLength,X=Ps.minLength)=>{const Q=F?z:B;C[y]={type:F?Y:X,message:Q,ref:i,...T(F?Y:X,Q)}};if(s?!Array.isArray(v)||!v.length:a&&(!S&&(P||Rr(v))||vn(v)&&!v||E&&!JE(o).isValid||A&&!eP(o).isValid)){const{value:F,message:z}=xh(a)?{value:!!a,message:a}:ua(a);if(F&&(C[y]={type:Ps.required,message:z,ref:b,...T(Ps.required,z)},!r))return _(z),C}if(!P&&(!Rr(u)||!Rr(d))){let F,z;const B=ua(d),Y=ua(u);if(!Rr(v)&&!isNaN(v)){const X=i.valueAsNumber||v&&+v;Rr(B.value)||(F=X>B.value),Rr(Y.value)||(z=X<Y.value)}else{const X=i.valueAsDate||new Date(v),Q=V=>new Date(new Date().toDateString()+" "+V),D=i.type=="time",O=i.type=="week";hs(B.value)&&v&&(F=D?Q(v)>Q(B.value):O?v>B.value:X>new Date(B.value)),hs(Y.value)&&v&&(z=D?Q(v)<Q(Y.value):O?v<Y.value:X<new Date(Y.value))}if((F||z)&&(U(!!F,B.message,Y.message,Ps.max,Ps.min),!r))return _(C[y].message),C}if((l||c)&&!P&&(hs(v)||s&&Array.isArray(v))){const F=ua(l),z=ua(c),B=!Rr(F.value)&&v.length>+F.value,Y=!Rr(z.value)&&v.length<+z.value;if((B||Y)&&(U(B,F.message,z.message),!r))return _(C[y].message),C}if(h&&!P&&hs(v)){const{value:F,message:z}=ua(h);if(sf(F)&&!v.match(F)&&(C[y]={type:Ps.pattern,message:z,ref:i,...T(Ps.pattern,z)},!r))return _(z),C}if(m){if(Os(m)){const F=await m(v,e),z=wb(F,b);if(z&&(C[y]={...z,...T(Ps.validate,z.message)},!r))return _(z.message),C}else if(Xt(m)){let F={};for(const z in m){if(!Br(F)&&!r)break;const B=wb(await m[z](v,e),b,z);B&&(F={...B,...T(z,B.message)},_(B.message),r&&(C[y]=F))}if(!Br(F)&&(C[y]={ref:b,...F},!r))return C}}return _(!0),C};function gF(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ft(t)?n++:t[e[n++]];return t}function yF(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ft(t[e]))return!1;return!0}function Kt(t,e){const r=Array.isArray(e)?e:_x(e)?[e]:GE(e),n=r.length===1?t:gF(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Xt(n)&&Br(n)||Array.isArray(n)&&yF(n))&&Kt(t,r.slice(0,-1)),t}var sm=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},of=t=>Rr(t)||!VE(t);function mi(t,e){if(of(t)||of(e))return t===e;if(Ia(t)&&Ia(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ia(i)&&Ia(o)||Xt(i)&&Xt(o)||Array.isArray(i)&&Array.isArray(o)?!mi(i,o):i!==o)return!1}}return!0}var tP=t=>t.type==="select-multiple",vF=t=>Ex(t)||Zu(t),im=t=>nf(t)&&t.isConnected,rP=t=>{for(const e in t)if(Os(t[e]))return!0;return!1};function af(t,e={}){const r=Array.isArray(t);if(Xt(t)||r)for(const n in t)Array.isArray(t[n])||Xt(t[n])&&!rP(t[n])?(e[n]=Array.isArray(t[n])?[]:{},af(t[n],e[n])):Rr(t[n])||(e[n]=!0);return e}function nP(t,e,r){const n=Array.isArray(t);if(Xt(t)||n)for(const s in t)Array.isArray(t[s])||Xt(t[s])&&!rP(t[s])?Ft(e)||of(r[s])?r[s]=Array.isArray(t[s])?af(t[s],[]):{...af(t[s])}:nP(t[s],Rr(e)?{}:e[s],r[s]):r[s]=!mi(t[s],e[s]);return r}var Ld=(t,e)=>nP(t,e,af(e)),sP=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ft(t)?t:e?t===""?NaN:t&&+t:r&&hs(t)?new Date(t):n?n(t):t;function om(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Cx(e)?e.files:Ex(e)?eP(t.refs).value:tP(e)?[...e.selectedOptions].map(({value:r})=>r):Zu(e)?JE(t.refs).value:sP(Ft(e.value)?t.ref.value:e.value,t)}var xF=(t,e,r,n)=>{const s={};for(const i of t){const o=se(e,i);o&&lt(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},oc=t=>Ft(t)?t:sf(t)?t.source:Xt(t)?sf(t.value)?t.value.source:t.value:t;const _b="AsyncFunction";var wF=t=>(!t||!t.validate)&&!!(Os(t.validate)&&t.validate.constructor.name===_b||Xt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===_b)),bF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Sb(t,e,r){const n=se(t,r);if(n||_x(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=se(e,i),a=se(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var _F=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,SF=(t,e)=>!Jf(se(t,e)).length&&Kt(t,e);const CF={mode:zn.onSubmit,reValidateMode:zn.onChange,shouldFocusError:!0};function EF(t={}){let e={...CF,...t},r={submitCount:0,isDirty:!1,isLoading:Os(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Xt(e.defaultValues)||Xt(e.values)?Lr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Lr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:sm(),array:sm(),state:sm()},h=mb(e.mode),m=mb(e.reValidateMode),y=e.criteriaMode===zn.all,g=k=>I=>{clearTimeout(c),c=setTimeout(k,I)},w=async k=>{if(u.isValid||k){const I=e.resolver?Br((await S()).errors):await T(n,!0);I!==r.isValid&&d.state.next({isValid:I})}},x=(k,I)=>{(u.isValidating||u.validatingFields)&&((k||Array.from(a.mount)).forEach($=>{$&&(I?lt(r.validatingFields,$,I):Kt(r.validatingFields,$))}),d.state.next({validatingFields:r.validatingFields,isValidating:!Br(r.validatingFields)}))},v=(k,I=[],$,oe,ne=!0,q=!0)=>{if(oe&&$){if(o.action=!0,q&&Array.isArray(se(n,k))){const pe=$(se(n,k),oe.argA,oe.argB);ne&&lt(n,k,pe)}if(q&&Array.isArray(se(r.errors,k))){const pe=$(se(r.errors,k),oe.argA,oe.argB);ne&&lt(r.errors,k,pe),SF(r.errors,k)}if(u.touchedFields&&q&&Array.isArray(se(r.touchedFields,k))){const pe=$(se(r.touchedFields,k),oe.argA,oe.argB);ne&&lt(r.touchedFields,k,pe)}u.dirtyFields&&(r.dirtyFields=Ld(s,i)),d.state.next({name:k,isDirty:F(k,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else lt(i,k,I)},b=(k,I)=>{lt(r.errors,k,I),d.state.next({errors:r.errors})},_=k=>{r.errors=k,d.state.next({errors:r.errors,isValid:!1})},C=(k,I,$,oe)=>{const ne=se(n,k);if(ne){const q=se(i,k,Ft($)?se(s,k):$);Ft(q)||oe&&oe.defaultChecked||I?lt(i,k,I?q:om(ne._f)):Y(k,q),o.mount&&w()}},A=(k,I,$,oe,ne)=>{let q=!1,pe=!1;const qe={name:k},at=!!(se(n,k)&&se(n,k)._f&&se(n,k)._f.disabled);if(!$||oe){u.isDirty&&(pe=r.isDirty,r.isDirty=qe.isDirty=F(),q=pe!==qe.isDirty);const st=at||mi(se(s,k),I);pe=!!(!at&&se(r.dirtyFields,k)),st||at?Kt(r.dirtyFields,k):lt(r.dirtyFields,k,!0),qe.dirtyFields=r.dirtyFields,q=q||u.dirtyFields&&pe!==!st}if($){const st=se(r.touchedFields,k);st||(lt(r.touchedFields,k,$),qe.touchedFields=r.touchedFields,q=q||u.touchedFields&&st!==$)}return q&&ne&&d.state.next(qe),q?qe:{}},E=(k,I,$,oe)=>{const ne=se(r.errors,k),q=u.isValid&&vn(I)&&r.isValid!==I;if(t.delayError&&$?(l=g(()=>b(k,$)),l(t.delayError)):(clearTimeout(c),l=null,$?lt(r.errors,k,$):Kt(r.errors,k)),($?!mi(ne,$):ne)||!Br(oe)||q){const pe={...oe,...q&&vn(I)?{isValid:I}:{},errors:r.errors,name:k};r={...r,...pe},d.state.next(pe)}},S=async k=>{x(k,!0);const I=await e.resolver(i,e.context,xF(k||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(k),I},P=async k=>{const{errors:I}=await S(k);if(k)for(const $ of k){const oe=se(I,$);oe?lt(r.errors,$,oe):Kt(r.errors,$)}else r.errors=I;return I},T=async(k,I,$={valid:!0})=>{for(const oe in k){const ne=k[oe];if(ne){const{_f:q,...pe}=ne;if(q){const qe=a.array.has(q.name),at=ne._f&&wF(ne._f);at&&u.validatingFields&&x([oe],!0);const st=await bb(ne,i,y,e.shouldUseNativeValidation&&!I,qe);if(at&&u.validatingFields&&x([oe]),st[q.name]&&($.valid=!1,I))break;!I&&(se(st,q.name)?qe?mF(r.errors,st,q.name):lt(r.errors,q.name,st[q.name]):Kt(r.errors,q.name))}!Br(pe)&&await T(pe,I,$)}}return $.valid},U=()=>{for(const k of a.unMount){const I=se(n,k);I&&(I._f.refs?I._f.refs.every($=>!im($)):!im(I._f.ref))&&re(k)}a.unMount=new Set},F=(k,I)=>(k&&I&&lt(i,k,I),!mi(ee(),s)),z=(k,I,$)=>ZE(k,a,{...o.mount?i:Ft(I)?s:hs(k)?{[k]:I}:I},$,I),B=k=>Jf(se(o.mount?i:s,k,t.shouldUnregister?se(s,k,[]):[])),Y=(k,I,$={})=>{const oe=se(n,k);let ne=I;if(oe){const q=oe._f;q&&(!q.disabled&&lt(i,k,sP(I,q)),ne=nf(q.ref)&&Rr(I)?"":I,tP(q.ref)?[...q.ref.options].forEach(pe=>pe.selected=ne.includes(pe.value)):q.refs?Zu(q.ref)?q.refs.length>1?q.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(ne)?!!ne.find(qe=>qe===pe.value):ne===pe.value)):q.refs[0]&&(q.refs[0].checked=!!ne):q.refs.forEach(pe=>pe.checked=pe.value===ne):Cx(q.ref)?q.ref.value="":(q.ref.value=ne,q.ref.type||d.values.next({name:k,values:{...i}})))}($.shouldDirty||$.shouldTouch)&&A(k,ne,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&V(k)},X=(k,I,$)=>{for(const oe in I){const ne=I[oe],q=`${k}.${oe}`,pe=se(n,q);(a.array.has(k)||!of(ne)||pe&&!pe._f)&&!Ia(ne)?X(q,ne,$):Y(q,ne,$)}},Q=(k,I,$={})=>{const oe=se(n,k),ne=a.array.has(k),q=Lr(I);lt(i,k,q),ne?(d.array.next({name:k,values:{...i}}),(u.isDirty||u.dirtyFields)&&$.shouldDirty&&d.state.next({name:k,dirtyFields:Ld(s,i),isDirty:F(k,q)})):oe&&!oe._f&&!Rr(q)?X(k,q,$):Y(k,q,$),gb(k,a)&&d.state.next({...r}),d.values.next({name:o.mount?k:void 0,values:{...i}})},D=async k=>{o.mount=!0;const I=k.target;let $=I.name,oe=!0;const ne=se(n,$),q=()=>I.type?om(ne._f):WE(k),pe=qe=>{oe=Number.isNaN(qe)||mi(qe,se(i,$,qe))};if(ne){let qe,at;const st=q(),Kr=k.type===rf.BLUR||k.type===rf.FOCUS_OUT,mn=!bF(ne._f)&&!e.resolver&&!se(r.errors,$)&&!ne._f.deps||_F(Kr,se(r.touchedFields,$),r.isSubmitted,m,h),_r=gb($,a,Kr);lt(i,$,st),Kr?(ne._f.onBlur&&ne._f.onBlur(k),l&&l(0)):ne._f.onChange&&ne._f.onChange(k);const Sr=A($,st,Kr,!1),co=!Br(Sr)||_r;if(!Kr&&d.values.next({name:$,type:k.type,values:{...i}}),mn)return u.isValid&&(t.mode==="onBlur"?Kr&&w():w()),co&&d.state.next({name:$,..._r?{}:Sr});if(!Kr&&_r&&d.state.next({...r}),e.resolver){const{errors:ts}=await S([$]);if(pe(st),oe){const Hl=Sb(r.errors,n,$),Cr=Sb(ts,n,Hl.name||$);qe=Cr.error,$=Cr.name,at=Br(ts)}}else x([$],!0),qe=(await bb(ne,i,y,e.shouldUseNativeValidation))[$],x([$]),pe(st),oe&&(qe?at=!1:u.isValid&&(at=await T(n,!0)));oe&&(ne._f.deps&&V(ne._f.deps),E($,at,qe,Sr))}},O=(k,I)=>{if(se(r.errors,I)&&k.focus)return k.focus(),1},V=async(k,I={})=>{let $,oe;const ne=Oc(k);if(e.resolver){const q=await P(Ft(k)?k:ne);$=Br(q),oe=k?!ne.some(pe=>se(q,pe)):$}else k?(oe=(await Promise.all(ne.map(async q=>{const pe=se(n,q);return await T(pe&&pe._f?{[q]:pe}:pe)}))).every(Boolean),!(!oe&&!r.isValid)&&w()):oe=$=await T(n);return d.state.next({...!hs(k)||u.isValid&&$!==r.isValid?{}:{name:k},...e.resolver||!k?{isValid:$}:{},errors:r.errors}),I.shouldFocus&&!oe&&Dc(n,O,k?ne:a.mount),oe},ee=k=>{const I={...o.mount?i:s};return Ft(k)?I:hs(k)?se(I,k):k.map($=>se(I,$))},N=(k,I)=>({invalid:!!se((I||r).errors,k),isDirty:!!se((I||r).dirtyFields,k),error:se((I||r).errors,k),isValidating:!!se(r.validatingFields,k),isTouched:!!se((I||r).touchedFields,k)}),G=k=>{k&&Oc(k).forEach(I=>Kt(r.errors,I)),d.state.next({errors:k?r.errors:{}})},ie=(k,I,$)=>{const oe=(se(n,k,{_f:{}})._f||{}).ref,ne=se(r.errors,k)||{},{ref:q,message:pe,type:qe,...at}=ne;lt(r.errors,k,{...at,...I,ref:oe}),d.state.next({name:k,errors:r.errors,isValid:!1}),$&&$.shouldFocus&&oe&&oe.focus&&oe.focus()},te=(k,I)=>Os(k)?d.values.subscribe({next:$=>k(z(void 0,I),$)}):z(k,I,!0),re=(k,I={})=>{for(const $ of k?Oc(k):a.mount)a.mount.delete($),a.array.delete($),I.keepValue||(Kt(n,$),Kt(i,$)),!I.keepError&&Kt(r.errors,$),!I.keepDirty&&Kt(r.dirtyFields,$),!I.keepTouched&&Kt(r.touchedFields,$),!I.keepIsValidating&&Kt(r.validatingFields,$),!e.shouldUnregister&&!I.keepDefaultValue&&Kt(s,$);d.values.next({values:{...i}}),d.state.next({...r,...I.keepDirty?{isDirty:F()}:{}}),!I.keepIsValid&&w()},J=({disabled:k,name:I,field:$,fields:oe,value:ne})=>{if(vn(k)&&o.mount||k){const q=k?void 0:Ft(ne)?om($?$._f:se(oe,I)._f):ne;lt(i,I,q),A(I,q,!1,!1,!0)}},fe=(k,I={})=>{let $=se(n,k);const oe=vn(I.disabled)||vn(t.disabled);return lt(n,k,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:k}},name:k,mount:!0,...I}}),a.mount.add(k),$?J({field:$,disabled:vn(I.disabled)?I.disabled:t.disabled,name:k,value:I.value}):C(k,!0,I.value),{...oe?{disabled:I.disabled||t.disabled}:{},...e.progressive?{required:!!I.required,min:oc(I.min),max:oc(I.max),minLength:oc(I.minLength),maxLength:oc(I.maxLength),pattern:oc(I.pattern)}:{},name:k,onChange:D,onBlur:D,ref:ne=>{if(ne){fe(k,I),$=se(n,k);const q=Ft(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,pe=vF(q),qe=$._f.refs||[];if(pe?qe.find(at=>at===q):q===$._f.ref)return;lt(n,k,{_f:{...$._f,...pe?{refs:[...qe.filter(im),q,...Array.isArray(se(s,k))?[{}]:[]],ref:{type:q.type,name:k}}:{ref:q}}}),C(k,!1,void 0,q)}else $=se(n,k,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||I.shouldUnregister)&&!(HE(a.array,k)&&o.action)&&a.unMount.add(k)}}},Ie=()=>e.shouldFocusError&&Dc(n,O,a.mount),Ae=k=>{vn(k)&&(d.state.next({disabled:k}),Dc(n,(I,$)=>{const oe=se(n,$);oe&&(I.disabled=oe._f.disabled||k,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ne=>{ne.disabled=oe._f.disabled||k}))},0,!1))},ze=(k,I)=>async $=>{let oe;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ne=Lr(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:q,values:pe}=await S();r.errors=q,ne=pe}else await T(n);if(Kt(r.errors,"root"),Br(r.errors)){d.state.next({errors:{}});try{await k(ne,$)}catch(q){oe=q}}else I&&await I({...r.errors},$),Ie(),setTimeout(Ie);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Br(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},Oe=(k,I={})=>{se(n,k)&&(Ft(I.defaultValue)?Q(k,Lr(se(s,k))):(Q(k,I.defaultValue),lt(s,k,Lr(I.defaultValue))),I.keepTouched||Kt(r.touchedFields,k),I.keepDirty||(Kt(r.dirtyFields,k),r.isDirty=I.defaultValue?F(k,Lr(se(s,k))):F()),I.keepError||(Kt(r.errors,k),u.isValid&&w()),d.state.next({...r}))},xt=(k,I={})=>{const $=k?Lr(k):s,oe=Lr($),ne=Br(k),q=ne?s:oe;if(I.keepDefaultValues||(s=$),!I.keepValues){if(I.keepDirtyValues)for(const pe of a.mount)se(r.dirtyFields,pe)?lt(q,pe,se(i,pe)):Q(pe,se(q,pe));else{if(bx&&Ft(k))for(const pe of a.mount){const qe=se(n,pe);if(qe&&qe._f){const at=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(nf(at)){const st=at.closest("form");if(st){st.reset();break}}}}n={}}i=t.shouldUnregister?I.keepDefaultValues?Lr(s):{}:Lr(q),d.array.next({values:{...q}}),d.values.next({values:{...q}})}a={mount:I.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!I.keepIsValid||!!I.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!mi(k,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:I.keepDirtyValues?I.keepDefaultValues&&i?Ld(s,i):r.dirtyFields:I.keepDefaultValues&&k?Ld(s,k):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Xe=(k,I)=>xt(Os(k)?k(i):k,I);return{control:{register:fe,unregister:re,getFieldState:N,handleSubmit:ze,setError:ie,_executeSchema:S,_getWatch:z,_getDirty:F,_updateValid:w,_removeUnmounted:U,_updateFieldArray:v,_updateDisabledField:J,_getFieldArray:B,_reset:xt,_resetDefaultValues:()=>Os(e.defaultValues)&&e.defaultValues().then(k=>{Xe(k,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:k=>{r={...r,...k}},_disableForm:Ae,_subjects:d,_proxyFormState:u,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return a},set _names(k){a=k},get _formState(){return r},set _formState(k){r=k},get _options(){return e},set _options(k){e={...e,...k}}},trigger:V,register:fe,handleSubmit:ze,watch:te,setValue:Q,getValues:ee,reset:Xe,resetField:Oe,clearErrors:G,unregister:re,setError:ie,setFocus:(k,I={})=>{const $=se(n,k),oe=$&&$._f;if(oe){const ne=oe.refs?oe.refs[0]:oe.ref;ne.focus&&(ne.focus(),I.shouldSelect&&ne.select())}},getFieldState:N}}function ro(t={}){const e=W.useRef(),r=W.useRef(),[n,s]=W.useState({isDirty:!1,isValidating:!1,isLoading:Os(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Os(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...EF(t),formState:n});const i=e.current.control;return i._options=t,Sx({subject:i._subjects.state,next:o=>{KE(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),W.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),W.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),W.useEffect(()=>{t.values&&!mi(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),W.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),W.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),W.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=XE(n,i),e.current}var PF="Label",iP=p.forwardRef((t,e)=>f.jsx(Be.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));iP.displayName=PF;var oP=iP;const AF=nE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),aP=p.forwardRef(({className:t,...e},r)=>f.jsx(oP,{ref:r,className:Ne(AF(),t),...e}));aP.displayName=oP.displayName;const no=uF,lP=p.createContext({}),Ke=({...t})=>f.jsx(lP.Provider,{value:{name:t.name},children:f.jsx(pF,{...t})}),tp=()=>{const t=p.useContext(lP),e=p.useContext(cP),{getFieldState:r,formState:n}=ep(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},cP=p.createContext({}),Ve=p.forwardRef(({className:t,...e},r)=>{const n=p.useId();return f.jsx(cP.Provider,{value:{id:n},children:f.jsx("div",{ref:r,className:Ne("space-y-2",t),...e})})});Ve.displayName="FormItem";const We=p.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=tp();return f.jsx(aP,{ref:r,className:Ne(n&&"text-destructive",t),htmlFor:s,...e})});We.displayName="FormLabel";const He=p.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=tp();return f.jsx(Hs,{ref:e,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...t})});He.displayName="FormControl";const et=p.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=tp();return f.jsx("p",{ref:r,id:n,className:Ne("text-sm text-muted-foreground",t),...e})});et.displayName="FormDescription";const Ge=p.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:i}=tp(),o=s?String(s==null?void 0:s.message):e;return o?f.jsx("p",{ref:n,id:i,className:Ne("text-sm font-medium text-destructive",t),...r,children:o}):null});Ge.displayName="FormMessage";const Bt=p.forwardRef(({className:t,type:e,...r},n)=>f.jsx("input",{type:e,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Bt.displayName="Input";const Cb=(t,e,r)=>{if(t&&"reportValidity"in t){const n=se(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},uP=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Cb(n.ref,r,t):n.refs&&n.refs.forEach(s=>Cb(s,r,t))}},kF=(t,e)=>{e.shouldUseNativeValidation&&uP(t,e);const r={};for(const n in t){const s=se(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(TF(e.names||Object.keys(t),n)){const o=Object.assign({},se(r,n));lt(o,"root",i),lt(r,n,o)}else lt(r,n,i)}return r},TF=(t,e)=>t.some(r=>r.startsWith(e+"."));var RF=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=r[o].types,c=l&&l[n.code];r[o]=QE(o,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},so=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&uP({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:kF(RF(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Qe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Qe||(Qe={}));var gy;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(gy||(gy={}));const ue=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gi=t=>{switch(typeof t){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return isNaN(t)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(t)?ue.array:t===null?ue.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ue.promise:typeof Map<"u"&&t instanceof Map?ue.map:typeof Set<"u"&&t instanceof Set?ue.set:typeof Date<"u"&&t instanceof Date?ue.date:ue.object;default:return ue.unknown}},Z=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),MF=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class cn extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof cn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}cn.create=t=>new cn(t);const _l=(t,e)=>{let r;switch(t.code){case Z.invalid_type:t.received===ue.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Qe.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${Qe.joinValues(t.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Qe.joinValues(t.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${Qe.joinValues(t.options)}, received '${t.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Qe.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Z.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Z.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=e.defaultError,Qe.assertNever(t)}return{message:r}};let dP=_l;function jF(t){dP=t}function lf(){return dP}const cf=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},NF=[];function le(t,e){const r=lf(),n=cf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===_l?void 0:_l].filter(s=>!!s)});t.common.issues.push(n)}class wr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Pe;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return wr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Pe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const Pe=Object.freeze({status:"aborted"}),Oa=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),yy=t=>t.status==="aborted",vy=t=>t.status==="dirty",du=t=>t.status==="valid",hu=t=>typeof Promise<"u"&&t instanceof Promise;function uf(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function hP(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));var vc,xc;class ys{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Eb=(t,e)=>{if(du(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new cn(t.common.issues);return this._error=r,this._error}}};function je(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class $e{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return gi(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wr,ctx:{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(hu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Eb(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(hu(s)?s:Promise.resolve(s));return Eb(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Z.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new qn({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ms.create(this,this._def)}nullable(){return qi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gn.create(this,this._def)}promise(){return Cl.create(this,this._def)}or(e){return gu.create([this,e],this._def)}and(e){return yu.create(this,e,this._def)}transform(e){return new qn({...je(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new _u({...je(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new Px({typeName:Ee.ZodBranded,type:this,...je(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Su({...je(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Qu.create(this,e)}readonly(){return Cu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IF=/^c[^\s-]{8,}$/i,OF=/^[0-9a-z]+$/,DF=/^[0-9A-HJKMNP-TV-Z]{26}$/,LF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,FF=/^[a-z0-9_-]{21}$/i,$F=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let am;const UF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VF=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,WF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HF=new RegExp(`^${fP}$`);function pP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function GF(t){return new RegExp(`^${pP(t)}$`)}function mP(t){let e=`${fP}T${pP(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function YF(t,e){return!!((e==="v4"||!e)&&UF.test(t)||(e==="v6"||!e)&&VF.test(t))}class Vn extends $e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ue.string){const i=this._getOrReturnCtx(e);return le(i,{code:Z.invalid_type,expected:ue.string,received:i.parsedType}),Pe}const n=new wr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?le(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&le(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")BF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")am||(am=new RegExp(zF,"u")),am.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")LF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")FF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")IF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")OF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")DF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:Z.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:Z.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:Z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:Z.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:Z.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?mP(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:Z.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?HF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:Z.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?GF(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:Z.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?$F.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?YF(e.data,i.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?WF.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:Z.invalid_string,message:i.message}),n.dirty()):Qe.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Z.invalid_string,...ve.errToObj(n)})}_addCheck(e){return new Vn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ve.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ve.errToObj(r)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Vn.create=t=>{var e;return new Vn({checks:[],typeName:Ee.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...je(t)})};function XF(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Yi extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ue.number){const i=this._getOrReturnCtx(e);return le(i,{code:Z.invalid_type,expected:ue.number,received:i.parsedType}),Pe}let n;const s=new wr;for(const i of this._def.checks)i.kind==="int"?Qe.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),le(n,{code:Z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:Z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:Z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?XF(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),le(n,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),le(n,{code:Z.not_finite,message:i.message}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ve.toString(r))}setLimit(e,r,n,s){return new Yi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ve.toString(s)}]})}_addCheck(e){return new Yi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qe.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Yi.create=t=>new Yi({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...je(t)});class Xi extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ue.bigint){const i=this._getOrReturnCtx(e);return le(i,{code:Z.invalid_type,expected:ue.bigint,received:i.parsedType}),Pe}let n;const s=new wr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:Z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:Z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),le(n,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ve.toString(r))}setLimit(e,r,n,s){return new Xi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ve.toString(s)}]})}_addCheck(e){return new Xi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xi.create=t=>{var e;return new Xi({checks:[],typeName:Ee.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...je(t)})};class fu extends $e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ue.boolean){const n=this._getOrReturnCtx(e);return le(n,{code:Z.invalid_type,expected:ue.boolean,received:n.parsedType}),Pe}return Nr(e.data)}}fu.create=t=>new fu({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...je(t)});class Go extends $e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ue.date){const i=this._getOrReturnCtx(e);return le(i,{code:Z.invalid_type,expected:ue.date,received:i.parsedType}),Pe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return le(i,{code:Z.invalid_date}),Pe}const n=new wr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:Z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:Z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Qe.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Go({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Go.create=t=>new Go({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...je(t)});class df extends $e{_parse(e){if(this._getType(e)!==ue.symbol){const n=this._getOrReturnCtx(e);return le(n,{code:Z.invalid_type,expected:ue.symbol,received:n.parsedType}),Pe}return Nr(e.data)}}df.create=t=>new df({typeName:Ee.ZodSymbol,...je(t)});class pu extends $e{_parse(e){if(this._getType(e)!==ue.undefined){const n=this._getOrReturnCtx(e);return le(n,{code:Z.invalid_type,expected:ue.undefined,received:n.parsedType}),Pe}return Nr(e.data)}}pu.create=t=>new pu({typeName:Ee.ZodUndefined,...je(t)});class mu extends $e{_parse(e){if(this._getType(e)!==ue.null){const n=this._getOrReturnCtx(e);return le(n,{code:Z.invalid_type,expected:ue.null,received:n.parsedType}),Pe}return Nr(e.data)}}mu.create=t=>new mu({typeName:Ee.ZodNull,...je(t)});class Sl extends $e{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}}Sl.create=t=>new Sl({typeName:Ee.ZodAny,...je(t)});class Io extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}}Io.create=t=>new Io({typeName:Ee.ZodUnknown,...je(t)});class Xs extends $e{_parse(e){const r=this._getOrReturnCtx(e);return le(r,{code:Z.invalid_type,expected:ue.never,received:r.parsedType}),Pe}}Xs.create=t=>new Xs({typeName:Ee.ZodNever,...je(t)});class hf extends $e{_parse(e){if(this._getType(e)!==ue.undefined){const n=this._getOrReturnCtx(e);return le(n,{code:Z.invalid_type,expected:ue.void,received:n.parsedType}),Pe}return Nr(e.data)}}hf.create=t=>new hf({typeName:Ee.ZodVoid,...je(t)});class Gn extends $e{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==ue.array)return le(r,{code:Z.invalid_type,expected:ue.array,received:r.parsedType}),Pe;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(le(r,{code:o?Z.too_big:Z.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(le(r,{code:Z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(le(r,{code:Z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new ys(r,o,r.path,a)))).then(o=>wr.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new ys(r,o,r.path,a)));return wr.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Gn({...this._def,minLength:{value:e,message:ve.toString(r)}})}max(e,r){return new Gn({...this._def,maxLength:{value:e,message:ve.toString(r)}})}length(e,r){return new Gn({...this._def,exactLength:{value:e,message:ve.toString(r)}})}nonempty(e){return this.min(1,e)}}Gn.create=(t,e)=>new Gn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...je(e)});function va(t){if(t instanceof kt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ms.create(va(n))}return new kt({...t._def,shape:()=>e})}else return t instanceof Gn?new Gn({...t._def,type:va(t.element)}):t instanceof ms?ms.create(va(t.unwrap())):t instanceof qi?qi.create(va(t.unwrap())):t instanceof vs?vs.create(t.items.map(e=>va(e))):t}class kt extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Qe.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ue.object){const c=this._getOrReturnCtx(e);return le(c,{code:Z.invalid_type,expected:ue.object,received:c.parsedType}),Pe}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Xs&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ys(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Xs){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(le(s,{code:Z.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ys(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>wr.mergeObjectSync(n,c)):wr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new kt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ve.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(e){return new kt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new kt({...this._def,catchall:e})}pick(e){const r={};return Qe.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new kt({...this._def,shape:()=>r})}omit(e){const r={};return Qe.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new kt({...this._def,shape:()=>r})}deepPartial(){return va(this)}partial(e){const r={};return Qe.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new kt({...this._def,shape:()=>r})}required(e){const r={};return Qe.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ms;)i=i._def.innerType;r[n]=i}}),new kt({...this._def,shape:()=>r})}keyof(){return gP(Qe.objectKeys(this.shape))}}kt.create=(t,e)=>new kt({shape:()=>t,unknownKeys:"strip",catchall:Xs.create(),typeName:Ee.ZodObject,...je(e)});kt.strictCreate=(t,e)=>new kt({shape:()=>t,unknownKeys:"strict",catchall:Xs.create(),typeName:Ee.ZodObject,...je(e)});kt.lazycreate=(t,e)=>new kt({shape:t,unknownKeys:"strip",catchall:Xs.create(),typeName:Ee.ZodObject,...je(e)});class gu extends $e{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new cn(a.ctx.common.issues));return le(r,{code:Z.invalid_union,unionErrors:o}),Pe}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new cn(l));return le(r,{code:Z.invalid_union,unionErrors:a}),Pe}}get options(){return this._def.options}}gu.create=(t,e)=>new gu({options:t,typeName:Ee.ZodUnion,...je(e)});const Ts=t=>t instanceof xu?Ts(t.schema):t instanceof qn?Ts(t.innerType()):t instanceof wu?[t.value]:t instanceof Ki?t.options:t instanceof bu?Qe.objectValues(t.enum):t instanceof _u?Ts(t._def.innerType):t instanceof pu?[void 0]:t instanceof mu?[null]:t instanceof ms?[void 0,...Ts(t.unwrap())]:t instanceof qi?[null,...Ts(t.unwrap())]:t instanceof Px||t instanceof Cu?Ts(t.unwrap()):t instanceof Su?Ts(t._def.innerType):[];class rp extends $e{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.object)return le(r,{code:Z.invalid_type,expected:ue.object,received:r.parsedType}),Pe;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(le(r,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=Ts(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new rp({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...je(n)})}}function xy(t,e){const r=gi(t),n=gi(e);if(t===e)return{valid:!0,data:t};if(r===ue.object&&n===ue.object){const s=Qe.objectKeys(e),i=Qe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=xy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===ue.array&&n===ue.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=xy(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===ue.date&&n===ue.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yu extends $e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(yy(i)||yy(o))return Pe;const a=xy(i.value,o.value);return a.valid?((vy(i)||vy(o))&&r.dirty(),{status:r.value,value:a.data}):(le(n,{code:Z.invalid_intersection_types}),Pe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}yu.create=(t,e,r)=>new yu({left:t,right:e,typeName:Ee.ZodIntersection,...je(r)});class vs extends $e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.array)return le(n,{code:Z.invalid_type,expected:ue.array,received:n.parsedType}),Pe;if(n.data.length<this._def.items.length)return le(n,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&n.data.length>this._def.items.length&&(le(n,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ys(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>wr.mergeArray(r,o)):wr.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new vs({...this._def,rest:e})}}vs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vs({items:t,typeName:Ee.ZodTuple,rest:null,...je(e)})};class vu extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.object)return le(n,{code:Z.invalid_type,expected:ue.object,received:n.parsedType}),Pe;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new ys(n,a,n.path,a)),value:o._parse(new ys(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?wr.mergeObjectAsync(r,s):wr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof $e?new vu({keyType:e,valueType:r,typeName:Ee.ZodRecord,...je(n)}):new vu({keyType:Vn.create(),valueType:e,typeName:Ee.ZodRecord,...je(r)})}}class ff extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.map)return le(n,{code:Z.invalid_type,expected:ue.map,received:n.parsedType}),Pe;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new ys(n,a,n.path,[c,"key"])),value:i._parse(new ys(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Pe;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Pe;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}ff.create=(t,e,r)=>new ff({valueType:e,keyType:t,typeName:Ee.ZodMap,...je(r)});class Yo extends $e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.set)return le(n,{code:Z.invalid_type,expected:ue.set,received:n.parsedType}),Pe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(le(n,{code:Z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(le(n,{code:Z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Pe;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new ys(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new Yo({...this._def,minSize:{value:e,message:ve.toString(r)}})}max(e,r){return new Yo({...this._def,maxSize:{value:e,message:ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Yo.create=(t,e)=>new Yo({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...je(e)});class Xa extends $e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.function)return le(r,{code:Z.invalid_type,expected:ue.function,received:r.parsedType}),Pe;function n(a,l){return cf({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,lf(),_l].filter(c=>!!c),issueData:{code:Z.invalid_arguments,argumentsError:l}})}function s(a,l){return cf({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,lf(),_l].filter(c=>!!c),issueData:{code:Z.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Cl){const a=this;return Nr(async function(...l){const c=new cn([]),u=await a._def.args.parseAsync(l,i).catch(m=>{throw c.addIssue(n(l,m)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(m=>{throw c.addIssue(s(d,m)),c})})}else{const a=this;return Nr(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new cn([n(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new cn([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xa({...this._def,args:vs.create(e).rest(Io.create())})}returns(e){return new Xa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Xa({args:e||vs.create([]).rest(Io.create()),returns:r||Io.create(),typeName:Ee.ZodFunction,...je(n)})}}class xu extends $e{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}xu.create=(t,e)=>new xu({getter:t,typeName:Ee.ZodLazy,...je(e)});class wu extends $e{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return le(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}wu.create=(t,e)=>new wu({value:t,typeName:Ee.ZodLiteral,...je(e)});function gP(t,e){return new Ki({values:t,typeName:Ee.ZodEnum,...je(e)})}class Ki extends $e{constructor(){super(...arguments),vc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return le(r,{expected:Qe.joinValues(n),received:r.parsedType,code:Z.invalid_type}),Pe}if(uf(this,vc)||hP(this,vc,new Set(this._def.values)),!uf(this,vc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return le(r,{received:r.data,code:Z.invalid_enum_value,options:n}),Pe}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ki.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ki.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}vc=new WeakMap;Ki.create=gP;class bu extends $e{constructor(){super(...arguments),xc.set(this,void 0)}_parse(e){const r=Qe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ue.string&&n.parsedType!==ue.number){const s=Qe.objectValues(r);return le(n,{expected:Qe.joinValues(s),received:n.parsedType,code:Z.invalid_type}),Pe}if(uf(this,xc)||hP(this,xc,new Set(Qe.getValidEnumValues(this._def.values))),!uf(this,xc).has(e.data)){const s=Qe.objectValues(r);return le(n,{received:n.data,code:Z.invalid_enum_value,options:s}),Pe}return Nr(e.data)}get enum(){return this._def.values}}xc=new WeakMap;bu.create=(t,e)=>new bu({values:t,typeName:Ee.ZodNativeEnum,...je(e)});class Cl extends $e{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.promise&&r.common.async===!1)return le(r,{code:Z.invalid_type,expected:ue.promise,received:r.parsedType}),Pe;const n=r.parsedType===ue.promise?r.data:Promise.resolve(r.data);return Nr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cl.create=(t,e)=>new Cl({type:t,typeName:Ee.ZodPromise,...je(e)});class qn extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{le(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return Pe;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?Pe:l.status==="dirty"||r.value==="dirty"?Oa(l.value):l});{if(r.value==="aborted")return Pe;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?Pe:a.status==="dirty"||r.value==="dirty"?Oa(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Pe:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Pe:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!du(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>du(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Qe.assertNever(s)}}qn.create=(t,e,r)=>new qn({schema:t,typeName:Ee.ZodEffects,effect:e,...je(r)});qn.createWithPreprocess=(t,e,r)=>new qn({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...je(r)});class ms extends $e{_parse(e){return this._getType(e)===ue.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ms.create=(t,e)=>new ms({innerType:t,typeName:Ee.ZodOptional,...je(e)});class qi extends $e{_parse(e){return this._getType(e)===ue.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qi.create=(t,e)=>new qi({innerType:t,typeName:Ee.ZodNullable,...je(e)});class _u extends $e{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}_u.create=(t,e)=>new _u({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...je(e)});class Su extends $e{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return hu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new cn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new cn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Su.create=(t,e)=>new Su({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...je(e)});class pf extends $e{_parse(e){if(this._getType(e)!==ue.nan){const n=this._getOrReturnCtx(e);return le(n,{code:Z.invalid_type,expected:ue.nan,received:n.parsedType}),Pe}return{status:"valid",value:e.data}}}pf.create=t=>new pf({typeName:Ee.ZodNaN,...je(t)});const KF=Symbol("zod_brand");class Px extends $e{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Qu extends $e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Pe:i.status==="dirty"?(r.dirty(),Oa(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Qu({in:e,out:r,typeName:Ee.ZodPipeline})}}class Cu extends $e{_parse(e){const r=this._def.innerType._parse(e),n=s=>(du(s)&&(s.value=Object.freeze(s.value)),s);return hu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Cu.create=(t,e)=>new Cu({innerType:t,typeName:Ee.ZodReadonly,...je(e)});function yP(t,e={},r){return t?Sl.create().superRefine((n,s)=>{var i,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:l})}}):Sl.create()}const qF={object:kt.lazycreate};var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const ZF=(t,e={message:`Input not instance of ${t.name}`})=>yP(r=>r instanceof t,e),vP=Vn.create,xP=Yi.create,QF=pf.create,JF=Xi.create,wP=fu.create,e$=Go.create,t$=df.create,r$=pu.create,n$=mu.create,s$=Sl.create,i$=Io.create,o$=Xs.create,a$=hf.create,l$=Gn.create,c$=kt.create,u$=kt.strictCreate,d$=gu.create,h$=rp.create,f$=yu.create,p$=vs.create,m$=vu.create,g$=ff.create,y$=Yo.create,v$=Xa.create,x$=xu.create,w$=wu.create,b$=Ki.create,_$=bu.create,S$=Cl.create,Pb=qn.create,C$=ms.create,E$=qi.create,P$=qn.createWithPreprocess,A$=Qu.create,k$=()=>vP().optional(),T$=()=>xP().optional(),R$=()=>wP().optional(),M$={string:t=>Vn.create({...t,coerce:!0}),number:t=>Yi.create({...t,coerce:!0}),boolean:t=>fu.create({...t,coerce:!0}),bigint:t=>Xi.create({...t,coerce:!0}),date:t=>Go.create({...t,coerce:!0})},j$=Pe;var be=Object.freeze({__proto__:null,defaultErrorMap:_l,setErrorMap:jF,getErrorMap:lf,makeIssue:cf,EMPTY_PATH:NF,addIssueToContext:le,ParseStatus:wr,INVALID:Pe,DIRTY:Oa,OK:Nr,isAborted:yy,isDirty:vy,isValid:du,isAsync:hu,get util(){return Qe},get objectUtil(){return gy},ZodParsedType:ue,getParsedType:gi,ZodType:$e,datetimeRegex:mP,ZodString:Vn,ZodNumber:Yi,ZodBigInt:Xi,ZodBoolean:fu,ZodDate:Go,ZodSymbol:df,ZodUndefined:pu,ZodNull:mu,ZodAny:Sl,ZodUnknown:Io,ZodNever:Xs,ZodVoid:hf,ZodArray:Gn,ZodObject:kt,ZodUnion:gu,ZodDiscriminatedUnion:rp,ZodIntersection:yu,ZodTuple:vs,ZodRecord:vu,ZodMap:ff,ZodSet:Yo,ZodFunction:Xa,ZodLazy:xu,ZodLiteral:wu,ZodEnum:Ki,ZodNativeEnum:bu,ZodPromise:Cl,ZodEffects:qn,ZodTransformer:qn,ZodOptional:ms,ZodNullable:qi,ZodDefault:_u,ZodCatch:Su,ZodNaN:pf,BRAND:KF,ZodBranded:Px,ZodPipeline:Qu,ZodReadonly:Cu,custom:yP,Schema:$e,ZodSchema:$e,late:qF,get ZodFirstPartyTypeKind(){return Ee},coerce:M$,any:s$,array:l$,bigint:JF,boolean:wP,date:e$,discriminatedUnion:h$,effect:Pb,enum:b$,function:v$,instanceof:ZF,intersection:f$,lazy:x$,literal:w$,map:g$,nan:QF,nativeEnum:_$,never:o$,null:n$,nullable:E$,number:xP,object:c$,oboolean:R$,onumber:T$,optional:C$,ostring:k$,pipeline:A$,preprocess:P$,promise:S$,record:m$,set:y$,strictObject:u$,string:vP,symbol:t$,transformer:Pb,tuple:p$,undefined:r$,union:d$,unknown:i$,void:a$,NEVER:j$,ZodIssueCode:Z,quotelessJson:MF,ZodError:cn});const N$=be.object({name:be.string().min(1).max(1e3),partition_list:be.string().min(1,"Must specify at least one slurm partition").max(1e3,"Specify a shorter string").regex(/^\w+(?:,\s?\w+)*$/,"Invalid format"),memory_gb:be.coerce.number().int().min(1,"Must allocate at least 1 GB of RAM").max(2048,"Cannot allocate more than 2048 GB of RAM"),time_hrs:be.coerce.number().int().min(1,"Runtime must be at least one hour").max(14*24,"Cannot run for more than 14 days"),n_cpus:be.coerce.number().int().min(1,"Must allocate at least one CPU").max(1024,"Cannot allocate more than 1024 CPUs")}),I$=()=>{const t=ro({resolver:so(N$),defaultValues:{name:"",partition_list:"",memory_gb:0,time_hrs:0,n_cpus:0}}),e=QL(),r=eo(),n=async s=>{console.log("Create Runtime Submission. Values=",s),await e.mutateAsync({...s}),r(yt.runtimes.path)};return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Define a Runtime"}),f.jsx(no,{...t,children:f.jsxs("form",{onSubmit:t.handleSubmit(n),className:"space-y-8",children:[f.jsx(Ke,{control:t.control,name:"name",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Runtime Name"}),f.jsx(He,{children:f.jsx(Bt,{...s})}),f.jsx(et,{}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"partition_list",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"List of SLURM partitions to use (seperated by commas)"}),f.jsx(He,{children:f.jsx(Bt,{...s})}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"memory_gb",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Memory to allocate (GB)"}),f.jsx(He,{children:f.jsx(Bt,{type:"number",...s})}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"time_hrs",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Job Max Runtime (hrs)"}),f.jsx(He,{children:f.jsx(Bt,{type:"number",...s})}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"n_cpus",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"# of CPUs to allocate"}),f.jsx(He,{children:f.jsx(Bt,{type:"number",...s})}),f.jsx(Ge,{})]})}),f.jsx(tr,{type:"submit",children:"Save Runtime Configuration"})]})})]})},O$=be.object({path:be.string().min(2).max(1e3),name:be.string().min(1).max(1e3),dannce_data_file:be.string().min(1).max(1e3).endsWith("dannce.mat",'Filename must end with "dannce.mat (if specified)"').or(be.literal("")),com_data_file:be.string().min(1).max(1e3).endsWith("dannce.mat",'Filename must end with "dannce.mat (if specified)"').or(be.literal(""))}),D$=()=>{const t=ZL(),e=eo(),r=ro({resolver:so(O$),defaultValues:{path:"",name:"",com_data_file:"",dannce_data_file:""}}),n=async s=>{console.log("values",s),await t.mutateAsync({name:s.name,path:s.path,com_data_file:s.com_data_file,dannce_data_file:s.dannce_data_file}),e(yt.videoFolders.path)};return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Add Video (Data) Folder"}),f.jsx(no,{...r,children:f.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-8",children:[f.jsx(Ke,{control:r.control,name:"name",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Video Folder Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"e.g. Rat 2, Day 2 ALONE",...s})}),f.jsx(et,{children:"Helpful name to identify this folder"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:r.control,name:"path",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Full path to folder"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"e.g. /net/holy-nfsisilon/ifs/rc_labs...",...s})}),f.jsxs(et,{children:["This folder should include a"," ",f.jsx("span",{className:"font-mono",children:"videos"})," folder, and should be accessible from the cluster."]}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:r.control,name:"dannce_data_file",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"COM Labels File (empty if none)"}),f.jsx(He,{children:f.jsx(Bt,{...s})}),f.jsxs(et,{children:[" ","Filename of a dannce.mat file in this data folder containing COM labels."]}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:r.control,name:"com_data_file",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"DANNCE Labels File (empty if none)"}),f.jsx(He,{children:f.jsx(Bt,{...s})}),f.jsxs(et,{children:[" ","FIlename of a dannce.mat file in this data folder containing DANNCE labels."]}),f.jsx(Ge,{})]})}),f.jsx(tr,{type:"submit",children:"Submit"})]})})]})};function L$(){const{data:t,isLoading:e}=Ku();return e?f.jsx("div",{children:"Loading..."}):f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Runtimes"}),f.jsxs(zi,{children:[f.jsx(Wo,{children:"Currently Running DANNCE Jobs"}),f.jsx(Ui,{children:f.jsxs(Wr,{children:[f.jsx(Ce,{className:"w-[20px]",children:"ID"}),f.jsx(Ce,{children:"Name"}),f.jsx(Ce,{children:"Partitions"}),f.jsx(Ce,{children:"Memory (GB)"}),f.jsx(Ce,{children:"Time (h)"}),f.jsx(Ce,{children:"CPUS"}),f.jsx(Ce,{children:"Actions "})]})}),f.jsx(Vi,{children:t.map(r=>f.jsxs(Wr,{children:[f.jsx(Re,{className:"font-medium",children:r.id}),f.jsx(Re,{children:r.name}),f.jsx(Re,{children:r.partition_list}),f.jsx(Re,{children:r.memory_gb}),f.jsx(Re,{children:r.time_hrs}),f.jsx(Re,{children:r.n_cpus}),f.jsx(Re,{})]},r.id))})]}),f.jsx(En,{to:yt.makeRuntime.path,children:f.jsx(tr,{children:"Create New Runtime"})})]})}const F$=()=>{const{data:t,isLoading:e}=qu();return e?f.jsx("div",{children:"Loading..."}):f.jsx("div",{children:f.jsxs(zE,{children:[f.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Video Folders"}),f.jsxs(zi,{className:"mb-10",children:[f.jsx(Wo,{children:"Current Video/Data Folders. Hover over certain columns for more information."}),f.jsx(Ui,{children:f.jsxs(Wr,{children:[f.jsx(Ce,{className:"w-[20px]",children:"ID"}),f.jsx(Ce,{children:"Name"}),f.jsx(Ce,{children:"Folder Path"}),f.jsx(Ce,{children:"COM Labels"}),f.jsx(Ce,{children:"DANNCE Labels"}),f.jsx(Ce,{children:"Created At"}),f.jsx(Ce,{children:"Actions"})]})}),f.jsx(Vi,{children:t.map(r=>f.jsxs(Wr,{children:[f.jsx(Re,{className:"font-medium",children:r.id}),f.jsx(Re,{children:f.jsx(En,{to:`${yt.videoFolderDetails.path.replace(/:id/,r.id.toString())}`,children:r.name})}),f.jsx(Re,{children:f.jsxs(Nc,{children:[f.jsx(Ic,{children:`${r.path.slice(0,10)}...${r.path.slice(-10)}`}),f.jsx(Ya,{children:r.path})]})}),f.jsx(Re,{children:r.com_labels_file?f.jsxs(Nc,{children:[f.jsx(Ic,{children:"YES"}),f.jsx(Ya,{children:r.com_labels_file})]}):"-"}),f.jsx(Re,{children:r.dannce_labels_file?f.jsxs(Nc,{children:[f.jsx(Ic,{children:"YES"}),f.jsx(Ya,{children:r.dannce_labels_file})]}):"-"}),f.jsx(Re,{children:new Date(r.created_at*1e3).toLocaleString("en-US")}),f.jsx(Re,{children:f.jsx("div",{className:"cursor-pointer",children:"Edit | Delete"})})]},r.id))})]}),f.jsxs("div",{className:"flex flex-row gap-4",children:[f.jsx(En,{to:yt.makeVideoFolder.path,children:f.jsx(tr,{children:"Create Video Folder"})}),f.jsx(En,{to:yt.importVideoFolderPage.path,children:f.jsx(tr,{variant:"secondary",children:"Bulk Import Video Folders"})})]})]})})};function $$(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=d=>{var x;const{scope:h,children:m,...y}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(d,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,B$(s,...e)]}function B$(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Ax="Collapsible",[z$,q8]=$$(Ax),[U$,kx]=z$(Ax),bP=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[l=!1,c]=wl({prop:n,defaultProp:s,onChange:o});return f.jsx(U$,{scope:r,disabled:i,contentId:Dl(),open:l,onOpenToggle:p.useCallback(()=>c(u=>!u),[c]),children:f.jsx(Be.div,{"data-state":Rx(l),"data-disabled":i?"":void 0,...a,ref:e})})});bP.displayName=Ax;var _P="CollapsibleTrigger",SP=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,s=kx(_P,r);return f.jsx(Be.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Rx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:ke(t.onClick,s.onOpenToggle)})});SP.displayName=_P;var Tx="CollapsibleContent",CP=p.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=kx(Tx,t.__scopeCollapsible);return f.jsx(pn,{present:r||s.open,children:({present:i})=>f.jsx(V$,{...n,ref:e,present:i})})});CP.displayName=Tx;var V$=p.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=t,o=kx(Tx,r),[a,l]=p.useState(n),c=p.useRef(null),u=rt(e,c),d=p.useRef(0),h=d.current,m=p.useRef(0),y=m.current,g=o.open||a,w=p.useRef(g),x=p.useRef();return p.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),dr(()=>{const v=c.current;if(v){x.current=x.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();d.current=b.height,m.current=b.width,w.current||(v.style.transitionDuration=x.current.transitionDuration,v.style.animationName=x.current.animationName),l(n)}},[o.open,n]),f.jsx(Be.div,{"data-state":Rx(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&s})});function Rx(t){return t?"open":"closed"}var W$=bP;const lm=W$,cm=SP,um=CP,H$=()=>{const{id:t}=Vf(),[e,r]=p.useState(!1),n=parseInt(t),{isLoading:s,isError:i,data:o}=XL(n);if(isNaN(n))return null;if(s)return f.jsx("div",{children:"Loading..."});if(i||!o)return f.jsx("div",{children:"Error"});const a=o.label_files.length>0?o.label_files.map(({params:u,...d})=>({params:"[HIDDEN]",...d})):[],l=o.prediction_data,c=o.predict_jobs;return f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl",children:"Video Folder information"}),f.jsxs("ul",{className:"pl-4 pt-2 list-disc",children:[f.jsxs("li",{children:[f.jsx("span",{className:"font-bold",children:"Name:"})," ",o.name]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-bold",children:"Path:"})," ",o.path]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-bold",children:"Created on:"})," ",new Date(o.created_at*1e3).toLocaleString("US-en")]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-bold",children:"Current COM Label File:"})," ",o.com_labels_file||"[NONE]"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-bold",children:"Current DANNCE Label File:"})," ",o.dannce_labels_file||"[NONE]"]}),f.jsxs("li",{children:[f.jsx("span",{className:"font-bold",children:"Current COM Predictions:"})," ",o.current_com_prediction?f.jsxs(En,{to:yt.predictionDetailsPage.path.replace(":id",o.current_com_prediction),children:[o.current_com_prediction_name," [ID=",o.current_com_prediction,"]"]}):"[NONE]"]})]}),f.jsx("div",{children:f.jsxs(lm,{children:[f.jsxs("h2",{className:"my-6 text-lg",children:["Labeled Files:"," ",f.jsx(cm,{children:"(click to show)"})]}),f.jsx(um,{children:f.jsx("pre",{children:JSON.stringify(a,null,2)})})]})}),f.jsx("div",{children:f.jsxs(lm,{children:[f.jsxs("h2",{className:"my-6 text-lg",children:["Prediction Data:"," ",f.jsx(cm,{children:"(click to show)"})]}),f.jsx(um,{children:f.jsx("pre",{children:JSON.stringify(l,null,2)})})]})}),f.jsx("div",{children:f.jsxs(lm,{children:[f.jsxs("h2",{className:"my-6 text-lg",children:["Prediction Jobs run on this data:"," ",f.jsx(cm,{children:"(click to show)"})]}),f.jsx(um,{children:f.jsx("pre",{children:JSON.stringify(c,null,2)})})]})}),f.jsx("div",{className:"my-8",children:e?f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-xl",children:"Video Preview"}),f.jsx("video",{autoPlay:!0,controls:!0,className:"max-w-xl",children:f.jsx("source",{src:Qf(Xu,`video_folder/${n}/preview?camera_name=Camera1`),type:"video/mp4"})})]}):f.jsx("div",{children:f.jsx(tr,{onClick:()=>r(!0),children:"Show Video Preview (first 5 secs)"})})})]})};function G$(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=d=>{var x;const{scope:h,children:m,...y}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(d,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,Y$(s,...e)]}function Y$(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var X$=p.createContext(void 0);function EP(t){const e=p.useContext(X$);return t||e||"ltr"}function wy(t,[e,r]){return Math.min(r,Math.max(e,t))}function K$(t,e){return p.useReducer((r,n)=>e[r][n]??r,t)}var Mx="ScrollArea",[PP,Z8]=G$(Mx),[q$,Tn]=PP(Mx),AP=p.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=p.useState(null),[c,u]=p.useState(null),[d,h]=p.useState(null),[m,y]=p.useState(null),[g,w]=p.useState(null),[x,v]=p.useState(0),[b,_]=p.useState(0),[C,A]=p.useState(!1),[E,S]=p.useState(!1),P=rt(e,U=>l(U)),T=EP(s);return f.jsx(q$,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:_,children:f.jsx(Be.div,{dir:T,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});AP.displayName=Mx;var kP="ScrollAreaViewport",TP=p.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:i,...o}=t,a=Tn(kP,r),l=p.useRef(null),c=rt(e,l,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),f.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o4({asChild:s,children:n},u=>f.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});TP.displayName=kP;var bs="ScrollAreaScrollbar",jx=p.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Tn(bs,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return p.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?f.jsx(Z$,{...n,ref:e,forceMount:r}):s.type==="scroll"?f.jsx(Q$,{...n,ref:e,forceMount:r}):s.type==="auto"?f.jsx(RP,{...n,ref:e,forceMount:r}):s.type==="always"?f.jsx(Nx,{...n,ref:e}):null});jx.displayName=bs;var Z$=p.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Tn(bs,t.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(pn,{present:r||i,children:f.jsx(RP,{"data-state":i?"visible":"hidden",...n,ref:e})})}),Q$=p.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Tn(bs,t.__scopeScrollArea),i=t.orientation==="horizontal",o=sp(()=>l("SCROLL_END"),100),[a,l]=K$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),p.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const m=c[u];d!==m&&(l("SCROLL"),o()),d=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,i,l,o]),f.jsx(pn,{present:r||a!=="hidden",children:f.jsx(Nx,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ke(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ke(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),RP=p.forwardRef((t,e)=>{const r=Tn(bs,t.__scopeScrollArea),{forceMount:n,...s}=t,[i,o]=p.useState(!1),a=t.orientation==="horizontal",l=sp(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?c:u)}},10);return El(r.viewport,l),El(r.content,l),f.jsx(pn,{present:n||i,children:f.jsx(Nx,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Nx=p.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Tn(bs,t.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=OP(a.viewport,a.content),u={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,m){return s4(h,o.current,a,m)}return r==="horizontal"?f.jsx(J$,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=Ab(h,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):r==="vertical"?f.jsx(e4,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=Ab(h,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),J$=p.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=Tn(bs,t.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),c=rt(e,l,i.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(jP,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":np(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),LP(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:gf(o.paddingLeft),paddingEnd:gf(o.paddingRight)}})}})}),e4=p.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=Tn(bs,t.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),c=rt(e,l,i.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(jP,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":np(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),LP(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:gf(o.paddingTop),paddingEnd:gf(o.paddingBottom)}})}})}),[t4,MP]=PP(bs),jP=p.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,m=Tn(bs,r),[y,g]=p.useState(null),w=rt(e,P=>g(P)),x=p.useRef(null),v=p.useRef(""),b=m.viewport,_=n.content-n.viewport,C=gr(u),A=gr(l),E=sp(d,10);function S(P){if(x.current){const T=P.clientX-x.current.left,U=P.clientY-x.current.top;c({x:T,y:U})}}return p.useEffect(()=>{const P=T=>{const U=T.target;(y==null?void 0:y.contains(U))&&C(T,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,_,C]),p.useEffect(A,[n,A]),El(y,E),El(m.content,E),f.jsx(t4,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:gr(i),onThumbPointerUp:gr(o),onThumbPositionChange:A,onThumbPointerDown:gr(a),children:f.jsx(Be.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:ke(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(P))}),onPointerMove:ke(t.onPointerMove,S),onPointerUp:ke(t.onPointerUp,P=>{const T=P.target;T.hasPointerCapture(P.pointerId)&&T.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),mf="ScrollAreaThumb",NP=p.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=MP(mf,t.__scopeScrollArea);return f.jsx(pn,{present:r||s.hasThumb,children:f.jsx(r4,{ref:e,...n})})}),r4=p.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,i=Tn(mf,r),o=MP(mf,r),{onThumbPositionChange:a}=o,l=rt(e,d=>o.onThumbChange(d)),c=p.useRef(),u=sp(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(u(),!c.current){const m=i4(d,a);c.current=m,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,u,a]),f.jsx(Be.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ke(t.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),y=d.clientX-m.left,g=d.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:ke(t.onPointerUp,o.onThumbPointerUp)})});NP.displayName=mf;var Ix="ScrollAreaCorner",IP=p.forwardRef((t,e)=>{const r=Tn(Ix,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?f.jsx(n4,{...t,ref:e}):null});IP.displayName=Ix;var n4=p.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Tn(Ix,r),[i,o]=p.useState(0),[a,l]=p.useState(0),c=!!(i&&a);return El(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),El(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?f.jsx(Be.div,{...n,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function gf(t){return t?parseInt(t,10):0}function OP(t,e){const r=t/e;return isNaN(r)?0:r}function np(t){const e=OP(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function s4(t,e,r,n="ltr"){const s=np(r),i=s/2,o=e||i,a=s-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return DP([l,c],d)(t)}function Ab(t,e,r="ltr"){const n=np(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-n,l=r==="ltr"?[0,o]:[o*-1,0],c=wy(t,l);return DP([0,o],[0,a])(c)}function DP(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function LP(t,e){return t>0&&t<e}var i4=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&e(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function sp(t,e){const r=gr(t),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function El(t,e){const r=gr(e);dr(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}function o4(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const s=p.Children.only(n);return p.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var FP=AP,a4=TP,l4=IP;const $P=p.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(FP,{ref:n,className:Ne("relative overflow-hidden",t),...r,children:[f.jsx(a4,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(BP,{}),f.jsx(l4,{})]}));$P.displayName=FP.displayName;const BP=p.forwardRef(({className:t,orientation:e="vertical",...r},n)=>f.jsx(jx,{ref:n,orientation:e,className:Ne("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:f.jsx(NP,{className:"relative flex-1 rounded-full bg-border"})}));BP.displayName=jx.displayName;/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zP=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...u4,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:zP("lucide",s),...a},[...o.map(([c,u])=>p.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=(t,e)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement(d4,{ref:i,iconNode:e,className:zP(`lucide-${c4(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=sa("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=sa("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=sa("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=sa("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=sa("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=sa("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=sa("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const VP=({slurmJobId:t})=>{const e=Zn(),{data:r,isLoading:n,isError:s}=KL(t);if(n)return f.jsx("div",{children:"Loading"});const i=s?!0:r.length==0,o=()=>{e.invalidateQueries({queryKey:["slurmLogfile",t]})};return f.jsxs("div",{children:[f.jsx($P,{className:"h-[500px] bg-gray-50 rounded-md border p-4 my-4",children:f.jsxs("pre",{className:"text-wrap",children:[s&&"Error fetching log file. Perhaps it does not exist.",!s&&i&&"<Empty file>",!s&&!i&&r]})}),f.jsx(tr,{onClick:o,children:f.jsx(p4,{})})]})},y4=()=>{const{id:t}=Vf(),e=parseInt(t),{data:r,isLoading:n,isError:s}=UL(e);return n?f.jsx("div",{children:"Loading"}):s||!r?f.jsx("div",{children:"Error"}):f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl mb-4",children:"Predict Job Details"}),f.jsx("h2",{className:"text-xl mb-2",children:"Full Job Details"}),f.jsx("pre",{className:"p-4 bg-gray-50 border rounded-md mb-4",children:JSON.stringify(r,null,2)}),f.jsx("h2",{className:"text-xl",children:"Log File"}),f.jsx(VP,{slurmJobId:r.slurm_job_id})]})},v4=()=>{const{id:t}=Vf(),e=parseInt(t),{data:r,isLoading:n,isError:s}=VL(e);return n?f.jsx("div",{children:"Loading"}):s||!r?f.jsx("div",{children:"Error"}):f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl mb-4",children:"Train Job Details"}),f.jsx("h2",{className:"text-xl mb-2",children:"Full Job Details"}),f.jsx("pre",{className:"p-4 bg-gray-50 border rounded-md mb-4 text-wrap",children:JSON.stringify(r,null,2)}),f.jsx("h2",{className:"text-xl",children:"Log File"}),f.jsx(VP,{slurmJobId:r.slurm_job_id})]})};function x4(t){const e=t+"CollectionProvider",[r,n]=_E(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,w=W.useRef(null),x=W.useRef(new Map).current;return f.jsx(s,{scope:y,itemMap:x,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=W.forwardRef((m,y)=>{const{scope:g,children:w}=m,x=i(a,g),v=rt(y,x.collectionRef);return f.jsx(Hs,{ref:v,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=W.forwardRef((m,y)=>{const{scope:g,children:w,...x}=m,v=W.useRef(null),b=rt(y,v),_=i(c,g);return W.useEffect(()=>(_.itemMap.set(v,{ref:v,...x}),()=>void _.itemMap.delete(v))),f.jsx(Hs,{[u]:"",ref:b,children:w})});d.displayName=c;function h(m){const y=i(t+"CollectionConsumer",m);return W.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((_,C)=>x.indexOf(_.ref.current)-x.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,n]}function w4(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=d=>{var x;const{scope:h,children:m,...y}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(d,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,b4(s,...e)]}function b4(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var dm=0;function Dx(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kb()),document.body.insertAdjacentElement("beforeend",t[1]??kb()),dm++,()=>{dm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dm--}},[])}function kb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",Tb={bubbles:!1,cancelable:!0},_4="FocusScope",ip=p.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),c=gr(s),u=gr(i),d=p.useRef(null),h=rt(e,g=>l(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(b){if(m.paused||!a)return;const _=b.target;a.contains(_)?d.current=_:ci(d.current,{select:!0})},w=function(b){if(m.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||ci(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&ci(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(x);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){Mb.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(hm,Tb);a.addEventListener(hm,c),a.dispatchEvent(x),x.defaultPrevented||(S4(k4(WP(a)),{select:!0}),document.activeElement===g&&ci(a))}return()=>{a.removeEventListener(hm,c),setTimeout(()=>{const x=new CustomEvent(fm,Tb);a.addEventListener(fm,u),a.dispatchEvent(x),x.defaultPrevented||ci(g??document.body,{select:!0}),a.removeEventListener(fm,u),Mb.remove(m)},0)}}},[a,c,u,m]);const y=p.useCallback(g=>{if(!r&&!n||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(w&&x){const v=g.currentTarget,[b,_]=C4(v);b&&_?!g.shiftKey&&x===_?(g.preventDefault(),r&&ci(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),r&&ci(_,{select:!0})):x===v&&g.preventDefault()}},[r,n,m.paused]);return f.jsx(Be.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});ip.displayName=_4;function S4(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ci(n,{select:e}),document.activeElement!==r)return}function C4(t){const e=WP(t),r=Rb(e,t),n=Rb(e.reverse(),t);return[r,n]}function WP(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Rb(t,e){for(const r of t)if(!E4(r,{upTo:e}))return r}function E4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function P4(t){return t instanceof HTMLInputElement&&"select"in t}function ci(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&P4(t)&&e&&t.select()}}var Mb=A4();function A4(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=jb(t,e),t.unshift(e)},remove(e){var r;t=jb(t,e),(r=t[0])==null||r.resume()}}}function jb(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function k4(t){return t.filter(e=>e.tagName!=="A")}function HP(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var T4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},da=new WeakMap,Fd=new WeakMap,$d={},pm=0,GP=function(t){return t&&(t.host||GP(t.parentNode))},R4=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=GP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},M4=function(t,e,r,n){var s=R4(e,Array.isArray(t)?t:[t]);$d[r]||($d[r]=new WeakMap);var i=$d[r],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",g=(da.get(h)||0)+1,w=(i.get(h)||0)+1;da.set(h,g),i.set(h,w),o.push(h),g===1&&y&&Fd.set(h,!0),w===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),a.clear(),pm++,function(){o.forEach(function(d){var h=da.get(d)-1,m=i.get(d)-1;da.set(d,h),i.set(d,m),h||(Fd.has(d)||d.removeAttribute(n),Fd.delete(d)),m||d.removeAttribute(r)}),pm--,pm||(da=new WeakMap,da=new WeakMap,Fd=new WeakMap,$d={})}},op=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=T4(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),M4(n,s,r,"aria-hidden")):function(){return null}},yr=function(){return yr=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yr.apply(this,arguments)};function Lx(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function YP(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Lc="right-scroll-bar-position",Fc="width-before-scroll-bar",j4="with-scroll-bars-hidden",N4="--removed-body-scroll-bar-size";function mm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function I4(t,e){var r=p.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var O4=typeof window<"u"?p.useLayoutEffect:p.useEffect,Nb=new WeakMap;function XP(t,e){var r=I4(null,function(n){return t.forEach(function(s){return mm(s,n)})});return O4(function(){var n=Nb.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(a){i.has(a)||mm(a,null)}),i.forEach(function(a){s.has(a)||mm(a,o)})}Nb.set(r,t)},[t]),r}function D4(t){return t}function L4(t,e){e===void 0&&(e=D4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return s}function KP(t){t===void 0&&(t={});var e=L4(null);return e.options=yr({async:!0,ssr:!1},t),e}var qP=function(t){var e=t.sideCar,r=Lx(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,yr({},r))};qP.isSideCarExport=!0;function ZP(t,e){return t.useMedium(e),qP}var QP=KP(),gm=function(){},ap=p.forwardRef(function(t,e){var r=p.useRef(null),n=p.useState({onScrollCapture:gm,onWheelCapture:gm,onTouchMoveCapture:gm}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,v=t.gapMode,b=Lx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,C=XP([r,e]),A=yr(yr({},b),s);return p.createElement(p.Fragment,null,u&&p.createElement(_,{sideCar:QP,removeScrollBar:c,shards:d,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:v}),o?p.cloneElement(p.Children.only(a),yr(yr({},A),{ref:C})):p.createElement(x,yr({},A,{className:l,ref:C}),a))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ap.classNames={fullWidth:Fc,zeroRight:Lc};var F4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=F4();return e&&t.setAttribute("nonce",e),t}function B4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function z4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var U4=function(){var t=0,e=null;return{add:function(r){t==0&&(e=$4())&&(B4(e,r),z4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V4=function(){var t=U4();return function(e,r){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Fx=function(){var t=V4(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},W4={left:0,top:0,right:0,gap:0},ym=function(t){return parseInt(t||"",10)||0},H4=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ym(r),ym(n),ym(s)]},G4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return W4;var e=H4(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Y4=Fx(),Ka="data-scroll-locked",X4=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(j4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Ka,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Fc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Lc," .").concat(Lc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ka,`] {
    `).concat(N4,": ").concat(a,`px;
  }
`)},Ib=function(){var t=parseInt(document.body.getAttribute(Ka)||"0",10);return isFinite(t)?t:0},K4=function(){p.useEffect(function(){return document.body.setAttribute(Ka,(Ib()+1).toString()),function(){var t=Ib()-1;t<=0?document.body.removeAttribute(Ka):document.body.setAttribute(Ka,t.toString())}},[])},JP=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;K4();var i=p.useMemo(function(){return G4(s)},[s]);return p.createElement(Y4,{styles:X4(i,!e,s,r?"":"!important")})},by=!1;if(typeof window<"u")try{var Bd=Object.defineProperty({},"passive",{get:function(){return by=!0,!0}});window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{by=!1}var ha=by?{passive:!1}:!1,q4=function(t){return t.tagName==="TEXTAREA"},eA=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!q4(t)&&r[e]==="visible")},Z4=function(t){return eA(t,"overflowY")},Q4=function(t){return eA(t,"overflowX")},Ob=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=tA(t,n);if(s){var i=rA(t,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},J4=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},e3=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},tA=function(t,e){return t==="v"?Z4(e):Q4(e)},rA=function(t,e){return t==="v"?J4(e):e3(e)},t3=function(t,e){return t==="h"&&e==="rtl"?-1:1},r3=function(t,e,r,n,s){var i=t3(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var m=rA(t,a),y=m[0],g=m[1],w=m[2],x=g-w-i*y;(y||x)&&tA(t,a)&&(d+=x,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(c=!0),c},zd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Db=function(t){return[t.deltaX,t.deltaY]},Lb=function(t){return t&&"current"in t?t.current:t},n3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},s3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},i3=0,fa=[];function o3(t){var e=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(i3++)[0],i=p.useState(Fx)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=YP([t.lockRef.current],(t.shards||[]).map(Lb),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=zd(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-x[0],_="deltaY"in g?g.deltaY:v[1]-x[1],C,A=g.target,E=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&E==="h"&&A.type==="range")return!1;var S=Ob(E,A);if(!S)return!0;if(S?C=E:(C=E==="v"?"h":"v",S=Ob(E,A)),!S)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=C),!C)return!0;var P=n.current||C;return r3(P,w,g,P==="h"?b:_,!0)},[]),l=p.useCallback(function(g){var w=g;if(!(!fa.length||fa[fa.length-1]!==i)){var x="deltaY"in w?Db(w):zd(w),v=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&n3(C.delta,x)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(Lb).filter(Boolean).filter(function(C){return C.contains(w.target)}),_=b.length>0?a(w,b[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(g,w,x,v){var b={name:g,delta:w,target:x,should:v,shadowParent:a3(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),u=p.useCallback(function(g){r.current=zd(g),n.current=void 0},[]),d=p.useCallback(function(g){c(g.type,Db(g),g.target,a(g,t.lockRef.current))},[]),h=p.useCallback(function(g){c(g.type,zd(g),g.target,a(g,t.lockRef.current))},[]);p.useEffect(function(){return fa.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ha),document.addEventListener("touchmove",l,ha),document.addEventListener("touchstart",u,ha),function(){fa=fa.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,ha),document.removeEventListener("touchmove",l,ha),document.removeEventListener("touchstart",u,ha)}},[]);var m=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:s3(s)}):null,m?p.createElement(JP,{gapMode:t.gapMode}):null)}function a3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const l3=ZP(QP,o3);var lp=p.forwardRef(function(t,e){return p.createElement(ap,yr({},t,{ref:e,sideCar:l3}))});lp.classNames=ap.classNames;var c3=[" ","Enter","ArrowUp","ArrowDown"],u3=[" ","Enter"],Ju="Select",[cp,up,d3]=x4(Ju),[Bl,Q8]=w4(Ju,[d3,$l]),dp=$l(),[h3,io]=Bl(Ju),[f3,p3]=Bl(Ju),nA=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:m,form:y}=t,g=dp(e),[w,x]=p.useState(null),[v,b]=p.useState(null),[_,C]=p.useState(!1),A=EP(c),[E=!1,S]=wl({prop:n,defaultProp:s,onChange:i}),[P,T]=wl({prop:o,defaultProp:a,onChange:l}),U=p.useRef(null),F=w?y||!!w.closest("form"):!0,[z,B]=p.useState(new Set),Y=Array.from(z).map(X=>X.props.value).join(";");return f.jsx(gx,{...g,children:f.jsxs(h3,{required:m,scope:e,trigger:w,onTriggerChange:x,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:Dl(),value:P,onValueChange:T,open:E,onOpenChange:S,dir:A,triggerPointerDownPosRef:U,disabled:h,children:[f.jsx(cp.Provider,{scope:e,children:f.jsx(f3,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{B(Q=>new Set(Q).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{B(Q=>{const D=new Set(Q);return D.delete(X),D})},[]),children:r})}),F?f.jsxs(kA,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:X=>T(X.target.value),disabled:h,form:y,children:[P===void 0?f.jsx("option",{value:""}):null,Array.from(z)]},Y):null]})})};nA.displayName=Ju;var sA="SelectTrigger",iA=p.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=dp(r),o=io(sA,r),a=o.disabled||n,l=rt(e,o.onTriggerChange),c=up(r),u=p.useRef("touch"),[d,h,m]=TA(g=>{const w=c().filter(b=>!b.disabled),x=w.find(b=>b.value===o.value),v=RA(w,g,x);v!==void 0&&o.onValueChange(v.value)}),y=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return f.jsx(Gf,{asChild:!0,...i,children:f.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":AA(o.value)?"":void 0,...s,ref:l,onClick:ke(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:ke(s.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ke(s.onKeyDown,g=>{const w=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&c3.includes(g.key)&&(y(),g.preventDefault())})})})});iA.displayName=sA;var oA="SelectValue",aA=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,l=io(oA,r),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=rt(e,l.onValueNodeChange);return dr(()=>{c(u)},[c,u]),f.jsx(Be.span,{...a,ref:d,style:{pointerEvents:"none"},children:AA(l.value)?f.jsx(f.Fragment,{children:o}):i})});aA.displayName=oA;var m3="SelectIcon",lA=p.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return f.jsx(Be.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});lA.displayName=m3;var g3="SelectPortal",cA=t=>f.jsx(Yf,{asChild:!0,...t});cA.displayName=g3;var Xo="SelectContent",uA=p.forwardRef((t,e)=>{const r=io(Xo,t.__scopeSelect),[n,s]=p.useState();if(dr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?qs.createPortal(f.jsx(dA,{scope:t.__scopeSelect,children:f.jsx(cp.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(hA,{...t,ref:e})});uA.displayName=Xo;var In=10,[dA,oo]=Bl(Xo),y3="SelectContentImpl",hA=p.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w,...x}=t,v=io(Xo,r),[b,_]=p.useState(null),[C,A]=p.useState(null),E=rt(e,J=>_(J)),[S,P]=p.useState(null),[T,U]=p.useState(null),F=up(r),[z,B]=p.useState(!1),Y=p.useRef(!1);p.useEffect(()=>{if(b)return op(b)},[b]),Dx();const X=p.useCallback(J=>{const[fe,...Ie]=F().map(Oe=>Oe.ref.current),[Ae]=Ie.slice(-1),ze=document.activeElement;for(const Oe of J)if(Oe===ze||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===fe&&C&&(C.scrollTop=0),Oe===Ae&&C&&(C.scrollTop=C.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==ze))return},[F,C]),Q=p.useCallback(()=>X([S,b]),[X,S,b]);p.useEffect(()=>{z&&Q()},[z,Q]);const{onOpenChange:D,triggerPointerDownPosRef:O}=v;p.useEffect(()=>{if(b){let J={x:0,y:0};const fe=Ae=>{var ze,Oe;J={x:Math.abs(Math.round(Ae.pageX)-(((ze=O.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((Oe=O.current)==null?void 0:Oe.y)??0))}},Ie=Ae=>{J.x<=10&&J.y<=10?Ae.preventDefault():b.contains(Ae.target)||D(!1),document.removeEventListener("pointermove",fe),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[b,D,O]),p.useEffect(()=>{const J=()=>D(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[D]);const[V,ee]=TA(J=>{const fe=F().filter(ze=>!ze.disabled),Ie=fe.find(ze=>ze.ref.current===document.activeElement),Ae=RA(fe,J,Ie);Ae&&setTimeout(()=>Ae.ref.current.focus())}),N=p.useCallback((J,fe,Ie)=>{const Ae=!Y.current&&!Ie;(v.value!==void 0&&v.value===fe||Ae)&&(P(J),Ae&&(Y.current=!0))},[v.value]),G=p.useCallback(()=>b==null?void 0:b.focus(),[b]),ie=p.useCallback((J,fe,Ie)=>{const Ae=!Y.current&&!Ie;(v.value!==void 0&&v.value===fe||Ae)&&U(J)},[v.value]),te=n==="popper"?_y:fA,re=te===_y?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return f.jsx(dA,{scope:r,content:b,viewport:C,onViewportChange:A,itemRefCallback:N,selectedItem:S,onItemLeave:G,itemTextRefCallback:ie,focusSelectedItem:Q,selectedItemText:T,position:n,isPositioned:z,searchRef:V,children:f.jsx(lp,{as:Hs,allowPinchZoom:!0,children:f.jsx(ip,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ke(s,J=>{var fe;(fe=v.trigger)==null||fe.focus({preventScroll:!0}),J.preventDefault()}),children:f.jsx(Gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:f.jsx(te,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...x,...re,onPlaced:()=>B(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ke(x.onKeyDown,J=>{const fe=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!fe&&J.key.length===1&&ee(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Ae=F().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ze=J.target,Oe=Ae.indexOf(ze);Ae=Ae.slice(Oe+1)}setTimeout(()=>X(Ae)),J.preventDefault()}})})})})})})});hA.displayName=y3;var v3="SelectItemAlignedPosition",fA=p.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=io(Xo,r),o=oo(Xo,r),[a,l]=p.useState(null),[c,u]=p.useState(null),d=rt(e,E=>u(E)),h=up(r),m=p.useRef(!1),y=p.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:x,focusSelectedItem:v}=o,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&w&&x){const E=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const ze=T.left-S.left,Oe=P.left-ze,xt=E.left-Oe,Xe=E.width+xt,Ct=Math.max(Xe,S.width),Et=window.innerWidth-In,rr=wy(Oe,[In,Math.max(In,Et-Ct)]);a.style.minWidth=Xe+"px",a.style.left=rr+"px"}else{const ze=S.right-T.right,Oe=window.innerWidth-P.right-ze,xt=window.innerWidth-E.right-Oe,Xe=E.width+xt,Ct=Math.max(Xe,S.width),Et=window.innerWidth-In,rr=wy(Oe,[In,Math.max(In,Et-Ct)]);a.style.minWidth=Xe+"px",a.style.right=rr+"px"}const U=h(),F=window.innerHeight-In*2,z=g.scrollHeight,B=window.getComputedStyle(c),Y=parseInt(B.borderTopWidth,10),X=parseInt(B.paddingTop,10),Q=parseInt(B.borderBottomWidth,10),D=parseInt(B.paddingBottom,10),O=Y+X+z+D+Q,V=Math.min(w.offsetHeight*5,O),ee=window.getComputedStyle(g),N=parseInt(ee.paddingTop,10),G=parseInt(ee.paddingBottom,10),ie=E.top+E.height/2-In,te=F-ie,re=w.offsetHeight/2,J=w.offsetTop+re,fe=Y+X+J,Ie=O-fe;if(fe<=ie){const ze=U.length>0&&w===U[U.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-g.offsetTop-g.offsetHeight,xt=Math.max(te,re+(ze?G:0)+Oe+Q),Xe=fe+xt;a.style.height=Xe+"px"}else{const ze=U.length>0&&w===U[0].ref.current;a.style.top="0px";const xt=Math.max(ie,Y+g.offsetTop+(ze?N:0)+re)+Ie;a.style.height=xt+"px",g.scrollTop=fe-ie+g.offsetTop}a.style.margin=`${In}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,c,g,w,x,i.dir,n]);dr(()=>b(),[b]);const[_,C]=p.useState();dr(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const A=p.useCallback(E=>{E&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return f.jsx(w3,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:f.jsx(Be.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});fA.displayName=v3;var x3="SelectPopperPosition",_y=p.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=In,...i}=t,o=dp(r);return f.jsx(yx,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_y.displayName=x3;var[w3,$x]=Bl(Xo,{}),Sy="SelectViewport",pA=p.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=oo(Sy,r),o=$x(Sy,r),a=rt(e,i.onViewportChange),l=p.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(cp.Slot,{scope:r,children:f.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ke(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const y=window.innerHeight-In*2,g=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),x=Math.max(g,w);if(x<y){const v=x+m,b=Math.min(y,v),_=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});pA.displayName=Sy;var mA="SelectGroup",[b3,_3]=Bl(mA),S3=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Dl();return f.jsx(b3,{scope:r,id:s,children:f.jsx(Be.div,{role:"group","aria-labelledby":s,...n,ref:e})})});S3.displayName=mA;var gA="SelectLabel",yA=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=_3(gA,r);return f.jsx(Be.div,{id:s.id,...n,ref:e})});yA.displayName=gA;var yf="SelectItem",[C3,vA]=Bl(yf),xA=p.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=io(yf,r),l=oo(yf,r),c=a.value===n,[u,d]=p.useState(i??""),[h,m]=p.useState(!1),y=rt(e,v=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,v,n,s)}),g=Dl(),w=p.useRef("touch"),x=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(C3,{scope:r,value:n,disabled:s,textId:g,isSelected:c,onItemTextChange:p.useCallback(v=>{d(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:f.jsx(cp.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:f.jsx(Be.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:ke(o.onFocus,()=>m(!0)),onBlur:ke(o.onBlur,()=>m(!1)),onClick:ke(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:ke(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:ke(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:ke(o.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=l.onItemLeave)==null||b.call(l):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ke(o.onKeyDown,v=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(u3.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});xA.displayName=yf;var wc="SelectItemText",wA=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=io(wc,r),a=oo(wc,r),l=vA(wc,r),c=p3(wc,r),[u,d]=p.useState(null),h=rt(e,x=>d(x),l.onItemTextChange,x=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,x,l.value,l.disabled)}),m=u==null?void 0:u.textContent,y=p.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return dr(()=>(g(y),()=>w(y)),[g,w,y]),f.jsxs(f.Fragment,{children:[f.jsx(Be.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?qs.createPortal(i.children,o.valueNode):null]})});wA.displayName=wc;var bA="SelectItemIndicator",_A=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return vA(bA,r).isSelected?f.jsx(Be.span,{"aria-hidden":!0,...n,ref:e}):null});_A.displayName=bA;var Cy="SelectScrollUpButton",SA=p.forwardRef((t,e)=>{const r=oo(Cy,t.__scopeSelect),n=$x(Cy,t.__scopeSelect),[s,i]=p.useState(!1),o=rt(e,n.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?f.jsx(EA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});SA.displayName=Cy;var Ey="SelectScrollDownButton",CA=p.forwardRef((t,e)=>{const r=oo(Ey,t.__scopeSelect),n=$x(Ey,t.__scopeSelect),[s,i]=p.useState(!1),o=rt(e,n.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?f.jsx(EA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});CA.displayName=Ey;var EA=p.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=oo("SelectScrollButton",r),o=p.useRef(null),a=up(r),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),dr(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(Be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ke(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ke(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ke(s.onPointerLeave,()=>{l()})})}),E3="SelectSeparator",PA=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return f.jsx(Be.div,{"aria-hidden":!0,...n,ref:e})});PA.displayName=E3;var Py="SelectArrow",P3=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=dp(r),i=io(Py,r),o=oo(Py,r);return i.open&&o.position==="popper"?f.jsx(vx,{...s,...n,ref:e}):null});P3.displayName=Py;function AA(t){return t===""||t===void 0}var kA=p.forwardRef((t,e)=>{const{value:r,...n}=t,s=p.useRef(null),i=rt(e,s),o=HP(r);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&u){const d=new Event("change",{bubbles:!0});u.call(a,r),a.dispatchEvent(d)}},[o,r]),f.jsx(xx,{asChild:!0,children:f.jsx("select",{...n,ref:i,defaultValue:r})})});kA.displayName="BubbleSelect";function TA(t){const e=gr(t),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const a=r.current+o;e(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function RA(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=A3(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function A3(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var k3=nA,MA=iA,T3=aA,R3=lA,M3=cA,jA=uA,j3=pA,NA=yA,IA=xA,N3=wA,I3=_A,OA=SA,DA=CA,LA=PA;const hp=k3,fp=T3,ed=p.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(MA,{ref:n,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,f.jsx(R3,{asChild:!0,children:f.jsx(UP,{className:"h-4 w-4 opacity-50"})})]}));ed.displayName=MA.displayName;const FA=p.forwardRef(({className:t,...e},r)=>f.jsx(OA,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(h4,{className:"h-4 w-4"})}));FA.displayName=OA.displayName;const $A=p.forwardRef(({className:t,...e},r)=>f.jsx(DA,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(UP,{className:"h-4 w-4"})}));$A.displayName=DA.displayName;const td=p.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>f.jsx(M3,{children:f.jsxs(jA,{ref:s,className:Ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[f.jsx(FA,{}),f.jsx(j3,{className:Ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx($A,{})]})}));td.displayName=jA.displayName;const O3=p.forwardRef(({className:t,...e},r)=>f.jsx(NA,{ref:r,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));O3.displayName=NA.displayName;const rd=p.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(IA,{ref:n,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(I3,{children:f.jsx(Ox,{className:"h-4 w-4"})})}),f.jsx(N3,{children:e})]}));rd.displayName=IA.displayName;const D3=p.forwardRef(({className:t,...e},r)=>f.jsx(LA,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",t),...e}));D3.displayName=LA.displayName;const nd=p.forwardRef(({className:t,...e},r)=>f.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));nd.displayName="Textarea";function L3(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=d=>{var x;const{scope:h,children:m,...y}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(d,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,F3(s,...e)]}function F3(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Bx="Checkbox",[$3,J8]=L3(Bx),[B3,z3]=$3(Bx),BA=p.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,m]=p.useState(null),y=rt(e,_=>m(_)),g=p.useRef(!1),w=h?u||!!h.closest("form"):!0,[x=!1,v]=wl({prop:s,defaultProp:i,onChange:c}),b=p.useRef(x);return p.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const C=()=>v(b.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[h,v]),f.jsxs(B3,{scope:r,state:x,disabled:a,children:[f.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":Fi(x)?"mixed":x,"aria-required":o,"data-state":VA(x),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:y,onKeyDown:ke(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ke(t.onClick,_=>{v(C=>Fi(C)?!0:!C),w&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),w&&f.jsx(U3,{control:h,bubbles:!g.current,name:n,value:l,checked:x,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Fi(i)?!1:i})]})});BA.displayName=Bx;var zA="CheckboxIndicator",UA=p.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=z3(zA,r);return f.jsx(pn,{present:n||Fi(i.state)||i.state===!0,children:f.jsx(Be.span,{"data-state":VA(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});UA.displayName=zA;var U3=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...i}=t,o=p.useRef(null),a=HP(r),l=SE(e);p.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==r&&m){const y=new Event("click",{bubbles:n});u.indeterminate=Fi(r),m.call(u,Fi(r)?!1:r),u.dispatchEvent(y)}},[a,r,n]);const c=p.useRef(Fi(r)?!1:r);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fi(t){return t==="indeterminate"}function VA(t){return Fi(t)?"indeterminate":t?"checked":"unchecked"}var WA=BA,V3=UA;const HA=p.forwardRef(({className:t,...e},r)=>f.jsx(WA,{ref:r,className:Ne("peer flex items-center justify-center h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:f.jsx(V3,{className:Ne("flex items-center justify-center text-current"),children:f.jsx(Ox,{className:"size-full"})})}));HA.displayName=WA.displayName;const pp=p.forwardRef(({options:t,multiSelect:e=!1,...r},n)=>{const s=o=>r.value.includes(o),i=o=>{if(e)if(s(o)){const a=r.value.filter(l=>l!=o);r.onChange(a)}else{const a=[...r.value,o];a.sort(),r.onChange(a)}else if(!s(o)){const a=[o];r.onChange(a)}};return f.jsx(f.Fragment,{children:f.jsx("div",{className:"",children:f.jsxs(zi,{children:[f.jsx(Ui,{children:f.jsxs(Wr,{children:[f.jsx(Ce,{className:"w-[20px]",children:"-"}),f.jsx(Ce,{children:"Name"}),f.jsx(Ce,{children:"Path"})]})}),f.jsx(Vi,{children:t.map(o=>f.jsxs(Wr,{children:[f.jsx(Re,{className:"",children:f.jsx(HA,{checked:s(o.id),onClick:()=>i(o.id)})}),f.jsx(Re,{children:f.jsx(En,{to:yt.videoFolderDetails.path.replace(/:id/,`${o.id}`),target:"_blank",children:o.name})}),f.jsx(Re,{children:o.path})]},o.id))})]})})})}),W3=be.object({name:be.string().min(1).max(1e3),video_folder_ids:be.array(be.any()).min(1,"Must select at least one data folder"),output_model_name:be.string().min(1).max(1e3),config:be.string(),epochs:be.coerce.number().min(1).max(2e3),vol_size:be.coerce.number().min(1).max(800),runtime_id:be.coerce.number().min(0,"Must select a runtime")}),H3=()=>{const t=ro({resolver:so(W3),defaultValues:{name:"",video_folder_ids:[],output_model_name:"",config:"",epochs:0,vol_size:240,runtime_id:-1}}),e=eo(),{data:r,isLoading:n}=Ku(),{data:s,isLoading:i}=qu(),o=JL(),a=async c=>{console.log("Com train submission. Values=",c);let{config:u,...d}=c;u.length==0&&(u="{}");const h=await o.mutateAsync({config:u,...d});console.log("RETURNED DATA",h),e(yt.monitorJobs.path)};if(n||i)return f.jsx("div",{children:"Data still loading..."});const l=s.filter(c=>c.com_labels_file).map(c=>({id:c.id,name:c.name,path:c.path}));return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Train COM Model"}),f.jsx(no,{...t,children:f.jsxs("form",{onSubmit:t.handleSubmit(a),className:"space-y-8",children:[f.jsx(Ke,{control:t.control,name:"name",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Training Job Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"E.g. Train COM Rat 2",...c})}),f.jsx(et,{}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"output_model_name",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Output Model Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"e.g. alone-tethered-com-1",...c})}),f.jsx(et,{children:"Must be unique. This controls where the application will store the trained COM model weights"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"video_folder_ids",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Data Folders to use in COM Training"}),f.jsx(He,{children:f.jsx(pp,{options:l,multiSelect:!0,...c})}),f.jsx(et,{children:"Each folder will use the most recent COM label files by default. Click on the folder name to get more info in a new tab."}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"epochs",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Training Epochs"}),f.jsx(He,{children:f.jsx(Bt,{type:"number",placeholder:"e.g. 100",...c})}),f.jsx(Ge,{}),f.jsx(et,{children:"Number of epochs for training. Recommended 100-200. This sets the epochs option in the config file."})]})}),f.jsx(Ke,{control:t.control,name:"vol_size",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Size of bounding box"}),f.jsx(He,{children:f.jsx(Bt,{type:"number",placeholder:"e.g. 100",...c})}),f.jsx(Ge,{}),f.jsx(et,{children:"Recommended 240 or 320 for rats. This sets the vol_size option in the config file."})]})}),f.jsx(Ke,{control:t.control,name:"config",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Additional config options (JSON)"}),f.jsx(He,{children:f.jsx(nd,{placeholder:`e.g. {
      "downfac": 8,
      "batch_size": 4
    }`,className:"min-h-[130px]",...c})}),f.jsx(et,{children:"Optional JSON arguments for the training job. Must be a properly formatted JSON string (or empty)"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"runtime_id",render:({field:c})=>{var d;const u=r;return f.jsxs(Ve,{children:[f.jsx(We,{children:"Runtime Configuration"}),f.jsxs(hp,{onValueChange:c.onChange,defaultValue:"",children:[f.jsx(He,{children:f.jsx(ed,{children:f.jsx(fp,{placeholder:"Select ",children:u?(d=u.find(h=>h.id==c.value))==null?void 0:d.name:null})})}),f.jsx(td,{children:u.map(h=>f.jsx(rd,{value:h.id,children:h.name},h.id))})]}),f.jsx(et,{children:"Select a SLURM runtime defined on the Runtimes page"}),f.jsx(Ge,{})]})}}),f.jsx(tr,{type:"submit",children:"Submit"})]})})]})},G3=be.object({name:be.string().min(1).max(1e3),video_folder_ids:be.array(be.any()).min(1,"Must select at least one data folder"),output_model_name:be.string().min(1).max(1e3),config:be.string(),epochs:be.coerce.number().min(1).max(2e3),runtime_id:be.coerce.number().min(0,"Must select a runtime")}),Y3=()=>{const t=ro({resolver:so(G3),defaultValues:{name:"",video_folder_ids:[],output_model_name:"",config:"",epochs:0,runtime_id:-1}}),e=eo(),{data:r,isLoading:n}=Ku(),{data:s,isLoading:i}=qu(),o=eF(),a=async c=>{console.log("Dannce train submission. Values=",c);let{config:u,...d}=c;u.length==0&&(u="{}");const h=await o.mutateAsync({config:u,...d});console.log("RETURNED DATA",h),e(yt.monitorJobs.path)};if(n||i)return f.jsx("div",{children:"Data still loading..."});const l=s.filter(c=>c.current_com_prediction).map(c=>({id:c.id,name:c.name,path:c.path}));return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Train DANNCE Model"}),f.jsx(no,{...t,children:f.jsxs("form",{onSubmit:t.handleSubmit(a),className:"space-y-8",children:[f.jsx(Ke,{control:t.control,name:"name",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Training Job Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"E.g. Train DANNCE Rat 2",...c})}),f.jsx(et,{}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"output_model_name",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Output Model Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"e.g. alone-tethered-dannce-1",...c})}),f.jsx(et,{children:"Must be unique. This controls where DANNCE will store the trained model weights"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"video_folder_ids",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Data Folders to use in DANNCE Training"})," ",f.jsx(He,{children:f.jsx(pp,{options:l,multiSelect:!0,...c})}),f.jsx(et,{children:"Each folder will use the most recent COM label files and COM predictions by default. Click on the folder name to get more info in a new tab."}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"epochs",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Training Epochs"}),f.jsx(He,{children:f.jsx(Bt,{type:"number",placeholder:"e.g. 100",...c})}),f.jsx(Ge,{}),f.jsx(et,{children:"Number of epochs for training. Recommended 100-200. This sets the epochs option in the config file."})]})}),f.jsx(Ke,{control:t.control,name:"config",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Additional config options (JSON)"}),f.jsx(He,{children:f.jsx(nd,{placeholder:`e.g. {
      "batch_size": 4,
      "train_mode":"new"
    }`,className:"min-h-[130px]",...c})}),f.jsx(et,{children:"Optional JSON arguments for the training job. Must be a properly formatted JSON string (or empty)"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"runtime_id",render:({field:c})=>{var d;const u=r;return f.jsxs(Ve,{children:[f.jsx(We,{children:"Runtime Configuration"}),f.jsxs(hp,{onValueChange:c.onChange,defaultValue:"",children:[f.jsx(He,{children:f.jsx(ed,{children:f.jsx(fp,{placeholder:"Select ",children:u?(d=u.find(h=>h.id==c.value))==null?void 0:d.name:null})})}),f.jsx(td,{children:u.map(h=>f.jsx(rd,{value:h.id,children:h.name},h.id))})]}),f.jsx(et,{children:"Select a SLURM runtime defined on the Runtimes page"}),f.jsx(Ge,{})]})}}),f.jsx(tr,{type:"submit",children:"Submit"})]})})]})};var Fb=1,X3=.9,K3=.8,q3=.17,vm=.1,xm=.999,Z3=.9999,Q3=.99,J3=/[\\\/_+.#"@\[\(\{&]/,eB=/[\\\/_+.#"@\[\(\{&]/g,tB=/[\s-]/,GA=/[\s-]/g;function Ay(t,e,r,n,s,i,o){if(i===e.length)return s===t.length?Fb:Q3;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var l=n.charAt(i),c=r.indexOf(l,s),u=0,d,h,m,y;c>=0;)d=Ay(t,e,r,n,c+1,i+1,o),d>u&&(c===s?d*=Fb:J3.test(t.charAt(c-1))?(d*=K3,m=t.slice(s,c-1).match(eB),m&&s>0&&(d*=Math.pow(xm,m.length))):tB.test(t.charAt(c-1))?(d*=X3,y=t.slice(s,c-1).match(GA),y&&s>0&&(d*=Math.pow(xm,y.length))):(d*=q3,s>0&&(d*=Math.pow(xm,c-s))),t.charAt(c)!==e.charAt(i)&&(d*=Z3)),(d<vm&&r.charAt(c-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(c-1)!==n.charAt(i))&&(h=Ay(t,e,r,n,c+1,i+2,o),h*vm>d&&(d=h*vm)),d>u&&(u=d),c=r.indexOf(l,c+1);return o[a]=u,u}function $b(t){return t.toLowerCase().replace(GA," ")}function rB(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Ay(t,e,$b(t),$b(e),0,0,{})}function Ir(){return Ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ir.apply(null,arguments)}function qa(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function nB(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function YA(...t){return e=>t.forEach(r=>nB(r,e))}function sd(...t){return p.useCallback(YA(...t),t)}function sB(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];function c(d){const{scope:h,children:m,...y}=d,g=(h==null?void 0:h[t][l])||a,w=p.useMemo(()=>y,Object.values(y));return p.createElement(g.Provider,{value:w},m)}function u(d,h){const m=(h==null?void 0:h[t][l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,iB(s,...e)]}function iB(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}const ky=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},oB=ov.useId||(()=>{});let aB=0;function wm(t){const[e,r]=p.useState(oB());return ky(()=>{t||r(n=>n??String(aB++))},[t]),t||(e?`radix-${e}`:"")}function Ko(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function lB({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=cB({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,a=Ko(r),l=p.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function cB({defaultProp:t,onChange:e}){const r=p.useState(t),[n]=r,s=p.useRef(n),i=Ko(e);return p.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}const zx=p.forwardRef((t,e)=>{const{children:r,...n}=t,s=p.Children.toArray(r),i=s.find(dB);if(i){const o=i.props.children,a=s.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return p.createElement(Ty,Ir({},n,{ref:e}),p.isValidElement(o)?p.cloneElement(o,void 0,a):null)}return p.createElement(Ty,Ir({},n,{ref:e}),r)});zx.displayName="Slot";const Ty=p.forwardRef((t,e)=>{const{children:r,...n}=t;return p.isValidElement(r)?p.cloneElement(r,{...hB(n,r.props),ref:e?YA(e,r.ref):r.ref}):p.Children.count(r)>1?p.Children.only(null):null});Ty.displayName="SlotClone";const uB=({children:t})=>p.createElement(p.Fragment,null,t);function dB(t){return p.isValidElement(t)&&t.type===uB}function hB(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}const fB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rn=fB.reduce((t,e)=>{const r=p.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?zx:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,Ir({},o,{ref:s}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function pB(t,e){t&&qs.flushSync(()=>t.dispatchEvent(e))}function mB(t,e=globalThis==null?void 0:globalThis.document){const r=Ko(t);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[r,e])}const Ry="dismissableLayer.update",gB="dismissableLayer.pointerDownOutside",yB="dismissableLayer.focusOutside";let Bb;const vB=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xB=p.forwardRef((t,e)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(vB),[d,h]=p.useState(null),m=(r=d==null?void 0:d.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,y]=p.useState({}),g=sd(e,S=>h(S)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(x),b=d?w.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=v,A=wB(S=>{const P=S.target,T=[...u.branches].some(U=>U.contains(P));!C||T||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),E=bB(S=>{const P=S.target;[...u.branches].some(U=>U.contains(P))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return mB(S=>{b===u.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Bb=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),zb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Bb)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),zb())},[d,u]),p.useEffect(()=>{const S=()=>y({});return document.addEventListener(Ry,S),()=>document.removeEventListener(Ry,S)},[]),p.createElement(Rn.div,Ir({},c,{ref:g,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:qa(t.onFocusCapture,E.onFocusCapture),onBlurCapture:qa(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:qa(t.onPointerDownCapture,A.onPointerDownCapture)}))});function wB(t,e=globalThis==null?void 0:globalThis.document){const r=Ko(t),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){XA(gB,r,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function bB(t,e=globalThis==null?void 0:globalThis.document){const r=Ko(t),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&XA(yB,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zb(){const t=new CustomEvent(Ry);document.dispatchEvent(t)}function XA(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?pB(s,i):s.dispatchEvent(i)}const bm="focusScope.autoFocusOnMount",_m="focusScope.autoFocusOnUnmount",Ub={bubbles:!1,cancelable:!0},_B=p.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),c=Ko(s),u=Ko(i),d=p.useRef(null),h=sd(e,g=>l(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(b){if(m.paused||!a)return;const _=b.target;a.contains(_)?d.current=_:ui(d.current,{select:!0})},w=function(b){if(m.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||ui(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&ui(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(x);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){Wb.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(bm,Ub);a.addEventListener(bm,c),a.dispatchEvent(x),x.defaultPrevented||(SB(kB(KA(a)),{select:!0}),document.activeElement===g&&ui(a))}return()=>{a.removeEventListener(bm,c),setTimeout(()=>{const x=new CustomEvent(_m,Ub);a.addEventListener(_m,u),a.dispatchEvent(x),x.defaultPrevented||ui(g??document.body,{select:!0}),a.removeEventListener(_m,u),Wb.remove(m)},0)}}},[a,c,u,m]);const y=p.useCallback(g=>{if(!r&&!n||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(w&&x){const v=g.currentTarget,[b,_]=CB(v);b&&_?!g.shiftKey&&x===_?(g.preventDefault(),r&&ui(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),r&&ui(_,{select:!0})):x===v&&g.preventDefault()}},[r,n,m.paused]);return p.createElement(Rn.div,Ir({tabIndex:-1},o,{ref:h,onKeyDown:y}))});function SB(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ui(n,{select:e}),document.activeElement!==r)return}function CB(t){const e=KA(t),r=Vb(e,t),n=Vb(e.reverse(),t);return[r,n]}function KA(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Vb(t,e){for(const r of t)if(!EB(r,{upTo:e}))return r}function EB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PB(t){return t instanceof HTMLInputElement&&"select"in t}function ui(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&PB(t)&&e&&t.select()}}const Wb=AB();function AB(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Hb(t,e),t.unshift(e)},remove(e){var r;t=Hb(t,e),(r=t[0])===null||r===void 0||r.resume()}}}function Hb(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function kB(t){return t.filter(e=>e.tagName!=="A")}const TB=p.forwardRef((t,e)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=t;return n?$f.createPortal(p.createElement(Rn.div,Ir({},s,{ref:e})),n):null});function RB(t,e){return p.useReducer((r,n)=>{const s=e[r][n];return s??r},t)}const mp=t=>{const{present:e,children:r}=t,n=MB(e),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=sd(n.ref,s.ref);return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};mp.displayName="Presence";function MB(t){const[e,r]=p.useState(),n=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=RB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Ud(n.current);i.current=a==="mounted"?c:"none"},[a]),ky(()=>{const c=n.current,u=s.current;if(u!==t){const h=i.current,m=Ud(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ky(()=>{if(e){const c=d=>{const m=Ud(n.current).includes(d.animationName);d.target===e&&m&&qs.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=Ud(n.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function Ud(t){return(t==null?void 0:t.animationName)||"none"}let Sm=0;function jB(){p.useEffect(()=>{var t,e;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=r[0])!==null&&t!==void 0?t:Gb()),document.body.insertAdjacentElement("beforeend",(e=r[1])!==null&&e!==void 0?e:Gb()),Sm++,()=>{Sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Sm--}},[])}function Gb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var qA=KP(),Cm=function(){},gp=p.forwardRef(function(t,e){var r=p.useRef(null),n=p.useState({onScrollCapture:Cm,onWheelCapture:Cm,onTouchMoveCapture:Cm}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,v=Lx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=h,_=XP([r,e]),C=yr(yr({},v),s);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:qA,removeScrollBar:c,shards:d,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:r}),o?p.cloneElement(p.Children.only(a),yr(yr({},C),{ref:_})):p.createElement(x,yr({},C,{className:l,ref:_}),a))});gp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gp.classNames={fullWidth:Fc,zeroRight:Lc};var My=!1;if(typeof window<"u")try{var Vd=Object.defineProperty({},"passive",{get:function(){return My=!0,!0}});window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{My=!1}var pa=My?{passive:!1}:!1,NB=function(t){return t.tagName==="TEXTAREA"},ZA=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!NB(t)&&r[e]==="visible")},IB=function(t){return ZA(t,"overflowY")},OB=function(t){return ZA(t,"overflowX")},Yb=function(t,e){var r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=QA(t,r);if(n){var s=JA(t,r),i=s[1],o=s[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},DB=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},LB=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},QA=function(t,e){return t==="v"?IB(e):OB(e)},JA=function(t,e){return t==="v"?DB(e):LB(e)},FB=function(t,e){return t==="h"&&e==="rtl"?-1:1},$B=function(t,e,r,n,s){var i=FB(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var m=JA(t,a),y=m[0],g=m[1],w=m[2],x=g-w-i*y;(y||x)&&QA(t,a)&&(d+=x,h+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(d===0||!s)||!u&&(h===0||!s))&&(c=!0),c},Wd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Xb=function(t){return[t.deltaX,t.deltaY]},Kb=function(t){return t&&"current"in t?t.current:t},BB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},UB=0,ma=[];function VB(t){var e=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(UB++)[0],i=p.useState(function(){return Fx()})[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=YP([t.lockRef.current],(t.shards||[]).map(Kb),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2)return!o.current.allowPinchZoom;var x=Wd(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-x[0],_="deltaY"in g?g.deltaY:v[1]-x[1],C,A=g.target,E=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&E==="h"&&A.type==="range")return!1;var S=Yb(E,A);if(!S)return!0;if(S?C=E:(C=E==="v"?"h":"v",S=Yb(E,A)),!S)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=C),!C)return!0;var P=n.current||C;return $B(P,w,g,P==="h"?b:_,!0)},[]),l=p.useCallback(function(g){var w=g;if(!(!ma.length||ma[ma.length-1]!==i)){var x="deltaY"in w?Xb(w):Wd(w),v=e.current.filter(function(C){return C.name===w.type&&C.target===w.target&&BB(C.delta,x)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(Kb).filter(Boolean).filter(function(C){return C.contains(w.target)}),_=b.length>0?a(w,b[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(g,w,x,v){var b={name:g,delta:w,target:x,should:v};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),u=p.useCallback(function(g){r.current=Wd(g),n.current=void 0},[]),d=p.useCallback(function(g){c(g.type,Xb(g),g.target,a(g,t.lockRef.current))},[]),h=p.useCallback(function(g){c(g.type,Wd(g),g.target,a(g,t.lockRef.current))},[]);p.useEffect(function(){return ma.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,pa),document.addEventListener("touchmove",l,pa),document.addEventListener("touchstart",u,pa),function(){ma=ma.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,pa),document.removeEventListener("touchmove",l,pa),document.removeEventListener("touchstart",u,pa)}},[]);var m=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:zB(s)}):null,m?p.createElement(JP,{gapMode:"margin"}):null)}const WB=ZP(qA,VB);var ek=p.forwardRef(function(t,e){return p.createElement(gp,yr({},t,{ref:e,sideCar:WB}))});ek.classNames=gp.classNames;const tk="Dialog",[rk,eW]=sB(tk),[HB,ia]=rk(tk),GB=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[c=!1,u]=lB({prop:n,defaultProp:s,onChange:i});return p.createElement(HB,{scope:e,triggerRef:a,contentRef:l,contentId:wm(),titleId:wm(),descriptionId:wm(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),modal:o},r)},nk="DialogPortal",[YB,sk]=rk(nk,{forceMount:void 0}),XB=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=ia(nk,e);return p.createElement(YB,{scope:e,forceMount:r},p.Children.map(n,o=>p.createElement(mp,{present:r||i.open},p.createElement(TB,{asChild:!0,container:s},o))))},jy="DialogOverlay",KB=p.forwardRef((t,e)=>{const r=sk(jy,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=ia(jy,t.__scopeDialog);return i.modal?p.createElement(mp,{present:n||i.open},p.createElement(qB,Ir({},s,{ref:e}))):null}),qB=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ia(jy,r);return p.createElement(ek,{as:zx,allowPinchZoom:!0,shards:[s.contentRef]},p.createElement(Rn.div,Ir({"data-state":ok(s.open)},n,{ref:e,style:{pointerEvents:"auto",...n.style}})))}),Eu="DialogContent",ZB=p.forwardRef((t,e)=>{const r=sk(Eu,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=ia(Eu,t.__scopeDialog);return p.createElement(mp,{present:n||i.open},i.modal?p.createElement(QB,Ir({},s,{ref:e})):p.createElement(JB,Ir({},s,{ref:e})))}),QB=p.forwardRef((t,e)=>{const r=ia(Eu,t.__scopeDialog),n=p.useRef(null),s=sd(e,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return op(i)},[]),p.createElement(ik,Ir({},t,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qa(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:qa(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:qa(t.onFocusOutside,i=>i.preventDefault())}))}),JB=p.forwardRef((t,e)=>{const r=ia(Eu,t.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return p.createElement(ik,Ir({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,i),!i.defaultPrevented){var a;n.current||(a=r.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}n.current=!1,s.current=!1},onInteractOutside:i=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((a=r.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),ik=p.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ia(Eu,r),l=p.useRef(null),c=sd(e,l);return jB(),p.createElement(p.Fragment,null,p.createElement(_B,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i},p.createElement(xB,Ir({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ok(a.open)},o,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function ok(t){return t?"open":"closed"}const e5=GB,t5=XB,r5=KB,n5=ZB;var ac='[cmdk-group=""]',Em='[cmdk-group-items=""]',s5='[cmdk-group-heading=""]',Ux='[cmdk-item=""]',qb=`${Ux}:not([aria-disabled="true"])`,Ny="cmdk-item-select",xo="data-value",i5=(t,e,r)=>rB(t,e,r),ak=p.createContext(void 0),id=()=>p.useContext(ak),lk=p.createContext(void 0),Vx=()=>p.useContext(lk),ck=p.createContext(void 0),uk=p.forwardRef((t,e)=>{let r=xa(()=>{var N,G;return{search:"",value:(G=(N=t.value)!=null?N:t.defaultValue)!=null?G:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=xa(()=>new Set),s=xa(()=>new Map),i=xa(()=>new Map),o=xa(()=>new Set),a=dk(t),{label:l,children:c,value:u,onValueChange:d,filter:h,shouldFilter:m,loop:y,disablePointerSelection:g=!1,vimBindings:w=!0,...x}=t,v=p.useId(),b=p.useId(),_=p.useId(),C=p.useRef(null),A=g5();qo(()=>{if(u!==void 0){let N=u.trim();r.current.value=N,E.emit()}},[u]),qo(()=>{A(6,z)},[]);let E=p.useMemo(()=>({subscribe:N=>(o.current.add(N),()=>o.current.delete(N)),snapshot:()=>r.current,setState:(N,G,ie)=>{var te,re,J;if(!Object.is(r.current[N],G)){if(r.current[N]=G,N==="search")F(),T(),A(1,U);else if(N==="value"&&(ie||A(5,z),((te=a.current)==null?void 0:te.value)!==void 0)){let fe=G??"";(J=(re=a.current).onValueChange)==null||J.call(re,fe);return}E.emit()}},emit:()=>{o.current.forEach(N=>N())}}),[]),S=p.useMemo(()=>({value:(N,G,ie)=>{var te;G!==((te=i.current.get(N))==null?void 0:te.value)&&(i.current.set(N,{value:G,keywords:ie}),r.current.filtered.items.set(N,P(G,ie)),A(2,()=>{T(),E.emit()}))},item:(N,G)=>(n.current.add(N),G&&(s.current.has(G)?s.current.get(G).add(N):s.current.set(G,new Set([N]))),A(3,()=>{F(),T(),r.current.value||U(),E.emit()}),()=>{i.current.delete(N),n.current.delete(N),r.current.filtered.items.delete(N);let ie=B();A(4,()=>{F(),(ie==null?void 0:ie.getAttribute("id"))===N&&U(),E.emit()})}),group:N=>(s.current.has(N)||s.current.set(N,new Set),()=>{i.current.delete(N),s.current.delete(N)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],disablePointerSelection:g,listId:v,inputId:_,labelId:b,listInnerRef:C}),[]);function P(N,G){var ie,te;let re=(te=(ie=a.current)==null?void 0:ie.filter)!=null?te:i5;return N?re(N,r.current.search,G):0}function T(){if(!r.current.search||a.current.shouldFilter===!1)return;let N=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(te=>{let re=s.current.get(te),J=0;re.forEach(fe=>{let Ie=N.get(fe);J=Math.max(Ie,J)}),G.push([te,J])});let ie=C.current;Y().sort((te,re)=>{var J,fe;let Ie=te.getAttribute("id"),Ae=re.getAttribute("id");return((J=N.get(Ae))!=null?J:0)-((fe=N.get(Ie))!=null?fe:0)}).forEach(te=>{let re=te.closest(Em);re?re.appendChild(te.parentElement===re?te:te.closest(`${Em} > *`)):ie.appendChild(te.parentElement===ie?te:te.closest(`${Em} > *`))}),G.sort((te,re)=>re[1]-te[1]).forEach(te=>{let re=C.current.querySelector(`${ac}[${xo}="${encodeURIComponent(te[0])}"]`);re==null||re.parentElement.appendChild(re)})}function U(){let N=Y().find(ie=>ie.getAttribute("aria-disabled")!=="true"),G=N==null?void 0:N.getAttribute(xo);E.setState("value",G||void 0)}function F(){var N,G,ie,te;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let J of n.current){let fe=(G=(N=i.current.get(J))==null?void 0:N.value)!=null?G:"",Ie=(te=(ie=i.current.get(J))==null?void 0:ie.keywords)!=null?te:[],Ae=P(fe,Ie);r.current.filtered.items.set(J,Ae),Ae>0&&re++}for(let[J,fe]of s.current)for(let Ie of fe)if(r.current.filtered.items.get(Ie)>0){r.current.filtered.groups.add(J);break}r.current.filtered.count=re}function z(){var N,G,ie;let te=B();te&&(((N=te.parentElement)==null?void 0:N.firstChild)===te&&((ie=(G=te.closest(ac))==null?void 0:G.querySelector(s5))==null||ie.scrollIntoView({block:"nearest"})),te.scrollIntoView({block:"nearest"}))}function B(){var N;return(N=C.current)==null?void 0:N.querySelector(`${Ux}[aria-selected="true"]`)}function Y(){var N;return Array.from((N=C.current)==null?void 0:N.querySelectorAll(qb))}function X(N){let G=Y()[N];G&&E.setState("value",G.getAttribute(xo))}function Q(N){var G;let ie=B(),te=Y(),re=te.findIndex(fe=>fe===ie),J=te[re+N];(G=a.current)!=null&&G.loop&&(J=re+N<0?te[te.length-1]:re+N===te.length?te[0]:te[re+N]),J&&E.setState("value",J.getAttribute(xo))}function D(N){let G=B(),ie=G==null?void 0:G.closest(ac),te;for(;ie&&!te;)ie=N>0?p5(ie,ac):m5(ie,ac),te=ie==null?void 0:ie.querySelector(qb);te?E.setState("value",te.getAttribute(xo)):Q(N)}let O=()=>X(Y().length-1),V=N=>{N.preventDefault(),N.metaKey?O():N.altKey?D(1):Q(1)},ee=N=>{N.preventDefault(),N.metaKey?X(0):N.altKey?D(-1):Q(-1)};return p.createElement(Rn.div,{ref:e,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:N=>{var G;if((G=x.onKeyDown)==null||G.call(x,N),!N.defaultPrevented)switch(N.key){case"n":case"j":{w&&N.ctrlKey&&V(N);break}case"ArrowDown":{V(N);break}case"p":case"k":{w&&N.ctrlKey&&ee(N);break}case"ArrowUp":{ee(N);break}case"Home":{N.preventDefault(),X(0);break}case"End":{N.preventDefault(),O();break}case"Enter":if(!N.nativeEvent.isComposing&&N.keyCode!==229){N.preventDefault();let ie=B();if(ie){let te=new Event(Ny);ie.dispatchEvent(te)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:v5},l),yp(t,N=>p.createElement(lk.Provider,{value:E},p.createElement(ak.Provider,{value:S},N))))}),o5=p.forwardRef((t,e)=>{var r,n;let s=p.useId(),i=p.useRef(null),o=p.useContext(ck),a=id(),l=dk(t),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;qo(()=>{if(!c)return a.item(s,o==null?void 0:o.id)},[c]);let u=hk(s,i,[t.value,t.children,i],t.keywords),d=Vx(),h=Zo(A=>A.value&&A.value===u.current),m=Zo(A=>c||a.filter()===!1?!0:A.search?A.filtered.items.get(s)>0:!0);p.useEffect(()=>{let A=i.current;if(!(!A||t.disabled))return A.addEventListener(Ny,y),()=>A.removeEventListener(Ny,y)},[m,t.onSelect,t.disabled]);function y(){var A,E;g(),(E=(A=l.current).onSelect)==null||E.call(A,u.current)}function g(){d.setState("value",u.current,!0)}if(!m)return null;let{disabled:w,value:x,onSelect:v,forceMount:b,keywords:_,...C}=t;return p.createElement(Rn.div,{ref:Pu([i,e]),...C,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||a.disablePointerSelection?void 0:g,onClick:w?void 0:y},t.children)}),a5=p.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...i}=t,o=p.useId(),a=p.useRef(null),l=p.useRef(null),c=p.useId(),u=id(),d=Zo(m=>s||u.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);qo(()=>u.group(o),[]),hk(o,a,[t.value,t.heading,l]);let h=p.useMemo(()=>({id:o,forceMount:s}),[s]);return p.createElement(Rn.div,{ref:Pu([a,e]),...i,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&p.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),yp(t,m=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},p.createElement(ck.Provider,{value:h},m))))}),l5=p.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=p.useRef(null),i=Zo(o=>!o.search);return!r&&!i?null:p.createElement(Rn.div,{ref:Pu([s,e]),...n,"cmdk-separator":"",role:"separator"})}),c5=p.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,i=Vx(),o=Zo(u=>u.search),a=Zo(u=>u.value),l=id(),c=p.useMemo(()=>{var u;let d=(u=l.listInnerRef.current)==null?void 0:u.querySelector(`${Ux}[${xo}="${encodeURIComponent(a)}"]`);return d==null?void 0:d.getAttribute("id")},[]);return p.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),p.createElement(Rn.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:s?t.value:o,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),u5=p.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,i=p.useRef(null),o=p.useRef(null),a=id();return p.useEffect(()=>{if(o.current&&i.current){let l=o.current,c=i.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let h=l.offsetHeight;c.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return d.observe(l),()=>{cancelAnimationFrame(u),d.unobserve(l)}}},[]),p.createElement(Rn.div,{ref:Pu([i,e]),...s,"cmdk-list":"",role:"listbox","aria-label":n,id:a.listId},yp(t,l=>p.createElement("div",{ref:Pu([o,a.listInnerRef]),"cmdk-list-sizer":""},l)))}),d5=p.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...a}=t;return p.createElement(e5,{open:r,onOpenChange:n},p.createElement(t5,{container:o},p.createElement(r5,{"cmdk-overlay":"",className:s}),p.createElement(n5,{"aria-label":t.label,"cmdk-dialog":"",className:i},p.createElement(uk,{ref:e,...a}))))}),h5=p.forwardRef((t,e)=>Zo(r=>r.filtered.count===0)?p.createElement(Rn.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),f5=p.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...i}=t;return p.createElement(Rn.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},yp(t,o=>p.createElement("div",{"aria-hidden":!0},o)))}),Xr=Object.assign(uk,{List:u5,Item:o5,Input:c5,Group:a5,Separator:l5,Dialog:d5,Empty:h5,Loading:f5});function p5(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function m5(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function dk(t){let e=p.useRef(t);return qo(()=>{e.current=t}),e}var qo=typeof window>"u"?p.useEffect:p.useLayoutEffect;function xa(t){let e=p.useRef();return e.current===void 0&&(e.current=t()),e}function Pu(t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}function Zo(t){let e=Vx(),r=()=>t(e.snapshot());return p.useSyncExternalStore(e.subscribe,r,r)}function hk(t,e,r,n=[]){let s=p.useRef(),i=id();return qo(()=>{var o;let a=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():s.current}})(),l=n.map(c=>c.trim());i.value(t,a,l),(o=e.current)==null||o.setAttribute(xo,a),s.current=a}),s}var g5=()=>{let[t,e]=p.useState(),r=xa(()=>new Map);return qo(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function y5(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function yp({asChild:t,children:e},r){return t&&p.isValidElement(e)?p.cloneElement(y5(e),{ref:e.ref},r(e.props.children)):r(e)}var v5={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function x5(t,e){const r=p.createContext(e),n=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return f.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function s(i){const o=p.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function w5(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=d=>{var x;const{scope:h,children:m,...y}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(d,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,b5(s,...e)]}function b5(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var fk="Dialog",[pk,tW]=w5(fk),[rW,Qn]=pk(fk),mk="DialogTrigger",_5=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Qn(mk,r),i=rt(e,s.triggerRef);return f.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gx(s.open),...n,ref:i,onClick:ke(t.onClick,s.onOpenToggle)})});_5.displayName=mk;var Wx="DialogPortal",[S5,gk]=pk(Wx,{forceMount:void 0}),yk=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Qn(Wx,e);return f.jsx(S5,{scope:e,forceMount:r,children:p.Children.map(n,o=>f.jsx(pn,{present:r||i.open,children:f.jsx(Yf,{asChild:!0,container:s,children:o})}))})};yk.displayName=Wx;var vf="DialogOverlay",vk=p.forwardRef((t,e)=>{const r=gk(vf,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Qn(vf,t.__scopeDialog);return i.modal?f.jsx(pn,{present:n||i.open,children:f.jsx(C5,{...s,ref:e})}):null});vk.displayName=vf;var C5=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Qn(vf,r);return f.jsx(lp,{as:Hs,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Be.div,{"data-state":Gx(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Qo="DialogContent",xk=p.forwardRef((t,e)=>{const r=gk(Qo,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Qn(Qo,t.__scopeDialog);return f.jsx(pn,{present:n||i.open,children:i.modal?f.jsx(E5,{...s,ref:e}):f.jsx(P5,{...s,ref:e})})});xk.displayName=Qo;var E5=p.forwardRef((t,e)=>{const r=Qn(Qo,t.__scopeDialog),n=p.useRef(null),s=rt(e,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return op(i)},[]),f.jsx(wk,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ke(t.onFocusOutside,i=>i.preventDefault())})}),P5=p.forwardRef((t,e)=>{const r=Qn(Qo,t.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return f.jsx(wk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wk=p.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Qn(Qo,r),l=p.useRef(null),c=rt(e,l);return Dx(),f.jsxs(f.Fragment,{children:[f.jsx(ip,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Gu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Gx(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(A5,{titleId:a.titleId}),f.jsx(T5,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Hx="DialogTitle",bk=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Qn(Hx,r);return f.jsx(Be.h2,{id:s.titleId,...n,ref:e})});bk.displayName=Hx;var _k="DialogDescription",Sk=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Qn(_k,r);return f.jsx(Be.p,{id:s.descriptionId,...n,ref:e})});Sk.displayName=_k;var Ck="DialogClose",Ek=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Qn(Ck,r);return f.jsx(Be.button,{type:"button",...n,ref:e,onClick:ke(t.onClick,()=>s.onOpenChange(!1))})});Ek.displayName=Ck;function Gx(t){return t?"open":"closed"}var Pk="DialogTitleWarning",[nW,Ak]=x5(Pk,{contentName:Qo,titleName:Hx,docsSlug:"dialog"}),A5=({titleId:t})=>{const e=Ak(Pk),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},k5="DialogDescriptionWarning",T5=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ak(k5).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},R5=yk,kk=vk,Tk=xk,Rk=bk,Mk=Sk,M5=Ek;const j5=R5,jk=p.forwardRef(({className:t,...e},r)=>f.jsx(kk,{ref:r,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));jk.displayName=kk.displayName;const N5=p.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(j5,{children:[f.jsx(jk,{}),f.jsxs(Tk,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,f.jsxs(M5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(g4,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));N5.displayName=Tk.displayName;const I5=p.forwardRef(({className:t,...e},r)=>f.jsx(Rk,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));I5.displayName=Rk.displayName;const O5=p.forwardRef(({className:t,...e},r)=>f.jsx(Mk,{ref:r,className:Ne("text-sm text-muted-foreground",t),...e}));O5.displayName=Mk.displayName;const Nk=p.forwardRef(({className:t,...e},r)=>f.jsx(Xr,{ref:r,className:Ne("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));Nk.displayName=Xr.displayName;const Ik=p.forwardRef(({className:t,...e},r)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(m4,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(Xr.Input,{ref:r,className:Ne("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));Ik.displayName=Xr.Input.displayName;const Ok=p.forwardRef(({className:t,...e},r)=>f.jsx(Xr.List,{ref:r,className:Ne("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));Ok.displayName=Xr.List.displayName;const Dk=p.forwardRef((t,e)=>f.jsx(Xr.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));Dk.displayName=Xr.Empty.displayName;const Lk=p.forwardRef(({className:t,...e},r)=>f.jsx(Xr.Group,{ref:r,className:Ne("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Lk.displayName=Xr.Group.displayName;const D5=p.forwardRef(({className:t,...e},r)=>f.jsx(Xr.Separator,{ref:r,className:Ne("-mx-1 h-px bg-border",t),...e}));D5.displayName=Xr.Separator.displayName;const Fk=p.forwardRef(({className:t,...e},r)=>f.jsx(Xr.Item,{ref:r,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Fk.displayName=Xr.Item.displayName;function L5(t,e=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const c=d=>{var x;const{scope:h,children:m,...y}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,w=p.useMemo(()=>y,Object.values(y));return f.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(d,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,F5(s,...e)]}function F5(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Yx="Popover",[$k,sW]=L5(Yx,[$l]),od=$l(),[$5,ao]=$k(Yx),Bk=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=od(e),l=p.useRef(null),[c,u]=p.useState(!1),[d=!1,h]=wl({prop:n,defaultProp:s,onChange:i});return f.jsx(gx,{...a,children:f.jsx($5,{scope:e,contentId:Dl(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:o,children:r})})};Bk.displayName=Yx;var zk="PopoverAnchor",B5=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=ao(zk,r),i=od(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return p.useEffect(()=>(o(),()=>a()),[o,a]),f.jsx(Gf,{...i,...n,ref:e})});B5.displayName=zk;var Uk="PopoverTrigger",Vk=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=ao(Uk,r),i=od(r),o=rt(e,s.triggerRef),a=f.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xk(s.open),...n,ref:o,onClick:ke(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:f.jsx(Gf,{asChild:!0,...i,children:a})});Vk.displayName=Uk;var Xx="PopoverPortal",[z5,U5]=$k(Xx,{forceMount:void 0}),Wk=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=ao(Xx,e);return f.jsx(z5,{scope:e,forceMount:r,children:f.jsx(pn,{present:r||i.open,children:f.jsx(Yf,{asChild:!0,container:s,children:n})})})};Wk.displayName=Xx;var Pl="PopoverContent",Hk=p.forwardRef((t,e)=>{const r=U5(Pl,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=ao(Pl,t.__scopePopover);return f.jsx(pn,{present:n||i.open,children:i.modal?f.jsx(V5,{...s,ref:e}):f.jsx(W5,{...s,ref:e})})});Hk.displayName=Pl;var V5=p.forwardRef((t,e)=>{const r=ao(Pl,t.__scopePopover),n=p.useRef(null),s=rt(e,n),i=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return op(o)},[]),f.jsx(lp,{as:Hs,allowPinchZoom:!0,children:f.jsx(Gk,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ke(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),W5=p.forwardRef((t,e)=>{const r=ao(Pl,t.__scopePopover),n=p.useRef(!1),s=p.useRef(!1);return f.jsx(Gk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Gk=p.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,h=ao(Pl,r),m=od(r);return Dx(),f.jsx(ip,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Gu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:f.jsx(yx,{"data-state":Xk(h.open),role:"dialog",id:h.contentId,...m,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Yk="PopoverClose",H5=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=ao(Yk,r);return f.jsx(Be.button,{type:"button",...n,ref:e,onClick:ke(t.onClick,()=>s.onOpenChange(!1))})});H5.displayName=Yk;var G5="PopoverArrow",Y5=p.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=od(r);return f.jsx(vx,{...s,...n,ref:e})});Y5.displayName=G5;function Xk(t){return t?"open":"closed"}var X5=Bk,K5=Vk,q5=Wk,Kk=Hk;const Z5=X5,Q5=K5,qk=p.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>f.jsx(q5,{children:f.jsx(Kk,{ref:s,align:e,sideOffset:r,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));qk.displayName=Kk.displayName;const Zk=p.forwardRef(({options:t,mode:e,...r},n)=>{var u;const[s,i]=p.useState(!1),o=r.value,a=d=>{r.onChange(d)},l=o?o.toString():null,c=t.map(d=>({label:d.name,value:d.id.toString()}));return f.jsx("div",{children:f.jsxs(Z5,{open:s,onOpenChange:i,children:[f.jsx(Q5,{asChild:!0,children:f.jsxs(tr,{variant:"outline",role:"combobox","aria-expanded":s,className:"w-[400px] justify-between",children:[l?(u=c.find(d=>d.value===l))==null?void 0:u.label:"Select model...",f.jsx(f4,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),f.jsx(qk,{className:"w-[400px] p-0",children:f.jsxs(Nk,{filter:(d,h,m)=>(d+" "+m.join(" ")).toLowerCase().includes(h.toLowerCase())?1:0,children:[f.jsx(Ik,{placeholder:`Select ${e} model`}),f.jsxs(Ok,{children:[f.jsxs(Dk,{children:["No trained ",e," model found."]}),f.jsx(Lk,{children:c.map(d=>f.jsxs(Fk,{value:d.value,keywords:[d.label],onSelect:h=>{a(h===l?null:parseInt(h)),i(!1)},children:[f.jsx(Ox,{className:Ne("mr-2 h-4 w-4",l===d.value?"opacity-100":"opacity-0")}),"[",d.value,"]: ",d.label]},d.value))})]})]})})]})})}),J5=be.object({name:be.string().min(1).max(1e3),prediction_name:be.string().min(1).max(1e3),video_folder_ids:be.array(be.any()).length(1,"Must select exactly one data folder"),weights_id:be.coerce.number().min(0,"Must select weights"),config:be.string(),runtime_id:be.coerce.number().min(0,"Must select a runtime")}),ez=()=>{const t=ro({resolver:so(J5),defaultValues:{name:"",prediction_name:"",video_folder_ids:[],weights_id:-1,config:"",runtime_id:-1}}),e=eo(),{data:r,isLoading:n}=Ku(),{data:s,isLoading:i}=qu(),{data:o,isLoading:a}=UE(),l=rF(),c=async h=>{console.log("Com Predict submission. VALUES BEFORE TRANSFORM=",h);const m={name:h.name,prediction_name:h.name,weights_id:h.weights_id,video_folder_id:h.video_folder_ids[0],runtime_id:h.runtime_id,config:h.config.length==0?"{}":h.config};console.log("Com Pred. sub. val post transform: ",m);const y=await l.mutateAsync(m);console.log("RETURNED DATA",y),e(yt.monitorJobs.path)};if(n||i||a)return f.jsx("div",{children:"Data still loading..."});const u=s.map(h=>({id:h.id,name:h.name,path:h.path})),d=o.filter(h=>h.mode=="COM").filter(h=>h.status=="COMPLETED").map(h=>({id:h.id,name:h.name}));return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Predict COM Data"}),f.jsx(no,{...t,children:f.jsxs("form",{onSubmit:t.handleSubmit(c),className:"space-y-8",children:[f.jsx(Ke,{control:t.control,name:"name",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Inference Job Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"E.g. Predict COM Rat",...h})}),f.jsx(et,{children:"This name will help you identify the job"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"prediction_name",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Prediction Data Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"predict01",...h})}),f.jsx(et,{children:"This name will help you identify the prediction data for this animal."}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"weights_id",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Select Trained COM Model (Weights)"}),f.jsx(He,{children:f.jsx(Zk,{options:d,mode:"COM",...h})}),f.jsx(et,{}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"video_folder_ids",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Select One Data Folder for COM Inference"}),f.jsx(He,{children:f.jsx(pp,{options:u,multiSelect:!1,...h})}),f.jsx(et,{children:"Each folder will use the most recent COM label files by default. Click on the folder name to get more info in a new tab."}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"config",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Additional config options (JSON)"}),f.jsx(He,{children:f.jsx(nd,{placeholder:`e.g. {
      "max_num_samples": 250
    }`,className:"min-h-[130px]",...h})}),f.jsx(et,{children:"Optional JSON arguments for the prediction job. Must be a properly formatted JSON string (or emtpy)"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"runtime_id",render:({field:h})=>{var y;const m=r;return f.jsxs(Ve,{children:[f.jsx(We,{children:"Runtime Configuration"}),f.jsxs(hp,{onValueChange:h.onChange,defaultValue:"",children:[f.jsx(He,{children:f.jsx(ed,{children:f.jsx(fp,{placeholder:"Select ",children:m?(y=m.find(g=>g.id==h.value))==null?void 0:y.name:null})})}),f.jsx(td,{children:m.map(g=>f.jsx(rd,{value:g.id,children:g.name},g.id))})]}),f.jsx(et,{children:"Select a SLURM runtime defined on the Runtimes page"}),f.jsx(Ge,{})]})}}),f.jsx(tr,{type:"submit",children:"Submit"})]})})]})};function tz(){const{data:t,isLoading:e}=YL();if(e)return f.jsx("div",{children:"Loading..."});const r=t||[];return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Predictions"}),f.jsxs(zi,{className:"mb-4",children:[f.jsx(Wo,{children:"Predictions from COM and DANNCE models. Click on name for more details."}),f.jsx(Ui,{children:f.jsxs(Wr,{children:[f.jsx(Ce,{className:"w-[20px]",children:"ID"}),f.jsx(Ce,{children:"Name"}),f.jsx(Ce,{children:"Mode"}),f.jsx(Ce,{children:"Status"}),f.jsx(Ce,{children:"Created At"}),f.jsx(Ce,{children:"Actions "})]})}),f.jsx(Vi,{children:r.map(n=>f.jsxs(Wr,{children:[f.jsx(Re,{className:"font-medium",children:n.prediction_id}),f.jsx(Re,{children:f.jsx(En,{to:yt.predictionDetailsPage.path.replace(/:id/,`${n.prediction_id}`),children:n.prediction_name})}),f.jsx(Re,{children:n.mode}),f.jsx(Re,{children:n.status}),f.jsx(Re,{children:cy(n.created_at)}),f.jsx(Re,{})]},n.prediction_id))})]})]})}const rz="modulepreload",nz=function(t,e){return new URL(t,e).href},Zb={},xf=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=nz(c,n),c in Zb)return;Zb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!n)for(let y=o.length-1;y>=0;y--){const g=o[y];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":rz,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((y,g)=>{m.addEventListener("load",y),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var we=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(we||{});const Iy=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Hd=(t,e)=>Iy(t).priority??e,jr={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Iy).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(Iy).forEach(e=>{e.type.forEach(r=>{var i,o;const n=this._addHandlers,s=this._queue;n[r]?(o=n[r])==null||o.call(n,e):(s[r]=s[r]||[],(i=s[r])==null||i.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,s[t]=r;const i=this._queue;return i[t]&&((o=i[t])==null||o.forEach(a=>e(a)),delete i[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(i=>i.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((i,o)=>Hd(o.value,r)-Hd(i.value,r)))},n=>{const s=e.findIndex(i=>i.name===n.name);s!==-1&&e.splice(s,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,i)=>Hd(i,r)-Hd(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})}},sz={extension:{type:we.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await xf(()=>import("./browserAll-CvgmFvPJ.js"),__vite__mapDeps([0,1,2]),import.meta.url)}},iz={extension:{type:we.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await xf(()=>import("./webworkerAll-DKiVqvdK.js"),__vite__mapDeps([1,2]),import.meta.url)}};class nn{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new nn(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var Qk={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,d||l,h),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,y=new Array(m);h<m;h++)y[h]=d[h].fn;return y},a.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,m,y){var g=r?r+c:c;if(!this._events[g])return!1;var w=this._events[g],x=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,h),!0;case 5:return w.fn.call(w.context,u,d,h,m),!0;case 6:return w.fn.call(w.context,u,d,h,m,y),!0}for(b=1,v=new Array(x-1);b<x;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var _=w.length,C;for(b=0;b<_;b++)switch(w[b].once&&this.removeListener(c,w[b].fn,void 0,!0),x){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,u);break;case 3:w[b].fn.call(w[b].context,u,d);break;case 4:w[b].fn.call(w[b].context,u,d,h);break;default:if(!v)for(C=1,v=new Array(x-1);C<x;C++)v[C-1]=arguments[C];w[b].fn.apply(w[b].context,v)}}return!0},a.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var m=r?r+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===u&&(!h||y.once)&&(!d||y.context===d)&&o(this,m);else{for(var g=0,w=[],x=y.length;g<x;g++)(y[g].fn!==u||h&&!y[g].once||d&&y[g].context!==d)&&w.push(y[g]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(Qk);var oz=Qk.exports;const Jn=$u(oz),az=Math.PI*2,lz=180/Math.PI,cz=Math.PI/180;class vr{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new vr(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Pm.x=0,Pm.y=0,Pm}}const Pm=new vr;class ot{constructor(e=1,r=0,n=0,s=1,i=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=i,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,i,o){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=i,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new vr;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new vr;const n=this.a,s=this.b,i=this.c,o=this.d,a=this.tx,l=this.ty,c=1/(n*o+i*-s),u=e.x,d=e.y;return r.x=o*c*u+-i*c*d+(l*i-a*o)*c,r.y=n*c*d+-s*c*u+(-l*n+a*s)*c,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,i=this.c,o=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=i*r-this.d*n,this.d=i*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,i=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*i,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*i,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}appendFrom(e,r){const n=e.a,s=e.b,i=e.c,o=e.d,a=e.tx,l=e.ty,c=r.a,u=r.b,d=r.c,h=r.d;return this.a=n*c+s*d,this.b=n*u+s*h,this.c=i*c+o*d,this.d=i*u+o*h,this.tx=a*c+l*d+r.tx,this.ty=a*u+l*h+r.ty,this}setTransform(e,r,n,s,i,o,a,l,c){return this.a=Math.cos(a+c)*i,this.b=Math.sin(a+c)*i,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,i=this.d,o=e.pivot,a=-Math.atan2(-s,i),l=Math.atan2(n,r),c=Math.abs(a+l);return c<1e-5||Math.abs(az-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+i*i),e.position.x=this.tx+(o.x*r+o.y*s),e.position.y=this.ty+(o.x*n+o.y*i),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,i=this.tx,o=e*s-r*n;return this.a=s/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-s*i)/o,this.ty=-(e*this.ty-r*i)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ot;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return dz.identity()}static get shared(){return uz.identity()}}const uz=new ot,dz=new ot,po=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],mo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],go=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],yo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Oy=[],Jk=[],Gd=Math.sign;function hz(){for(let t=0;t<16;t++){const e=[];Oy.push(e);for(let r=0;r<16;r++){const n=Gd(po[t]*po[r]+go[t]*mo[r]),s=Gd(mo[t]*po[r]+yo[t]*mo[r]),i=Gd(po[t]*go[r]+go[t]*yo[r]),o=Gd(mo[t]*go[r]+yo[t]*yo[r]);for(let a=0;a<16;a++)if(po[a]===n&&mo[a]===s&&go[a]===i&&yo[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new ot;e.set(po[t],mo[t],go[t],yo[t],0,0),Jk.push(e)}}hz();const At={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>po[t],uY:t=>mo[t],vX:t=>go[t],vY:t=>yo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Oy[t][e],sub:(t,e)=>Oy[t][At.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?At.S:At.N:Math.abs(e)*2<=Math.abs(t)?t>0?At.E:At.W:e>0?t>0?At.SE:At.SW:t>0?At.NE:At.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=Jk[At.inv(e)];s.tx=r,s.ty=n,t.append(s)}},Yd=[new vr,new vr,new vr,new vr];class Jt{constructor(e=0,r=0,n=0,s=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Jt(0,0,0,0)}clone(){return new Jt(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n){const{width:s,height:i}=this;if(s<=0||i<=0)return!1;const o=this.x,a=this.y,l=o-n/2,c=o+s+n/2,u=a-n/2,d=a+i+n/2,h=o+n/2,m=o+s-n/2,y=a+n/2,g=a+i-n/2;return e>=l&&e<=c&&r>=u&&r<=d&&!(e>h&&e<m&&r>y&&r<g)}intersects(e,r){if(!r){const S=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=S)return!1;const T=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>T}const n=this.left,s=this.right,i=this.top,o=this.bottom;if(s<=n||o<=i)return!1;const a=Yd[0].set(e.left,e.top),l=Yd[1].set(e.left,e.bottom),c=Yd[2].set(e.right,e.top),u=Yd[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const d=Math.sign(r.a*r.d-r.b*r.c);if(d===0||(r.apply(a,a),r.apply(l,l),r.apply(c,c),r.apply(u,u),Math.max(a.x,l.x,c.x,u.x)<=n||Math.min(a.x,l.x,c.x,u.x)>=s||Math.max(a.y,l.y,c.y,u.y)<=i||Math.min(a.y,l.y,c.y,u.y)>=o))return!1;const h=d*(l.y-a.y),m=d*(a.x-l.x),y=h*n+m*i,g=h*s+m*i,w=h*n+m*o,x=h*s+m*o;if(Math.max(y,g,w,x)<=h*a.x+m*a.y||Math.min(y,g,w,x)>=h*u.x+m*u.y)return!1;const v=d*(a.y-c.y),b=d*(c.x-a.x),_=v*n+b*i,C=v*s+b*i,A=v*n+b*o,E=v*s+b*o;return!(Math.max(_,C,A,E)<=v*a.x+b*a.y||Math.min(_,C,A,E)>=v*u.x+b*u.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(i-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=i-s,this}getBounds(e){return e=e||new Jt,e.copyFrom(this),e}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Am={default:-1};function er(t="default"){return Am[t]===void 0&&(Am[t]=-1),++Am[t]}const Qb={},mt="8.0.0",fz="8.3.4";function ht(t,e,r=3){if(Qb[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Qb[e]=!0}const eT=()=>{};function Jb(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function e_(t){return!(t&t-1)&&!!t}function pz(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const t_=Object.create(null);function mz(t){const e=t_[t];return e===void 0&&(t_[t]=er("resource")),e}const tT=class rT extends Jn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...rT.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){ht(mt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=mz(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};tT.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let gz=tT;const nT=class sT extends Jn{constructor(e={}){super(),this.options=e,this.uid=er("textureSource"),this._resourceType="textureSource",this._resourceId=er("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...sT.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new gz(pz(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var r,n;this.style!==e&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=e,(n=this._style)==null||n.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=er("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n=n||this._resolution,e=e||this.width,r=r||this.height;const s=Math.round(e*n),i=Math.round(r*n);return this.width=s/n,this.height=i/n,this._resolution=n,this.pixelWidth===s&&this.pixelHeight===i?!1:(this._refreshPOT(),this.pixelWidth=s,this.pixelHeight=i,this.emit("resize",this),this._resourceId=er("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=e_(this.pixelWidth)&&e_(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};nT.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let ti=nT;class Kx extends ti{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Kx.extension=we.TextureSource;const r_=new ot;class yz{constructor(e,r){this.mapCoord=new ot,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var r;this.texture!==e&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const i=e[s],o=e[s+1];r[s]=i*n.a+o*n.c+n.tx,r[s+1]=i*n.b+o*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,s=e.trim;s&&(r_.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(r_));const i=e.source,o=this.uClampFrame,a=this.clampMargin/i._resolution,l=this.clampOffset/i._resolution;return o[0]=(e.frame.x+a+l)/i.width,o[1]=(e.frame.y+a+l)/i.height,o[2]=(e.frame.x+e.frame.width-a+l)/i.width,o[3]=(e.frame.y+e.frame.height-a+l)/i.height,this.uClampOffset[0]=this.clampOffset/i.pixelWidth,this.uClampOffset[1]=this.clampOffset/i.pixelHeight,this.isSimple=e.frame.width===i.width&&e.frame.height===i.height&&e.rotate===0,!0}}class nt extends Jn{constructor({source:e,label:r,frame:n,orig:s,trim:i,defaultAnchor:o,defaultBorders:a,rotate:l,dynamic:c}={}){if(super(),this.uid=er("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Jt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(e==null?void 0:e.source)??new ti,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:u,height:d}=this._source;this.frame.width=u,this.frame.height=d}this.orig=s||this.frame,this.trim=i,this.rotate=l??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=c||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new yz(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:s}=this._source,i=r.x/n,o=r.y/s,a=r.width/n,l=r.height/s;let c=this.rotate;if(c){const u=a/2,d=l/2,h=i+u,m=o+d;c=At.add(c,At.NW),e.x0=h+u*At.uX(c),e.y0=m+d*At.uY(c),c=At.add(c,2),e.x1=h+u*At.uX(c),e.y1=m+d*At.uY(c),c=At.add(c,2),e.x2=h+u*At.uX(c),e.y2=m+d*At.uY(c),c=At.add(c,2),e.x3=h+u*At.uX(c),e.y3=m+d*At.uY(c)}else e.x0=i,e.y0=o,e.x1=i+a,e.y1=o,e.x2=i+a,e.y2=o+l,e.x3=i,e.y3=o+l}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return ht(mt,"Texture.baseTexture is now Texture.source"),this._source}}nt.EMPTY=new nt({label:"EMPTY",source:new ti({label:"EMPTY"})});nt.EMPTY.destroy=eT;nt.WHITE=new nt({source:new Kx({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});nt.WHITE.destroy=eT;function vz(t,e,r,n){const{width:s,height:i}=r.orig,o=r.trim;if(o){const a=o.width,l=o.height;t.minX=o.x-e._x*s-n,t.maxX=t.minX+a,t.minY=o.y-e._y*i-n,t.maxY=t.minY+l}else t.minX=-e._x*s-n,t.maxX=t.minX+s,t.minY=-e._y*i-n,t.maxY=t.minY+i}const n_=new ot;class xs{constructor(e=1/0,r=1/0,n=-1/0,s=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=n_,this.minX=e,this.minY=r,this.maxX=n,this.maxY=s}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Jt);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=n_,this}set(e,r,n,s){this.minX=e,this.minY=r,this.maxX=n,this.maxY=s}addFrame(e,r,n,s,i){i||(i=this.matrix);const o=i.a,a=i.b,l=i.c,c=i.d,u=i.tx,d=i.ty;let h=this.minX,m=this.minY,y=this.maxX,g=this.maxY,w=o*e+l*r+u,x=a*e+c*r+d;w<h&&(h=w),x<m&&(m=x),w>y&&(y=w),x>g&&(g=x),w=o*n+l*r+u,x=a*n+c*r+d,w<h&&(h=w),x<m&&(m=x),w>y&&(y=w),x>g&&(g=x),w=o*e+l*s+u,x=a*e+c*s+d,w<h&&(h=w),x<m&&(m=x),w>y&&(y=w),x>g&&(g=x),w=o*n+l*s+u,x=a*n+c*s+d,w<h&&(h=w),x<m&&(m=x),w>y&&(y=w),x>g&&(g=x),this.minX=h,this.minY=m,this.maxX=y,this.maxY=g}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,s=this.maxX,i=this.maxY,{a:o,b:a,c:l,d:c,tx:u,ty:d}=e;let h=o*r+l*n+u,m=a*r+c*n+d;this.minX=h,this.minY=m,this.maxX=h,this.maxY=m,h=o*s+l*n+u,m=a*s+c*n+d,this.minX=h<this.minX?h:this.minX,this.minY=m<this.minY?m:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=m>this.maxY?m:this.maxY,h=o*r+l*i+u,m=a*r+c*i+d,this.minX=h<this.minX?h:this.minX,this.minY=m<this.minY?m:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=m>this.maxY?m:this.maxY,h=o*s+l*i+u,m=a*s+c*i+d,this.minX=h<this.minX?h:this.minX,this.minY=m<this.minY?m:this.minY,this.maxX=h>this.maxX?h:this.maxX,this.maxY=m>this.maxY?m:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,s){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>s&&(this.maxY=s),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new xs(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,s){let i=this.minX,o=this.minY,a=this.maxX,l=this.maxY;s||(s=this.matrix);const c=s.a,u=s.b,d=s.c,h=s.d,m=s.tx,y=s.ty;for(let g=r;g<n;g+=2){const w=e[g],x=e[g+1],v=c*w+d*x+m,b=u*w+h*x+y;i=v<i?v:i,o=b<o?b:o,a=v>a?v:a,l=b>l?b:l}this.minX=i,this.minY=o,this.maxX=a,this.maxY=l}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}var xz={grad:.9,turn:360,rad:360/(2*Math.PI)},As=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},or=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Sn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},iT=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},s_=function(t){return{r:Sn(t.r,0,255),g:Sn(t.g,0,255),b:Sn(t.b,0,255),a:Sn(t.a)}},km=function(t){return{r:or(t.r),g:or(t.g),b:or(t.b),a:or(t.a,3)}},wz=/^#([0-9a-f]{3,8})$/i,Xd=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},oT=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,i=Math.max(e,r,n),o=i-Math.min(e,r,n),a=o?i===e?(r-n)/o:i===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:i?o/i*100:0,v:i/255*100,a:s}},aT=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var i=Math.floor(e),o=n*(1-r),a=n*(1-(e-i)*r),l=n*(1-(1-e+i)*r),c=i%6;return{r:255*[n,a,o,o,l,n][c],g:255*[l,n,n,a,o,o][c],b:255*[o,o,l,n,n,a][c],a:s}},i_=function(t){return{h:iT(t.h),s:Sn(t.s,0,100),l:Sn(t.l,0,100),a:Sn(t.a)}},o_=function(t){return{h:or(t.h),s:or(t.s),l:or(t.l),a:or(t.a,3)}},a_=function(t){return aT((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},$c=function(t){return{h:(e=oT(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},bz=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_z=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sz=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cz=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dy={string:[[function(t){var e=wz.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?or(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?or(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Sz.exec(t)||Cz.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:s_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=bz.exec(t)||_z.exec(t);if(!e)return null;var r,n,s=i_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(xz[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return a_(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,i=s===void 0?1:s;return As(e)&&As(r)&&As(n)?s_({r:Number(e),g:Number(r),b:Number(n),a:Number(i)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,i=s===void 0?1:s;if(!As(e)||!As(r)||!As(n))return null;var o=i_({h:Number(e),s:Number(r),l:Number(n),a:Number(i)});return a_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,i=s===void 0?1:s;if(!As(e)||!As(r)||!As(n))return null;var o=function(a){return{h:iT(a.h),s:Sn(a.s,0,100),v:Sn(a.v,0,100),a:Sn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(i)});return aT(o)},"hsv"]]},l_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Ez=function(t){return typeof t=="string"?l_(t.trim(),Dy.string):typeof t=="object"&&t!==null?l_(t,Dy.object):[null,void 0]},Tm=function(t,e){var r=$c(t);return{h:r.h,s:Sn(r.s+100*e,0,100),l:r.l,a:r.a}},Rm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},c_=function(t,e){var r=$c(t);return{h:r.h,s:r.s,l:Sn(r.l+100*e,0,100),a:r.a}},Ly=function(){function t(e){this.parsed=Ez(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return or(Rm(this.rgba),2)},t.prototype.isDark=function(){return Rm(this.rgba)<.5},t.prototype.isLight=function(){return Rm(this.rgba)>=.5},t.prototype.toHex=function(){return e=km(this.rgba),r=e.r,n=e.g,s=e.b,o=(i=e.a)<1?Xd(or(255*i)):"","#"+Xd(r)+Xd(n)+Xd(s)+o;var e,r,n,s,i,o},t.prototype.toRgb=function(){return km(this.rgba)},t.prototype.toRgbString=function(){return e=km(this.rgba),r=e.r,n=e.g,s=e.b,(i=e.a)<1?"rgba("+r+", "+n+", "+s+", "+i+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,i},t.prototype.toHsl=function(){return o_($c(this.rgba))},t.prototype.toHslString=function(){return e=o_($c(this.rgba)),r=e.h,n=e.s,s=e.l,(i=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+i+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,i},t.prototype.toHsv=function(){return e=oT(this.rgba),{h:or(e.h),s:or(e.s),v:or(e.v),a:or(e.a,3)};var e},t.prototype.invert=function(){return ns({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ns(Tm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ns(Tm(this.rgba,-e))},t.prototype.grayscale=function(){return ns(Tm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ns(c_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ns(c_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ns({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):or(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=$c(this.rgba);return typeof e=="number"?ns({h:e,s:r.s,l:r.l,a:r.a}):or(r.h)},t.prototype.isEqual=function(e){return this.toHex()===ns(e).toHex()},t}(),ns=function(t){return t instanceof Ly?t:new Ly(t)},u_=[],Pz=function(t){t.forEach(function(e){u_.indexOf(e)<0&&(e(Ly,Dy),u_.push(e))})};function Az(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var i={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=n[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),d=1/0,h="black";if(!i.length)for(var m in r)i[m]=new t(r[m]).toRgb();for(var y in r){var g=(a=u,l=i[y],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));g<d&&(d=g,h=y)}return h}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}Pz([Az]);const Al=class bc{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof bc)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,o)=>i===r[o]);if(e!==null&&r!==null){const i=Object.keys(e),o=Object.keys(r);return i.length!==o.length?!1:i.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,s]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb,e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e=e||this._arrayRgba;const[r,n,s,i]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=i,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e=e||this._arrayRgb;const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,i]=bc._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=i,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,i=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,i=i*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+i}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,s,i;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,s=(o&255)/255,i=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,i=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,i=255]=e,r/=255,n/=255,s/=255,i/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=bc.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=ns(e);o.isValid()&&({r,g:n,b:s,a:i}=o.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=i,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,i)=>{e[i]=Math.min(Math.max(s,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof bc||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Al.shared=new Al;Al._temp=new Al;Al.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Gt=Al;const kz={cullArea:null,cullable:!1,cullableChildren:!0};class qx{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var n;let r;return this._index>0?r=this._pool[--this._index]:r=new this._classType,(n=r.init)==null||n.call(r,e),r}return(e){var r;(r=e.reset)==null||r.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class Tz{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new qx(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}}const Fs=new Tz;function Rz(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const i=n-r;for(s=e;s<i;++s)t[s]=t[s+r];t.length=i}const Mz={allowChildren:!0,removeChildren(t=0,e){const r=e??this.children.length,n=r-t,s=[];if(n>0&&n<=r){for(let o=r-1;o>=t;o--){const a=this.children[o];a&&(s.push(a),a.parent=null)}Rz(this.children,t,r);const i=this.renderGroup||this.parentRenderGroup;i&&i.removeChildren(s);for(let o=0;o<s.length;++o)this.emit("childRemoved",s[o],this,o),s[o].emit("removed",this);return s}else if(n===0&&this.children.length===0)return s;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||ht(mt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const s=t.parent.children.indexOf(t);if(t.parent===this&&s===e)return t;s!==-1&&t.parent.children.splice(s,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t;const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const r=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const n=this.worldTransform.clone();return n.invert(),r.prepend(n),t.setFromMatrix(r),t}};class d_{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class jz{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return Fs.get(n.maskClass,e)}return e}returnMaskEffect(e){Fs.return(e)}}const Fy=new jz;jr.handleByList(we.MaskEffect,Fy._effectClasses);const Nz={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],addEffect(t){if(this.effects.indexOf(t)!==-1)return;this.effects.push(t),this.effects.sort((n,s)=>n.priority-s.priority);const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._updateIsSimple()},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),Fy.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=Fy.getMaskEffect(t),this.addEffect(this._maskEffect)))},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask)},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},set filters(t){var i;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new d_);t=t;const r=(t==null?void 0:t.length)>0,n=((i=e.filters)==null?void 0:i.length)>0,s=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),s&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new d_),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},Iz={label:null,get name(){return ht(mt,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){ht(mt,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const s=r[n];if(s.label===t||t instanceof RegExp&&t.test(s.label))return s}if(e)for(let n=0;n<r.length;n++){const i=r[n].getChildByLabel(t,!0);if(i)return i}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let s=0;s<n.length;s++){const i=n[s];(i.label===t||t instanceof RegExp&&t.test(i.label))&&r.push(i)}if(e)for(let s=0;s<n.length;s++)n[s].getChildrenByLabel(t,!0,r);return r}},$s=new qx(ot),kl=new qx(xs);function lT(t,e,r){r.clear();let n,s;return t.parent?e?n=t.parent.worldTransform:(s=$s.get().identity(),n=wf(t,s)):n=ot.IDENTITY,cT(t,r,n,e),s&&$s.return(s),r.isValid||r.set(0,0,0,0),r}function cT(t,e,r,n){var a,l;if(!t.visible||!t.measurable)return;let s;n?s=t.worldTransform:(t.updateLocalTransform(),s=$s.get(),s.appendFrom(t.localTransform,r));const i=e,o=!!t.effects.length;if(o&&(e=kl.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.addBounds&&(e.matrix=s,t.addBounds(e));for(let c=0;c<t.children.length;c++)cT(t.children[c],e,s,n)}if(o){for(let c=0;c<t.effects.length;c++)(l=(a=t.effects[c]).addBounds)==null||l.call(a,e);i.addBounds(e,ot.IDENTITY),kl.return(e)}n||$s.return(s)}function wf(t,e){const r=t.parent;return r&&(wf(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}let Mm=0;const h_=500;function Yt(...t){Mm!==h_&&(Mm++,Mm===h_?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}function uT(t,e,r){return e.clear(),r||(r=ot.IDENTITY),dT(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function dT(t,e,r,n,s){var l,c;let i;if(s)i=$s.get(),i=r.copyTo(i);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const u=t.localTransform;i=$s.get(),i.appendFrom(u,r)}const o=e,a=!!t.effects.length;if(a&&(e=kl.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.renderPipeId&&(e.matrix=i,t.addBounds(e));const u=t.children;for(let d=0;d<u.length;d++)dT(u[d],e,i,n,!1)}if(a){for(let u=0;u<t.effects.length;u++)(c=(l=t.effects[u]).addLocalBounds)==null||c.call(l,e,n);o.addBounds(e,ot.IDENTITY),kl.return(e)}$s.return(i)}function hT(t,e){const r=t.children;for(let n=0;n<r.length;n++){const s=r[n],i=s.uid,o=(s._didViewChangeTick&65535)<<16|s._didContainerChangeTick&65535,a=e.index;(e.data[a]!==i||e.data[a+1]!==o)&&(e.data[e.index]=i,e.data[e.index+1]=o,e.didChange=!0),e.index=a+2,s.children.length&&hT(s,e)}return e.didChange}const Oz=new ot,Dz={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new xs});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),hT(this,t),t.didChange&&uT(this,t.localBounds,Oz),t.localBounds},getBounds(t,e){return lT(this,t,e||new xs)}},Lz={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},Fz={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort($z))}};function $z(t,e){return t._zIndex-e._zIndex}const Bz={getGlobalPosition(t=new vr,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){if(!r){this.updateLocalTransform();const n=wf(this,new ot);return n.append(this.localTransform),n.apply(t,e)}return this.worldTransform.apply(t,e)},toLocal(t,e,r,n){if(e&&(t=e.toGlobal(t,r,n)),!n){this.updateLocalTransform();const s=wf(this,new ot);return s.append(this.localTransform),s.applyInverse(t,r)}return this.worldTransform.applyInverse(t,r)}};let zz=0;class fT{constructor(){this.uid=er("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.tick=0}reset(){this.instructionSize=0,this.tick=zz++}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class Uz{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new ot,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new fT,this._onRenderContainers=[]}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const r=this.childrenToUpdate[e];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender()}destroy(){this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let s=0;s<n.length;s++)this._getChildren(n[s],r);return r}}function Vz(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const jm=new nn(null),Nm=new nn(null),Im=new nn(null,1,1),f_=1,Wz=2,Om=4;class br extends Jn{constructor(e={}){var r,n;super(),this.uid=er("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new ot,this.relativeGroupTransform=new ot,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new nn(this,0,0),this._scale=Im,this._pivot=Nm,this._skew=jm,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Vz(this,e,{children:!0,parent:!0,effects:!0}),(r=e.children)==null||r.forEach(s=>this.addChild(s)),(n=e.parent)==null||n.addChild(this)}static mixin(e){Object.defineProperties(br.prototype,Object.getOwnPropertyDescriptors(e))}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||ht(mt,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let s=0;s<e.length;s++)this.addChild(e[s]);return e[0]}const r=e[0];if(r.parent===this)return this.children.splice(this.children.indexOf(r),1),this.children.push(r),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),r;r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r}removeChild(...e){if(e.length>1){for(let s=0;s<e.length;s++)this.removeChild(e[s]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=Fs.get(Uz,this),this.groupTransform=ot.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),Fs.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new ot),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*lz}set angle(e){this.rotation=e*cz}get pivot(){return this._pivot===Nm&&(this._pivot=new nn(this,0,0)),this._pivot}set pivot(e){this._pivot===Nm&&(this._pivot=new nn(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===jm&&(this._skew=new nn(this,0,0)),this._skew}set skew(e){this._skew===jm&&(this._skew=new nn(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Im&&(this._scale=new nn(this,1,1)),this._scale}set scale(e){this._scale===Im&&(this._scale=new nn(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,n.width),r!==void 0&&this._setHeight(r,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const r=this.localTransform,n=this._scale,s=this._pivot,i=this._position,o=n._x,a=n._y,l=s._x,c=s._y;r.a=this._cx*o,r.b=this._sx*o,r.c=this._cy*a,r.d=this._sy*a,r.tx=i._x-(l*r.a+c*r.c),r.ty=i._y-(l*r.b+c*r.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=f_,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=Gt.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=f_,this._onUpdate())}get tint(){const e=this.localColor;return((e&255)<<16)+(e&65280)+(e>>16&255)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Wz,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Om,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Om,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=Om,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var s;if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&r)for(let i=0;i<r.length;++i)r[i].destroy(e);(s=this.renderGroup)==null||s.destroy(),this.renderGroup=null}}br.mixin(Mz);br.mixin(Bz);br.mixin(Lz);br.mixin(Dz);br.mixin(Nz);br.mixin(Iz);br.mixin(Fz);br.mixin(kz);class pT extends br{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=0,this._lastInstructionTick=-1,this._bounds=new xs(0,1,0,0),this._boundsDirty=!0}_updateBounds(){}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const r=this.bounds,{x:n,y:s}=e;return n>=r.minX&&n<=r.maxX&&s>=r.minY&&s<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null}}class Jo extends pT{constructor(e=nt.EMPTY){e instanceof nt&&(e={texture:e});const{texture:r=nt.EMPTY,anchor:n,roundPixels:s,width:i,height:o,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBoundsDirty=!0,this._anchor=new nn({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=s??!1,i!==void 0&&(this.width=i),o!==void 0&&(this.height=o)}static from(e,r=!1){return e instanceof nt?new Jo(e):new Jo(nt.from(e,r))}set texture(e){e||(e=nt.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(e){const r=this.sourceBounds;return e.x>=r.maxX&&e.x<=r.minX&&e.y>=r.maxY&&e.y<=r.minY}addBounds(e){const r=this._texture.trim?this.sourceBounds:this.bounds;e.addFrame(r.minX,r.minY,r.maxX,r.maxY)}onViewUpdate(){this._sourceBoundsDirty=this._boundsDirty=!0,super.onViewUpdate()}_updateBounds(){vz(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const e=this._anchor,r=this._texture,n=this._sourceBounds,{width:s,height:i}=r.orig;n.maxX=-e._x*s,n.minX=n.maxX+s,n.maxY=-e._y*i,n.minY=n.maxY+i}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const Hz=new xs;function mT(t,e,r){const n=Hz;t.measurable=!0,lT(t,r,n),e.addBoundsMask(n),t.measurable=!1}function gT(t,e,r){const n=kl.get();t.measurable=!0;const s=$s.get().identity(),i=yT(t,r,s);uT(t,n,i),t.measurable=!1,e.addBoundsMask(n),$s.return(s),kl.return(n)}function yT(t,e,r){return t?(t!==e&&(yT(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(Yt("Mask bounds, renderable is not inside the root container"),r)}class vT{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Jo),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,r){this.inverse||mT(this.mask,e,r)}addLocalBounds(e,r){gT(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof Jo}}vT.extension=we.MaskEffect;class xT{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}xT.extension=we.MaskEffect;class wT{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,r){mT(this.mask,e,r)}addLocalBounds(e,r){gT(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof br}}wT.extension=we.MaskEffect;const Gz={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let p_=Gz;const zt={get(){return p_},set(t){p_=t}};class bT extends ti{constructor(e){e.resource||(e.resource=zt.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity;const r=e.resource;(this.pixelWidth!==r.width||this.pixelWidth!==r.height)&&this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const s=super.resize(e,r,n);return s&&this.resizeCanvas(),s}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}bT.extension=we.TextureSource;class zl extends ti{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const r=zt.get().createCanvas(e.resource.width,e.resource.height);r.getContext("2d").drawImage(e.resource,0,0,e.resource.width,e.resource.height),e.resource=r,Yt("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}zl.extension=we.TextureSource;var $y=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))($y||{});class Dm{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=s}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const _T=class Qr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Dm(null,null,1/0),this.deltaMS=1/Qr.targetFPMS,this.elapsedMS=1/Qr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=$y.NORMAL){return this._addListener(new Dm(e,r,n))}addOnce(e,r,n=$y.NORMAL){return this._addListener(new Dm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Qr.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Qr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Qr._shared){const e=Qr._shared=new Qr;e.autoStart=!0,e._protected=!0}return Qr._shared}static get system(){if(!Qr._system){const e=Qr._system=new Qr;e.autoStart=!0,e._protected=!0}return Qr._system}};_T.targetFPMS=.06;let Kd=_T,Lm;async function ST(){return Lm??(Lm=(async()=>{var o;const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(s),e.deleteTexture(n),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),i[0]<=i[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Lm}const vp=class CT extends ti{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...CT.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Kd.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await ST(),this._load=new Promise((n,s)=>{this.isValid?n(this):(this._resolve=n,this._reject=s,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Kd.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Kd.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Kd.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};vp.extension=we.TextureSource;vp.defaultOptions={...ti.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};vp.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let wh=vp;const Un=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class Yz{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||Yt(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Un(e);let s;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){s=c.getCacheableAssets(n,r);break}}const i=new Map(Object.entries(s||{}));s||n.forEach(l=>{i.set(l,r)});const o=[...i.keys()],a={cacheKeys:o,keys:n};n.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{const c=s?s[l]:r;this._cache.has(l)&&this._cache.get(l)!==c&&Yt("[Cache] already has key:",l),this._cache.set(l,i.get(l))})}remove(e){if(!this._cacheMap.has(e)){Yt(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(s=>{this._cache.delete(s)}),r.keys.forEach(s=>{this._cacheMap.delete(s)})}get parsers(){return this._parsers}}const $t=new Yz,By=[];jr.handleByList(we.TextureSource,By);function ET(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let s=0;s<By.length;s++){const i=By[s];if(i.test(r))return new i(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function Xz(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,s=r?t:{resource:t};if(!e&&$t.has(n))return $t.get(n);const i=new nt({source:ET(s)});return i.on("destroy",()=>{$t.has(n)&&$t.remove(n)}),e||$t.set(n,i),i}function Kz(t,e=!1){return typeof t=="string"?$t.get(t):t instanceof ti?new nt({source:t}):Xz(t,e)}nt.from=Kz;ti.from=ET;jr.add(vT,xT,wT,wh,zl,bT,Kx);var lo=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(lo||{});function Nn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function lc(t){return t.split("?")[0].split("#")[0]}function qz(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zz(t,e,r){return t.replace(new RegExp(qz(e),"g"),r)}function Qz(t,e){let r="",n=0,s=-1,i=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),s=a,i=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=a,i=0;continue}}}else r.length>0?r+=`/${t.slice(s+1,a)}`:r=t.slice(s+1,a),n=a-s-1;s=a,i=0}else o===46&&i!==-1?++i:i=-1}return r}const un={toPosix(t){return Zz(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Nn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Nn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=lc(this.toPosix(e??zt.get().getBaseUrl())),s=lc(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?un.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Nn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Qz(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Nn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Nn(n),n.length>0)if(e===void 0)e=n;else{const s=t[r-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Nn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const i=this.getProtocol(t),o=t;t=t.slice(i.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!s){n=a;break}}else s=!1;return n===-1?r?"/":this.isUrl(o)?i+t:i:r&&n===1?"//":i+t.slice(0,n)},rootname(t){Nn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Nn(t),e&&Nn(e),t=lc(this.toPosix(t));let r=0,n=-1,s=!0,i;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(i=t.length-1;i>=0;--i){const l=t.charCodeAt(i);if(l===47){if(!s){r=i+1;break}}else a===-1&&(s=!1,a=i+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=i):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(i=t.length-1;i>=0;--i)if(t.charCodeAt(i)===47){if(!s){r=i+1;break}}else n===-1&&(s=!1,n=i+1);return n===-1?"":t.slice(r,n)},extname(t){Nn(t),t=lc(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,i=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),a===46?e===-1?e=o:i!==1&&(i=1):e!==-1&&(i=-1)}return e===-1||n===-1||i===0||i===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Nn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=lc(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let i=-1,o=0,a=-1,l=!0,c=t.length-1,u=0;for(;c>=s;--c){if(r=t.charCodeAt(c),r===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===46?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}return i===-1||a===-1||u===0||u===1&&i===a-1&&i===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,i),e.base=t.slice(1,a)):(e.name=t.slice(o,i),e.base=t.slice(o,a)),e.ext=t.slice(i,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function PT(t,e,r,n,s){const i=e[r];for(let o=0;o<i.length;o++){const a=i[o];r<e.length-1?PT(t.replace(n[r],a),e,r+1,n,s):s.push(t.replace(n[r],a))}}function Jz(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(i=>{const o=i.substring(1,i.length-1).split(",");s.push(o)}),PT(t,s,0,r,n)}else n.push(t);return n}const bf=t=>!Array.isArray(t);class Ul{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return Un(r||n,i=>typeof i=="string"?i:Array.isArray(i)?i.map(o=>(o==null?void 0:o.src)??o):i!=null&&i.src?i.src:i,!0)}addManifest(e){this._manifest&&Yt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let s=r;Array.isArray(r)||(s=Object.entries(r).map(([i,o])=>typeof o=="string"||Array.isArray(o)?{alias:i,src:o}:{alias:i,...o})),s.forEach(i=>{const o=i.src,a=i.alias;let l;if(typeof a=="string"){const c=this._createBundleAssetId(e,a);n.push(c),l=[a,c]}else{const c=a.map(u=>this._createBundleAssetId(e,u));n.push(...c),l=[...a,...c]}this.add({...i,alias:l,src:o})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=i=>{this.hasKey(i)&&Yt(`[Resolver] already has key: ${i} overwriting`)},Un(r).forEach(i=>{const{src:o}=i;let{data:a,format:l,loadParser:c}=i;const u=Un(o).map(m=>typeof m=="string"?Jz(m):Array.isArray(m)?m:[m]),d=this.getAlias(i);Array.isArray(d)?d.forEach(n):n(d);const h=[];u.forEach(m=>{m.forEach(y=>{let g={};if(typeof y!="object"){g.src=y;for(let w=0;w<this._parsers.length;w++){const x=this._parsers[w];if(x.test(y)){g=x.parse(y);break}}}else a=y.data??a,l=y.format??l,c=y.loadParser??c,g={...g,...y};if(!d)throw new Error(`[Resolver] alias is undefined for this asset: ${g.src}`);g=this._buildResolvedAsset(g,{aliases:d,data:a,format:l,loadParser:c}),h.push(g)})}),d.forEach(m=>{this._assetMap[m]=h})})}resolveBundle(e){const r=bf(e);e=Un(e);const n={};return e.forEach(s=>{const i=this._bundles[s];if(i){const o=this.resolve(i),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(s,l)]=c}n[s]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=bf(e);e=Un(e);const n={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let i=this._assetMap[s];const o=this._getPreferredOrder(i);o==null||o.priority.forEach(a=>{o.params[a].forEach(l=>{const c=i.filter(u=>u[a]?u[a]===l:!1);c.length&&(i=c)})}),this._resolverHash[s]=i[0]}else this._resolverHash[s]=this._buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],s=this._preferredOrder.find(i=>i.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:s,loadParser:i,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=un.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=i??e.loadParser,e.format=o??e.format??eU(e.src),e}}Ul.RETINA_PREFIX=/@([0-9\.]+)x/;function eU(t){return t.split(".").pop().split("?").shift().split("#").shift()}const zy=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},AT=class _c{constructor(e,r){this.linkedSheets=[],this._texture=e instanceof nt?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=r;const n=parseFloat(r.meta.scale);n?(this.resolution=n,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=_c.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=_c.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],i=this._frames[s],o=i.frame;if(o){let a=null,l=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new Jt(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?a=new Jt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Jt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(l=new Jt(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[s]=new nt({source:this.textureSource,frame:a,orig:u,trim:l,rotate:i.rotated?2:0,defaultAnchor:i.anchor,defaultBorders:i.borders,label:s.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*_c.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*_c.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};AT.BATCH_SIZE=1e3;let m_=AT;const tU=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function kT(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n[s]=e.textures[s]}),!r){const s=un.dirname(t[0]);e.linkedSheets.forEach((i,o)=>{const a=kT([`${s}/${e.data.meta.related_multi_packs[o]}`],i,!0);Object.assign(n,a)})}return n}const rU={extension:we.Asset,cache:{test:t=>t instanceof m_,getCacheableAssets:(t,e)=>kT(t,e,!1)},resolver:{extension:{type:we.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),s=r.pop();return n==="json"&&tU.includes(s)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Ul.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:we.LoadParser,priority:lo.Normal,name:"spritesheetLoader"},async testParse(t,e){return un.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,u;const{texture:n,imageFilename:s}=(e==null?void 0:e.data)??{};let i=un.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let o;if(n instanceof nt)o=n;else{const d=zy(i+(s??t.meta.image),e.src);o=(await r.load([d]))[d]}const a=new m_(o.source,t);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const d=[];for(const m of l){if(typeof m!="string")continue;let y=i+m;(u=e.data)!=null&&u.ignoreMultiPack||(y=zy(y,e.src),d.push(r.load({src:y,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(d);a.linkedSheets=h,h.forEach(m=>{m.linkedSheets=[a].concat(a.linkedSheets.filter(y=>y!==m))})}return a},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};jr.add(rU);const Fm=Object.create(null),g_=Object.create(null);function Zx(t,e){let r=g_[t];return r===void 0&&(Fm[e]===void 0&&(Fm[e]=1),g_[t]=r=Fm[e]++),r}let ga;function TT(){return(!ga||ga!=null&&ga.isContextLost())&&(ga=zt.get().createCanvas().getContext("webgl",{})),ga}let qd;function nU(){if(!qd){qd="mediump";const t=TT();t&&t.getShaderPrecisionFormat&&(qd=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return qd}function sU(t,e,r){return e?t:r?(t=t.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function iU(t,e,r){const n=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let s=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return s==="highp"&&n!=="highp"&&(s="mediump"),`precision ${s} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function oU(t,e){return e?`#version 300 es
${t}`:t}const aU={},lU={};function cU(t,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const n=r?aU:lU;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function uU(t,e){return e?t.replace("#version 300 es",""):t}const $m={stripVersion:uU,ensurePrecision:iU,addProgramDefines:sU,setProgramName:cU,insertVersion:oU},Bm=Object.create(null),RT=class Uy{constructor(e){e={...Uy.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:nU()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let s=e.fragment,i=e.vertex;Object.keys($m).forEach(o=>{const a=n[o];s=$m[o](s,a,!0),i=$m[o](i,a,!1)}),this.fragment=s,this.vertex=i,this._key=Zx(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return Bm[r]||(Bm[r]=new Uy(e)),Bm[r]}};RT.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let MT=RT;const y_={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function dU(t){return y_[t]??y_.float32}const hU={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function fU({source:t,entryPoint:e}){const r={},n=t.indexOf(`fn ${e}`);if(n!==-1){const s=t.indexOf("->",n);if(s!==-1){const i=t.substring(n,s),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(i))!==null;){const l=hU[a[3]]??"float32";r[a[2]]={location:parseInt(a[1],10),format:l,stride:dU(l).stride,offset:0,instance:!1,start:0}}}}return r}function zm(t){var d,h;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,s=/var(<[^>]+>)? (\w+)/,i=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,c=(d=t.match(e))==null?void 0:d.map(m=>({group:parseInt(m.match(r)[1],10),binding:parseInt(m.match(n)[1],10),name:m.match(s)[2],isUniform:m.match(s)[1]==="<uniform>",type:m.match(i)[1]}));if(!c)return{groups:[],structs:[]};const u=((h=t.match(o))==null?void 0:h.map(m=>{const y=m.match(l)[1],g=m.match(a).reduce((w,x)=>{const[v,b]=x.split(":");return w[v.trim()]=b.trim(),w},{});return g?{name:y,members:g}:null}).filter(({name:m})=>c.some(y=>y.type===m)))??[];return{groups:c,structs:u}}var Sc=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(Sc||{});function pU({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:Sc.VERTEX|Sc.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:Sc.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:Sc.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function mU({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function gU(t,e){const r=new Set,n=new Set,s=[...t.structs,...e.structs].filter(o=>r.has(o.name)?!1:(r.add(o.name),!0)),i=[...t.groups,...e.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return n.has(a)?!1:(n.add(a),!0)});return{structs:s,groups:i}}const Um=Object.create(null);class xp{constructor(e){var a,l;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:n,layout:s,gpuLayout:i,name:o}=e;if(this.name=o,this.fragment=r,this.vertex=n,r.source===n.source){const c=zm(r.source);this.structsAndGroups=c}else{const c=zm(n.source),u=zm(r.source);this.structsAndGroups=gU(c,u)}this.layout=s??mU(this.structsAndGroups),this.gpuLayout=i??pU(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((l=this.layout[1])==null?void 0:l.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,n=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=Zx(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=fU(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return Um[r]||(Um[r]=new xp(e)),Um[r]}}const jT=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>"],yU=jT.reduce((t,e)=>(t[e]=!0,t),{});function vU(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const NT=class IT{constructor(e,r){this._touched=0,this.uid=er("uniform"),this._resourceType="uniformGroup",this._resourceId=er("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...IT.defaultOptions,...r},this.uniformStructures=e;const n={};for(const s in e){const i=e[s];if(i.name=s,i.size=i.size??1,!yU[i.type])throw new Error(`Uniform type ${i.type} is not supported. Supported uniform types are: ${jT.join(", ")}`);i.value??(i.value=vU(i.type,i.size)),n[s]=i.value}this.uniforms=n,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=Zx(Object.keys(n).map(s=>`${s}-${e[s].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};NT.defaultOptions={ubo:!1,isStatic:!1};let OT=NT;class bh{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in e){const s=e[n];this.setResource(s,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const n in this.resources)e[r++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,r){var s,i;const n=this.resources[r];e!==n&&(n&&((s=e.off)==null||s.call(e,"change",this.onResourceChange,this)),(i=e.on)==null||i.call(e,"change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const r=this.resources;for(const n in r)r[n]._touched=e}destroy(){var r;const e=this.resources;for(const n in e){const s=e[n];(r=s.off)==null||r.call(s,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const n in r)r[n]===e&&(r[n]=null)}else this._updateKey()}}var Vy=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Vy||{});class Qx extends Jn{constructor(e){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:r,glProgram:n,groups:s,resources:i,compatibleRenderers:o,groupMap:a}=e;this.gpuProgram=r,this.glProgram=n,o===void 0&&(o=0,r&&(o|=Vy.WEBGPU),n&&(o|=Vy.WEBGL)),this.compatibleRenderers=o;const l={};if(!i&&!s&&(i={}),i&&s)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&s&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&s&&a)for(const c in a)for(const u in a[c]){const d=a[c][u];l[d]={group:c,binding:u,name:d}}else if(r&&s&&!a){const c=r.structsAndGroups.groups;a={},c.forEach(u=>{a[u.group]=a[u.group]||{},a[u.group][u.binding]=u.name,l[u.name]=u})}else if(i){s={},a={},r&&r.structsAndGroups.groups.forEach(d=>{a[d.group]=a[d.group]||{},a[d.group][d.binding]=d.name,l[d.name]=d});let c=0;for(const u in i)l[u]||(s[99]||(s[99]=new bh,this._ownedBindGroups.push(s[99])),l[u]={group:99,binding:c,name:u},a[99]=a[99]||{},a[99][c]=u,c++);for(const u in i){const d=u;let h=i[u];!h.source&&!h._resourceType&&(h=new OT(h));const m=l[d];m&&(s[m.group]||(s[m.group]=new bh,this._ownedBindGroups.push(s[m.group])),s[m.group].setResource(h,m.binding))}}this.groups=s,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(s,l)}addResource(e,r,n){var s,i;(s=this._uniformBindMap)[r]||(s[r]={}),(i=this._uniformBindMap[r])[n]||(i[n]=e),this.groups[r]||(this.groups[r]=new bh,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const n={};for(const s in r){const i=r[s];Object.defineProperty(n,i.name,{get(){return e[i.group].getResource(i.binding)},set(o){e[i.group].setResource(o,i.binding)}})}return n}destroy(e=!1){var r,n;this.emit("destroy",this),e&&((r=this.gpuProgram)==null||r.destroy(),(n=this.glProgram)==null||n.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(s=>{s.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:r,gl:n,...s}=e;let i,o;return r&&(i=xp.from(r)),n&&(o=MT.from(n)),new Qx({gpuProgram:i,glProgram:o,...s})}}const Wy=[];jr.handleByNamedList(we.Environment,Wy);async function xU(t){if(!t)for(let e=0;e<Wy.length;e++){const r=Wy[e];if(r.value.test()){await r.value.load();return}}}let cc;function wU(){if(typeof cc=="boolean")return cc;try{cc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{cc=!1}return cc}var Jx={exports:{}};Jx.exports=wp;Jx.exports.default=wp;function wp(t,e,r){r=r||2;var n=e&&e.length,s=n?e[0]*r:t.length,i=DT(t,0,s,r,!0),o=[];if(!i||i.next===i.prev)return o;var a,l,c,u,d,h,m;if(n&&(i=EU(t,e,i,r)),t.length>80*r){a=c=t[0],l=u=t[1];for(var y=r;y<s;y+=r)d=t[y],h=t[y+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Au(i,o,r,a,l,m,0),o}function DT(t,e,r,n,s){var i,o;if(s===Yy(t,e,r,n)>0)for(i=e;i<r;i+=n)o=v_(i,t[i],t[i+1],o);else for(i=r-n;i>=e;i-=n)o=v_(i,t[i],t[i+1],o);return o&&bp(o,o.next)&&(Tu(o),o=o.next),o}function ea(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(bp(r,r.next)||Mt(r.prev,r,r.next)===0)){if(Tu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Au(t,e,r,n,s,i,o){if(t){!o&&i&&RU(t,n,s,i);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,i?_U(t,n,s,i):bU(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),Tu(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=SU(ea(t),e,r),Au(t,e,r,n,s,i,2)):o===2&&CU(t,e,r,n,s,i):Au(ea(t),e,r,n,s,i,1);break}}}}function bU(t){var e=t.prev,r=t,n=t.next;if(Mt(e,r,n)>=0)return!1;for(var s=e.x,i=r.x,o=n.x,a=e.y,l=r.y,c=n.y,u=s<i?s<o?s:o:i<o?i:o,d=a<l?a<c?a:c:l<c?l:c,h=s>i?s>o?s:o:i>o?i:o,m=a>l?a>c?a:c:l>c?l:c,y=n.next;y!==e;){if(y.x>=u&&y.x<=h&&y.y>=d&&y.y<=m&&Da(s,a,i,l,o,c,y.x,y.y)&&Mt(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function _U(t,e,r,n){var s=t.prev,i=t,o=t.next;if(Mt(s,i,o)>=0)return!1;for(var a=s.x,l=i.x,c=o.x,u=s.y,d=i.y,h=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<d?u<h?u:h:d<h?d:h,g=a>l?a>c?a:c:l>c?l:c,w=u>d?u>h?u:h:d>h?d:h,x=Hy(m,y,e,r,n),v=Hy(g,w,e,r,n),b=t.prevZ,_=t.nextZ;b&&b.z>=x&&_&&_.z<=v;){if(b.x>=m&&b.x<=g&&b.y>=y&&b.y<=w&&b!==s&&b!==o&&Da(a,u,l,d,c,h,b.x,b.y)&&Mt(b.prev,b,b.next)>=0||(b=b.prevZ,_.x>=m&&_.x<=g&&_.y>=y&&_.y<=w&&_!==s&&_!==o&&Da(a,u,l,d,c,h,_.x,_.y)&&Mt(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;b&&b.z>=x;){if(b.x>=m&&b.x<=g&&b.y>=y&&b.y<=w&&b!==s&&b!==o&&Da(a,u,l,d,c,h,b.x,b.y)&&Mt(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;_&&_.z<=v;){if(_.x>=m&&_.x<=g&&_.y>=y&&_.y<=w&&_!==s&&_!==o&&Da(a,u,l,d,c,h,_.x,_.y)&&Mt(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function SU(t,e,r){var n=t;do{var s=n.prev,i=n.next.next;!bp(s,i)&&LT(s,n,n.next,i)&&ku(s,i)&&ku(i,s)&&(e.push(s.i/r|0),e.push(n.i/r|0),e.push(i.i/r|0),Tu(n),Tu(n.next),n=t=i),n=n.next}while(n!==t);return ea(n)}function CU(t,e,r,n,s,i){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&NU(o,a)){var l=FT(o,a);o=ea(o,o.next),l=ea(l,l.next),Au(o,e,r,n,s,i,0),Au(l,e,r,n,s,i,0);return}a=a.next}o=o.next}while(o!==t)}function EU(t,e,r,n){var s=[],i,o,a,l,c;for(i=0,o=e.length;i<o;i++)a=e[i]*n,l=i<o-1?e[i+1]*n:t.length,c=DT(t,a,l,n,!1),c===c.next&&(c.steiner=!0),s.push(jU(c));for(s.sort(PU),i=0;i<s.length;i++)r=AU(s[i],r);return r}function PU(t,e){return t.x-e.x}function AU(t,e){var r=kU(t,e);if(!r)return e;var n=FT(r,t);return ea(n,n.next),ea(r,r.next)}function kU(t,e){var r=e,n=t.x,s=t.y,i=-1/0,o;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>i&&(i=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,c=o.x,u=o.y,d=1/0,h;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&Da(s<u?n:i,s,c,u,s<u?i:n,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(n-r.x),ku(r,t)&&(h<d||h===d&&(r.x>o.x||r.x===o.x&&TU(o,r)))&&(o=r,d=h)),r=r.next;while(r!==l);return o}function TU(t,e){return Mt(t.prev,t,e.prev)<0&&Mt(e.next,t,t.next)<0}function RU(t,e,r,n){var s=t;do s.z===0&&(s.z=Hy(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,MU(s)}function MU(t){var e,r,n,s,i,o,a,l,c=1;do{for(r=t,t=null,i=null,o=0;r;){for(o++,n=r,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(l=c;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(s=r,r=r.nextZ,a--):(s=n,n=n.nextZ,l--),i?i.nextZ=s:t=s,s.prevZ=i,i=s;r=n}i.nextZ=null,c*=2}while(o>1);return t}function Hy(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function jU(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Da(t,e,r,n,s,i,o,a){return(s-o)*(e-a)>=(t-o)*(i-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(i-a)>=(s-o)*(n-a)}function NU(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!IU(t,e)&&(ku(t,e)&&ku(e,t)&&OU(t,e)&&(Mt(t.prev,t,e.prev)||Mt(t,e.prev,e))||bp(t,e)&&Mt(t.prev,t,t.next)>0&&Mt(e.prev,e,e.next)>0)}function Mt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function bp(t,e){return t.x===e.x&&t.y===e.y}function LT(t,e,r,n){var s=Qd(Mt(t,e,r)),i=Qd(Mt(t,e,n)),o=Qd(Mt(r,n,t)),a=Qd(Mt(r,n,e));return!!(s!==i&&o!==a||s===0&&Zd(t,r,e)||i===0&&Zd(t,n,e)||o===0&&Zd(r,t,n)||a===0&&Zd(r,e,n))}function Zd(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Qd(t){return t>0?1:t<0?-1:0}function IU(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&LT(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ku(t,e){return Mt(t.prev,t,t.next)<0?Mt(t,e,t.next)>=0&&Mt(t,t.prev,e)>=0:Mt(t,e,t.prev)<0||Mt(t,t.next,e)<0}function OU(t,e){var r=t,n=!1,s=(t.x+e.x)/2,i=(t.y+e.y)/2;do r.y>i!=r.next.y>i&&r.next.y!==r.y&&s<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function FT(t,e){var r=new Gy(t.i,t.x,t.y),n=new Gy(e.i,e.x,e.y),s=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function v_(t,e,r,n){var s=new Gy(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function Tu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Gy(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}wp.deviation=function(t,e,r,n){var s=e&&e.length,i=s?e[0]*r:t.length,o=Math.abs(Yy(t,0,i,r));if(s)for(var a=0,l=e.length;a<l;a++){var c=e[a]*r,u=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Yy(t,c,u,r))}var d=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,m=n[a+1]*r,y=n[a+2]*r;d+=Math.abs((t[h]-t[y])*(t[m+1]-t[h+1])-(t[h]-t[m])*(t[y+1]-t[h+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function Yy(t,e,r,n){for(var s=0,i=e,o=r-n;i<r;i+=n)s+=(t[o]-t[i])*(t[i+1]+t[o+1]),o=i;return s}wp.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,s=0;s<t.length;s++){for(var i=0;i<t[s].length;i++)for(var o=0;o<e;o++)r.vertices.push(t[s][i][o]);s>0&&(n+=t[s-1].length,r.holes.push(n))}return r};var DU=Jx.exports;const LU=$u(DU);var $T=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))($T||{});class FU{constructor(e){this.items=[],this._name=e}emit(e,r,n,s,i,o,a,l){const{name:c,items:u}=this;for(let d=0,h=u.length;d<h;d++)u[d][c](e,r,n,s,i,o,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const $U=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],BT=class zT extends Jn{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...$U,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await xU(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...zT.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,r){let n=e;if(n instanceof br&&(n={container:n},r&&(ht(mt,"passing a second argument is deprecated, please use render options instead"),n.target=r.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor=this.background.colorRgba),n.clearColor){const s=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=s?n.clearColor:Gt.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n)}resize(e,r,n){const s=this.view.resolution;this.view.resize(e,r,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),n!==void 0&&n!==s&&this.runners.resolutionChange.emit(n)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=$T.ALL);const{clear:n,clearColor:s,target:i}=e;Gt.shared.setValue(s??this.background.colorRgba),r.renderTarget.clear(i,n,Gt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new FU(r)})}_addSystems(e){let r;for(r in e){const n=e[r];this._addSystem(n.value,n.name)}}_addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}_addPipes(e,r){const n=r.reduce((s,i)=>(s[i.name]=i.value,s),{});e.forEach(s=>{const i=s.value,o=s.name,a=n[o];this.renderPipes[o]=new i(this,a?new a:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!wU())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};BT.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let UT=BT,Jd;function BU(t){return Jd!==void 0||(Jd=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??UT.defaultOptions.failIfMajorPerformanceCaveat};try{if(!zt.get().getWebGLRenderingContext())return!1;let s=zt.get().createCanvas().getContext("webgl",e);const i=!!((r=s==null?void 0:s.getContextAttributes())!=null&&r.stencil);if(s){const o=s.getExtension("WEBGL_lose_context");o&&o.loseContext()}return s=null,i}catch{return!1}})()),Jd}let eh;async function zU(t={}){return eh!==void 0||(eh=await(async()=>{const e=zt.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),eh}const x_=["webgl","webgpu","canvas"];async function UU(t){let e=[];t.preference?(e.push(t.preference),x_.forEach(i=>{i!==t.preference&&e.push(i)})):e=x_.slice();let r,n={};for(let i=0;i<e.length;i++){const o=e[i];if(o==="webgpu"&&await zU()){const{WebGPURenderer:a}=await xf(async()=>{const{WebGPURenderer:l}=await import("./WebGPURenderer-BF1J54IG.js");return{WebGPURenderer:l}},__vite__mapDeps([3,2,4]),import.meta.url);r=a,n={...t,...t.webgpu};break}else if(o==="webgl"&&BU(t.failIfMajorPerformanceCaveat??UT.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await xf(async()=>{const{WebGLRenderer:l}=await import("./WebGLRenderer-CN6OxYvs.js");return{WebGLRenderer:l}},__vite__mapDeps([5,2,4]),import.meta.url);r=a,n={...t,...t.webgl};break}else if(o==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!r)throw new Error("No available renderer for the current environment");const s=new r;return await s.init(n),s}const VT="8.5.2";class WT{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,VT)}static destroy(){}}WT.extension=we.Application;class VU{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,VT)}destroy(){this._renderer=null}}VU.extension={type:[we.WebGLSystem,we.WebGPUSystem],name:"initHook",priority:-10};const HT=class Xy{constructor(...e){this.stage=new br,e[0]!==void 0&&ht(mt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await UU(e),Xy._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return ht(mt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const n=Xy._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};HT._plugins=[];let GT=HT;jr.handleByList(we.Application,GT._plugins);jr.add(WT);class YT extends Jn{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return ht(mt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return ht(mt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return ht(mt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return ht(mt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return ht(mt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)(r=this.chars[n].texture)==null||r.destroy();this.chars=null,e&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}const XT=class Ky{constructor(e,r,n,s){this.uid=er("fillGradient"),this.type="linear",this.gradientStops=[],this._styleKey=null,this.x0=e,this.y0=r,this.x1=n,this.y1=s}addColorStop(e,r){return this.gradientStops.push({offset:e,color:Gt.shared.setValue(r).toHexa()}),this._styleKey=null,this}buildLinearGradient(){const e=Ky.defaultTextureSize,{gradientStops:r}=this,n=zt.get().createCanvas();n.width=e,n.height=e;const s=n.getContext("2d"),i=s.createLinearGradient(0,0,Ky.defaultTextureSize,1);for(let g=0;g<r.length;g++){const w=r[g];i.addColorStop(w.offset,w.color)}s.fillStyle=i,s.fillRect(0,0,e,e),this.texture=new nt({source:new zl({resource:n,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:o,y0:a,x1:l,y1:c}=this,u=new ot,d=l-o,h=c-a,m=Math.sqrt(d*d+h*h),y=Math.atan2(h,d);u.translate(-o,-a),u.scale(1/e,1/e),u.rotate(-y),u.scale(256/m,1),this.transform=u,this._styleKey=null}get styleKey(){if(this._styleKey)return this._styleKey;const e=this.gradientStops.map(s=>`${s.offset}-${s.color}`).join("-"),r=this.texture.uid,n=this.transform.toArray().join("-");return`fill-gradient-${this.uid}-${e}-${r}-${n}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`}};XT.defaultTextureSize=256;let Ru=XT;const w_={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class _p{constructor(e,r){this.uid=er("fillPattern"),this.transform=new ot,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=w_[r].addressModeU,e.source.style.addressModeV=w_[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var WU=GU,Vm={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},HU=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function GU(t){var e=[];return t.replace(HU,function(r,n,s){var i=n.toLowerCase();for(s=XU(s),i=="m"&&s.length>2&&(e.push([n].concat(s.splice(0,2))),i="l",n=n=="m"?"l":"L");;){if(s.length==Vm[i])return s.unshift(n),e.push(s);if(s.length<Vm[i])throw new Error("malformed path data");e.push([n].concat(s.splice(0,Vm[i])))}}),e}var YU=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function XU(t){var e=t.match(YU);return e?e.map(Number):[]}const KU=$u(WU);function qU(t,e){const r=KU(t),n=[];let s=null,i=0,o=0;for(let a=0;a<r.length;a++){const l=r[a],c=l[0],u=l;switch(c){case"M":i=u[1],o=u[2],e.moveTo(i,o);break;case"m":i+=u[1],o+=u[2],e.moveTo(i,o);break;case"H":i=u[1],e.lineTo(i,o);break;case"h":i+=u[1],e.lineTo(i,o);break;case"V":o=u[1],e.lineTo(i,o);break;case"v":o+=u[1],e.lineTo(i,o);break;case"L":i=u[1],o=u[2],e.lineTo(i,o);break;case"l":i+=u[1],o+=u[2],e.lineTo(i,o);break;case"C":i=u[5],o=u[6],e.bezierCurveTo(u[1],u[2],u[3],u[4],i,o);break;case"c":e.bezierCurveTo(i+u[1],o+u[2],i+u[3],o+u[4],i+u[5],o+u[6]),i+=u[5],o+=u[6];break;case"S":i=u[3],o=u[4],e.bezierCurveToShort(u[1],u[2],i,o);break;case"s":e.bezierCurveToShort(i+u[1],o+u[2],i+u[3],o+u[4]),i+=u[3],o+=u[4];break;case"Q":i=u[3],o=u[4],e.quadraticCurveTo(u[1],u[2],i,o);break;case"q":e.quadraticCurveTo(i+u[1],o+u[2],i+u[3],o+u[4]),i+=u[3],o+=u[4];break;case"T":i=u[1],o=u[2],e.quadraticCurveToShort(i,o);break;case"t":i+=u[1],o+=u[2],e.quadraticCurveToShort(i,o);break;case"A":i=u[6],o=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],i,o);break;case"a":i+=u[6],o+=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],i,o);break;case"Z":case"z":e.closePath(),n.length>0&&(s=n.pop(),s?(i=s.startX,o=s.startY):(i=0,o=0)),s=null;break;default:Yt(`Unknown SVG path command: ${c}`)}c!=="Z"&&c!=="z"&&s===null&&(s={startX:i,startY:o},n.push(s))}return e}class e0{constructor(e=0,r=0,n=0){this.type="circle",this.x=e,this.y=r,this.radius=n}clone(){return new e0(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,i=this.y-r;return s*=s,i*=i,s+i<=n}strokeContains(e,r,n){if(this.radius===0)return!1;const s=this.x-e,i=this.y-r,o=this.radius,a=n/2,l=Math.sqrt(s*s+i*i);return l<o+a&&l>o-a}getBounds(e){return e=e||new Jt,e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class t0{constructor(e=0,r=0,n=0,s=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=n,this.halfHeight=s}clone(){return new t0(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,s=(r-this.y)/this.halfHeight;return n*=n,s*=s,n+s<=1}strokeContains(e,r,n){const{halfWidth:s,halfHeight:i}=this;if(s<=0||i<=0)return!1;const o=n/2,a=s-o,l=i-o,c=s+o,u=i+o,d=e-this.x,h=r-this.y,m=d*d/(a*a)+h*h/(l*l),y=d*d/(c*c)+h*h/(u*u);return m>1&&y<=1}getBounds(e){return e=e||new Jt,e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function ZU(t,e,r,n,s,i){const o=t-r,a=e-n,l=s-r,c=i-n,u=o*l+a*c,d=l*l+c*c;let h=-1;d!==0&&(h=u/d);let m,y;h<0?(m=r,y=n):h>1?(m=s,y=i):(m=r+h*l,y=n+h*c);const g=t-m,w=e-y;return g*g+w*w}class Bc{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,i=r.length;s<i;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.closePath=!0}clone(){const e=this.points.slice(),r=new Bc(e);return r.closePath=this.closePath,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let i=0,o=s-1;i<s;o=i++){const a=this.points[i*2],l=this.points[i*2+1],c=this.points[o*2],u=this.points[o*2+1];l>r!=u>r&&e<(c-a)*((r-l)/(u-l))+a&&(n=!n)}return n}strokeContains(e,r,n){const s=n/2,i=s*s,{points:o}=this,a=o.length-(this.closePath?0:2);for(let l=0;l<a;l+=2){const c=o[l],u=o[l+1],d=o[(l+2)%o.length],h=o[(l+3)%o.length];if(ZU(e,r,c,u,d,h)<=i)return!0}return!1}getBounds(e){e=e||new Jt;const r=this.points;let n=1/0,s=-1/0,i=1/0,o=-1/0;for(let a=0,l=r.length;a<l;a+=2){const c=r[a],u=r[a+1];n=c<n?c:n,s=c>s?c:s,i=u<i?u:i,o=u>o?u:o}return e.x=n,e.width=s-n,e.y=i,e.height=o-i,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const th=(t,e,r,n,s,i)=>{const o=t-r,a=e-n,l=Math.sqrt(o*o+a*a);return l>=s-i&&l<=s+i};class r0{constructor(e=0,r=0,n=0,s=0,i=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=n,this.height=s,this.radius=i}getBounds(e){return e=e||new Jt,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new r0(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),i=r-(this.y+n);const o=n*n;if(s*s+i*i<=o||(s=e-(this.x+this.width-n),s*s+i*i<=o)||(i=r-(this.y+this.height-n),s*s+i*i<=o)||(s=e-(this.x+n),s*s+i*i<=o))return!0}return!1}strokeContains(e,r,n){const{x:s,y:i,width:o,height:a,radius:l}=this,c=n/2,u=s+l,d=i+l,h=o-l*2,m=a-l*2,y=s+o,g=i+a;return(e>=s-c&&e<=s+c||e>=y-c&&e<=y+c)&&r>=d&&r<=d+m||(r>=i-c&&r<=i+c||r>=g-c&&r<=g+c)&&e>=u&&e<=u+h?!0:e<u&&r<d&&th(e,r,u,d,l,c)||e>y-l&&r<d&&th(e,r,y-l,d,l,c)||e>y-l&&r>g-l&&th(e,r,y-l,g-l,l,c)||e<u&&r>g-l&&th(e,r,u,g-l,l,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const QU=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function JU(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function eV(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const n=QU.replace(/%forloop%/gi,JU(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(r)}return t}let ya=null;function KT(){var e;if(ya)return ya;const t=TT();return ya=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ya=eV(ya,t),(e=t.getExtension("WEBGL_lose_context"))==null||e.loseContext(),ya}const qT={};function tV(t,e){let r=2166136261;for(let n=0;n<e;n++)r^=t[n].uid,r=Math.imul(r,16777619),r>>>=0;return qT[r]||rV(t,e,r)}let Wm=0;function rV(t,e,r){const n={};let s=0;Wm||(Wm=KT());for(let o=0;o<Wm;o++){const a=o<e?t[o]:nt.EMPTY.source;n[s++]=a.source,n[s++]=a.style}const i=new bh(n);return qT[r]=i,i}class b_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function __(t,e){const r=t.byteLength/8|0,n=new Float64Array(t,0,r);new Float64Array(e,0,r).set(n);const i=t.byteLength-r*8;if(i>0){const o=new Uint8Array(t,r*8,i);new Uint8Array(e,r*8,i).set(o)}}const nV={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var sV=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(sV||{});function S_(t,e){return e.alphaMode==="no-premultiply-alpha"&&nV[t]||t}class iV{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class oV{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new iV,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const ZT=[];let qy=0;function C_(){return qy>0?ZT[--qy]:new oV}function E_(t){ZT[qy++]=t}let uc=0;const QT=class _h{constructor(e={}){this.uid=er("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],_h.defaultOptions.maxTextures=_h.defaultOptions.maxTextures??KT(),e={..._h.defaultOptions,...e};const{maxTextures:r,attributesInitialSize:n,indicesInitialSize:s}=e;this.attributeBuffer=new b_(n*4),this.indexBuffer=new Uint16Array(s),this.maxTextures=r}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)E_(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,r){const n=e._batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(e._textureId=n,e.texture=r,!0)}updateElement(e){this.dirty=!0;const r=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId)}break(e){const r=this._elements;if(!r[this.elementStart])return;let n=C_(),s=n.textures;s.clear();const i=r[this.elementStart];let o=S_(i.blendMode,i.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const a=this.attributeBuffer.float32View,l=this.attributeBuffer.uint32View,c=this.indexBuffer;let u=this._batchIndexSize,d=this._batchIndexStart,h="startBatch";const m=this.maxTextures;for(let y=this.elementStart;y<this.elementSize;++y){const g=r[y];r[y]=null;const x=g.texture._source,v=S_(g.blendMode,x),b=o!==v;if(x._batchTick===uc&&!b){g._textureId=x._textureBindLocation,u+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,a,l,g._attributeStart,g._textureId),this.packQuadIndex(c,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,a,l,g._attributeStart,g._textureId),this.packIndex(g,c,g._indexStart,g._attributeStart/this.vertexSize)),g._batch=n;continue}x._batchTick=uc,(s.count>=m||b)&&(this._finishBatch(n,d,u-d,s,o,e,h),h="renderBatch",d=u,o=v,n=C_(),s=n.textures,s.clear(),++uc),g._textureId=x._textureBindLocation=s.count,s.ids[x.uid]=s.count,s.textures[s.count++]=x,g._batch=n,u+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,a,l,g._attributeStart,g._textureId),this.packQuadIndex(c,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,a,l,g._attributeStart,g._textureId),this.packIndex(g,c,g._indexStart,g._attributeStart/this.vertexSize))}s.count>0&&(this._finishBatch(n,d,u-d,s,o,e,h),d=u,++uc),this.elementStart=this.elementSize,this._batchIndexStart=d,this._batchIndexSize=u}_finishBatch(e,r,n,s,i,o,a){e.gpuBindGroup=null,e.bindGroup=null,e.action=a,e.batcher=this,e.textures=s,e.blendMode=i,e.start=r,e.size=n,++uc,this.batches[this.batchIndex++]=e,o.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),n=new b_(r);__(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const r=this.indexBuffer;let n=Math.max(e,r.length*1.5);n+=n%2;const s=n>65535?new Uint32Array(n):new Uint16Array(n);if(s.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let i=0;i<r.length;i++)s[i]=r[i];else __(r.buffer,s.buffer);this.indexBuffer=s}packQuadIndex(e,r,n){e[r]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3}packIndex(e,r,n,s){const i=e.indices,o=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let c=0;c<o;c++)r[n++]=s+i[c+a]-l}destroy(){for(let e=0;e<this.batches.length;e++)E_(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};QT.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let aV=QT;var Ur=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(Ur||{});class Mu extends Jn{constructor(e){let{data:r,size:n}=e;const{usage:s,label:i,shrinkToFit:o}=e;super(),this.uid=er("buffer"),this._resourceType="buffer",this._resourceId=er("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n=n??(r==null?void 0:r.byteLength);const a=!!r;this.descriptor={size:n,usage:s,mappedAtCreation:a,label:i},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get static(){return!!(this.descriptor.usage&Ur.STATIC)}set static(e){e?this.descriptor.usage|=Ur.STATIC:this.descriptor.usage&=~Ur.STATIC}setDataWithSize(e,r,n){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const s=this._data;if(this._data=e,s.length!==e.length){!this.shrinkToFit&&e.byteLength<s.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=er("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function JT(t,e){if(!(t instanceof Mu)){let r=e?Ur.INDEX:Ur.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),r=Ur.INDEX|Ur.COPY_DST):(t=new Float32Array(t),r=Ur.VERTEX|Ur.COPY_DST)),t=new Mu({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return t}function lV(t,e,r){const n=t.getAttribute(e);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const s=n.buffer.data;let i=1/0,o=1/0,a=-1/0,l=-1/0;const c=s.BYTES_PER_ELEMENT,u=(n.offset||0)/c,d=(n.stride||2*4)/c;for(let h=u;h<s.length;h+=d){const m=s[h],y=s[h+1];m>a&&(a=m),y>l&&(l=y),m<i&&(i=m),y<o&&(o=y)}return r.minX=i,r.minY=o,r.maxX=a,r.maxY=l,r}function cV(t){return(t instanceof Mu||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=JT(t.buffer,!1),t}class uV extends Jn{constructor(e={}){super(),this.uid=er("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new xs,this._boundsDirty=!0;const{attributes:r,indexBuffer:n,topology:s}=e;if(this.buffers=[],this.attributes={},r)for(const i in r)this.addAttribute(i,r[i]);this.instanceCount=e.instanceCount||1,n&&this.addIndex(n),this.topology=s||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}addAttribute(e,r){const n=cV(r);this.buffers.indexOf(n.buffer)===-1&&(this.buffers.push(n.buffer),n.buffer.on("update",this.onBufferUpdate,this),n.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=n}addIndex(e){this.indexBuffer=JT(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,lV(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(r=>r.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const dV=new Float32Array(1),hV=new Uint32Array(1);class fV extends uV{constructor(){const r=new Mu({data:dV,label:"attribute-batch-buffer",usage:Ur.VERTEX|Ur.COPY_DST,shrinkToFit:!1}),n=new Mu({data:hV,label:"index-batch-buffer",usage:Ur.INDEX|Ur.COPY_DST,shrinkToFit:!1}),s=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:s,offset:0},aUV:{buffer:r,format:"float32x2",stride:s,offset:2*4},aColor:{buffer:r,format:"unorm8x4",stride:s,offset:4*4},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:s,offset:5*4}},indexBuffer:n})}}function P_(t,e,r){if(t)for(const n in t){const s=n.toLocaleLowerCase(),i=e[s];if(i){let o=t[n];n==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&i.push(`//----${r}----//`),i.push(o)}else Yt(`${n} placement hook does not exist in shader`)}}const pV=/\{\{(.*?)\}\}/g;function A_(t){var n;const e={};return(((n=t.match(pV))==null?void 0:n.map(s=>s.replace(/[{()}]/g,"")))??[]).forEach(s=>{e[s]=[]}),e}function k_(t,e){let r;const n=/@in\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function T_(t,e,r=!1){const n=[];k_(e,n),t.forEach(a=>{a.header&&k_(a.header,n)});const s=n;r&&s.sort();const i=s.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${i}
`),o}function R_(t,e){let r;const n=/@out\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function mV(t){const r=/\b(\w+)\s*:/g.exec(t);return r?r[1]:""}function gV(t){const e=/@.*?\s+/g;return t.replace(e,"")}function yV(t,e){const r=[];R_(e,r),t.forEach(l=>{l.header&&R_(l.header,r)});let n=0;const s=r.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${n++}) ${l}`).join(`,
`),i=r.sort().map(l=>`       var ${gV(l)};`).join(`
`),o=`return VSOutput(
                ${r.sort().map(l=>` ${mV(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${s}
`),a=a.replace("{{start}}",`
${i}
`),a=a.replace("{{return}}",`
${o}
`),a}function M_(t,e){let r=t;for(const n in e){const s=e[n];s.join(`
`).length?r=r.replace(`{{${n}}}`,`//-----${n} START-----//
${s.join(`
`)}
//----${n} FINISH----//`):r=r.replace(`{{${n}}}`,"")}return r}const Ti=Object.create(null),Hm=new Map;let vV=0;function xV({template:t,bits:e}){const r=eR(t,e);if(Ti[r])return Ti[r];const{vertex:n,fragment:s}=bV(t,e);return Ti[r]=tR(n,s,e),Ti[r]}function wV({template:t,bits:e}){const r=eR(t,e);return Ti[r]||(Ti[r]=tR(t.vertex,t.fragment,e)),Ti[r]}function bV(t,e){const r=e.map(o=>o.vertex).filter(o=>!!o),n=e.map(o=>o.fragment).filter(o=>!!o);let s=T_(r,t.vertex,!0);s=yV(r,s);const i=T_(n,t.fragment,!0);return{vertex:s,fragment:i}}function eR(t,e){return e.map(r=>(Hm.has(r)||Hm.set(r,vV++),Hm.get(r))).sort((r,n)=>r-n).join("-")+t.vertex+t.fragment}function tR(t,e,r){const n=A_(t),s=A_(e);return r.forEach(i=>{P_(i.vertex,n,i.name),P_(i.fragment,s,i.name)}),{vertex:M_(t,n),fragment:M_(e,s)}}const _V=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,SV=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,CV=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,EV=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,PV={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},AV={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function kV({bits:t,name:e}){const r=xV({template:{fragment:SV,vertex:_V},bits:[PV,...t]});return xp.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function TV({bits:t,name:e}){return new MT({name:e,...wV({template:{vertex:CV,fragment:EV},bits:[AV,...t]})})}const RV={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},MV={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Gm={};function jV(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${r++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function NV(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<t;r++)r===t-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function IV(t){return Gm[t]||(Gm[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${jV(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${NV(t)}
            `}}),Gm[t]}const Ym={};function OV(t){const e=[];for(let r=0;r<t;r++)r>0&&e.push("else"),r<t-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function DV(t){return Ym[t]||(Ym[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${OV(t)}
            `}}),Ym[t]}const LV={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},FV={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},j_={};function $V(t){let e=j_[t];if(e)return e;const r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=n;return e=j_[t]=new OT({uTextures:{value:r,type:"i32",size:t}},{isStatic:!0}),e}class BV extends Qx{constructor(e){const r=TV({name:"batch",bits:[MV,DV(e),FV]}),n=kV({name:"batch",bits:[RV,IV(e),LV]});super({glProgram:r,gpuProgram:n,resources:{batchSamplers:$V(e)}})}}let N_=null;const rR=class nR extends aV{constructor(){super(...arguments),this.geometry=new fV,this.shader=N_||(N_=new BV(this.maxTextures)),this.name=nR.extension.name,this.vertexSize=6}packAttributes(e,r,n,s,i){const o=i<<16|e.roundPixels&65535,a=e.transform,l=a.a,c=a.b,u=a.c,d=a.d,h=a.tx,m=a.ty,{positions:y,uvs:g}=e,w=e.color,x=e.attributeOffset,v=x+e.attributeSize;for(let b=x;b<v;b++){const _=b*2,C=y[_],A=y[_+1];r[s++]=l*C+u*A+h,r[s++]=d*A+c*C+m,r[s++]=g[_],r[s++]=g[_+1],n[s++]=w,n[s++]=o}}packQuadAttributes(e,r,n,s,i){const o=e.texture,a=e.transform,l=a.a,c=a.b,u=a.c,d=a.d,h=a.tx,m=a.ty,y=e.bounds,g=y.maxX,w=y.minX,x=y.maxY,v=y.minY,b=o.uvs,_=e.color,C=i<<16|e.roundPixels&65535;r[s+0]=l*w+u*v+h,r[s+1]=d*v+c*w+m,r[s+2]=b.x0,r[s+3]=b.y0,n[s+4]=_,n[s+5]=C,r[s+6]=l*g+u*v+h,r[s+7]=d*v+c*g+m,r[s+8]=b.x1,r[s+9]=b.y1,n[s+10]=_,n[s+11]=C,r[s+12]=l*g+u*x+h,r[s+13]=d*x+c*g+m,r[s+14]=b.x2,r[s+15]=b.y2,n[s+16]=_,n[s+17]=C,r[s+18]=l*w+u*x+h,r[s+19]=d*x+c*w+m,r[s+20]=b.x3,r[s+21]=b.y3,n[s+22]=_,n[s+23]=C}};rR.extension={type:[we.Batcher],name:"default"};let zV=rR;function UV(t,e,r,n,s,i,o,a=null){let l=0;r*=e,s*=i;const c=a.a,u=a.b,d=a.c,h=a.d,m=a.tx,y=a.ty;for(;l<o;){const g=t[r],w=t[r+1];n[s]=c*g+d*w+m,n[s+1]=u*g+h*w+y,s+=i,r+=e,l++}}function VV(t,e,r,n){let s=0;for(e*=r;s<n;)t[e]=0,t[e+1]=0,e+=r,s++}function sR(t,e,r,n,s){const i=e.a,o=e.b,a=e.c,l=e.d,c=e.tx,u=e.ty;r=r||0,n=n||2,s=s||t.length/n-r;let d=r*n;for(let h=0;h<s;h++){const m=t[d],y=t[d+1];t[d]=i*m+a*y+c,t[d+1]=o*m+l*y+u,d+=n}}function WV(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,s=t&255,i=e>>16&255,o=e>>8&255,a=e&255,l=r*i/255,c=n*o/255,u=s*a/255;return(l<<16)+(c<<8)+u}const HV=new ot;class iR{constructor(){this.packAsQuad=!1,this.batcherName="default",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,r=e>>16|e&65280|(e&255)<<16,n=this.renderable;return n?WV(r,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):r+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||HV}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData}reset(){this.applyTransform=!0,this.renderable=null}}const ju={extension:{type:we.ShapeBuilder,name:"circle"},build(t,e){let r,n,s,i,o,a;if(t.type==="circle"){const _=t;r=_.x,n=_.y,o=a=_.radius,s=i=0}else if(t.type==="ellipse"){const _=t;r=_.x,n=_.y,o=_.halfWidth,a=_.halfHeight,s=i=0}else{const _=t,C=_.width/2,A=_.height/2;r=_.x+C,n=_.y+A,o=a=Math.max(0,Math.min(_.radius,Math.min(C,A))),s=C-o,i=A-a}if(!(o>=0&&a>=0&&s>=0&&i>=0))return e;const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(s?4:0)+(i?4:0);if(c===0)return e;if(l===0)return e[0]=e[6]=r+s,e[1]=e[3]=n+i,e[2]=e[4]=r-s,e[5]=e[7]=n-i,e;let u=0,d=l*4+(s?2:0)+2,h=d,m=c,y=s+o,g=i,w=r+y,x=r-y,v=n+g;if(e[u++]=w,e[u++]=v,e[--d]=v,e[--d]=x,i){const _=n-g;e[h++]=x,e[h++]=_,e[--m]=_,e[--m]=w}for(let _=1;_<l;_++){const C=Math.PI/2*(_/l),A=s+Math.cos(C)*o,E=i+Math.sin(C)*a,S=r+A,P=r-A,T=n+E,U=n-E;e[u++]=S,e[u++]=T,e[--d]=T,e[--d]=P,e[h++]=P,e[h++]=U,e[--m]=U,e[--m]=S}y=s,g=i+a,w=r+y,x=r-y,v=n+g;const b=n-g;return e[u++]=w,e[u++]=v,e[--m]=b,e[--m]=w,s&&(e[u++]=x,e[u++]=v,e[--m]=b,e[--m]=x),e},triangulate(t,e,r,n,s,i){if(t.length===0)return;let o=0,a=0;for(let u=0;u<t.length;u+=2)o+=t[u],a+=t[u+1];o/=t.length/2,a/=t.length/2;let l=n;e[l*r]=o,e[l*r+1]=a;const c=l++;for(let u=0;u<t.length;u+=2)e[l*r]=t[u],e[l*r+1]=t[u+1],u>0&&(s[i++]=l,s[i++]=c,s[i++]=l-1),l++;s[i++]=c+1,s[i++]=c,s[i++]=l-1}},GV={...ju,extension:{...ju.extension,name:"ellipse"}},YV={...ju,extension:{...ju.extension,name:"roundedRectangle"}},XV=1e-4,I_=1e-4;function KV(t){const e=t.length;if(e<6)return 1;let r=0;for(let n=0,s=t[e-2],i=t[e-1];n<e;n+=2){const o=t[n],a=t[n+1];r+=(o-s)*(a+i),s=o,i=a}return r<0?-1:1}function O_(t,e,r,n,s,i,o,a){const l=t-r*s,c=e-n*s,u=t+r*i,d=e+n*i;let h,m;o?(h=n,m=-r):(h=-n,m=r);const y=l+h,g=c+m,w=u+h,x=d+m;return a.push(y,g),a.push(w,x),2}function uo(t,e,r,n,s,i,o,a){const l=r-t,c=n-e;let u=Math.atan2(l,c),d=Math.atan2(s-t,i-e);a&&u<d?u+=Math.PI*2:!a&&u>d&&(d+=Math.PI*2);let h=u;const m=d-u,y=Math.abs(m),g=Math.sqrt(l*l+c*c),w=(15*y*Math.sqrt(g)/Math.PI>>0)+1,x=m/w;if(h+=x,a){o.push(t,e),o.push(r,n);for(let v=1,b=h;v<w;v++,b+=x)o.push(t,e),o.push(t+Math.sin(b)*g,e+Math.cos(b)*g);o.push(t,e),o.push(s,i)}else{o.push(r,n),o.push(t,e);for(let v=1,b=h;v<w;v++,b+=x)o.push(t+Math.sin(b)*g,e+Math.cos(b)*g),o.push(t,e);o.push(s,i),o.push(t,e)}return w*2}function qV(t,e,r,n,s,i,o,a,l){const c=XV;if(t.length===0)return;const u=e;let d=u.alignment;if(e.alignment!==.5){let N=KV(t);d=(d-.5)*N+.5}const h=new vr(t[0],t[1]),m=new vr(t[t.length-2],t[t.length-1]),y=n,g=Math.abs(h.x-m.x)<c&&Math.abs(h.y-m.y)<c;if(y){t=t.slice(),g&&(t.pop(),t.pop(),m.set(t[t.length-2],t[t.length-1]));const N=(h.x+m.x)*.5,G=(m.y+h.y)*.5;t.unshift(N,G),t.push(N,G)}const w=s,x=t.length/2;let v=t.length;const b=w.length/2,_=u.width/2,C=_*_,A=u.miterLimit*u.miterLimit;let E=t[0],S=t[1],P=t[2],T=t[3],U=0,F=0,z=-(S-T),B=E-P,Y=0,X=0,Q=Math.sqrt(z*z+B*B);z/=Q,B/=Q,z*=_,B*=_;const D=d,O=(1-D)*2,V=D*2;y||(u.cap==="round"?v+=uo(E-z*(O-V)*.5,S-B*(O-V)*.5,E-z*O,S-B*O,E+z*V,S+B*V,w,!0)+2:u.cap==="square"&&(v+=O_(E,S,z,B,O,V,!0,w))),w.push(E-z*O,S-B*O),w.push(E+z*V,S+B*V);for(let N=1;N<x-1;++N){E=t[(N-1)*2],S=t[(N-1)*2+1],P=t[N*2],T=t[N*2+1],U=t[(N+1)*2],F=t[(N+1)*2+1],z=-(S-T),B=E-P,Q=Math.sqrt(z*z+B*B),z/=Q,B/=Q,z*=_,B*=_,Y=-(T-F),X=P-U,Q=Math.sqrt(Y*Y+X*X),Y/=Q,X/=Q,Y*=_,X*=_;const G=P-E,ie=S-T,te=P-U,re=F-T,J=G*te+ie*re,fe=ie*te-re*G,Ie=fe<0;if(Math.abs(fe)<.001*Math.abs(J)){w.push(P-z*O,T-B*O),w.push(P+z*V,T+B*V),J>=0&&(u.join==="round"?v+=uo(P,T,P-z*O,T-B*O,P-Y*O,T-X*O,w,!1)+4:v+=2,w.push(P-Y*V,T-X*V),w.push(P+Y*O,T+X*O));continue}const Ae=(-z+E)*(-B+T)-(-z+P)*(-B+S),ze=(-Y+U)*(-X+T)-(-Y+P)*(-X+F),Oe=(G*ze-te*Ae)/fe,xt=(re*Ae-ie*ze)/fe,Xe=(Oe-P)*(Oe-P)+(xt-T)*(xt-T),Ct=P+(Oe-P)*O,Et=T+(xt-T)*O,rr=P-(Oe-P)*V,k=T-(xt-T)*V,I=Math.min(G*G+ie*ie,te*te+re*re),$=Ie?O:V,oe=I+$*$*C;Xe<=oe?u.join==="bevel"||Xe/C>A?(Ie?(w.push(Ct,Et),w.push(P+z*V,T+B*V),w.push(Ct,Et),w.push(P+Y*V,T+X*V)):(w.push(P-z*O,T-B*O),w.push(rr,k),w.push(P-Y*O,T-X*O),w.push(rr,k)),v+=2):u.join==="round"?Ie?(w.push(Ct,Et),w.push(P+z*V,T+B*V),v+=uo(P,T,P+z*V,T+B*V,P+Y*V,T+X*V,w,!0)+4,w.push(Ct,Et),w.push(P+Y*V,T+X*V)):(w.push(P-z*O,T-B*O),w.push(rr,k),v+=uo(P,T,P-z*O,T-B*O,P-Y*O,T-X*O,w,!1)+4,w.push(P-Y*O,T-X*O),w.push(rr,k)):(w.push(Ct,Et),w.push(rr,k)):(w.push(P-z*O,T-B*O),w.push(P+z*V,T+B*V),u.join==="round"?Ie?v+=uo(P,T,P+z*V,T+B*V,P+Y*V,T+X*V,w,!0)+2:v+=uo(P,T,P-z*O,T-B*O,P-Y*O,T-X*O,w,!1)+2:u.join==="miter"&&Xe/C<=A&&(Ie?(w.push(rr,k),w.push(rr,k)):(w.push(Ct,Et),w.push(Ct,Et)),v+=2),w.push(P-Y*O,T-X*O),w.push(P+Y*V,T+X*V),v+=2)}E=t[(x-2)*2],S=t[(x-2)*2+1],P=t[(x-1)*2],T=t[(x-1)*2+1],z=-(S-T),B=E-P,Q=Math.sqrt(z*z+B*B),z/=Q,B/=Q,z*=_,B*=_,w.push(P-z*O,T-B*O),w.push(P+z*V,T+B*V),y||(u.cap==="round"?v+=uo(P-z*(O-V)*.5,T-B*(O-V)*.5,P-z*O,T-B*O,P+z*V,T+B*V,w,!1)+2:u.cap==="square"&&(v+=O_(P,T,z,B,O,V,!1,w)));const ee=I_*I_;for(let N=b;N<v+b-2;++N)E=w[N*2],S=w[N*2+1],P=w[(N+1)*2],T=w[(N+1)*2+1],U=w[(N+2)*2],F=w[(N+2)*2+1],!(Math.abs(E*(T-F)+P*(F-S)+U*(S-T))<ee)&&a.push(N,N+1,N+2)}function oR(t,e,r,n,s,i,o){const a=LU(t,e,2);if(!a)return;for(let c=0;c<a.length;c+=3)i[o++]=a[c]+s,i[o++]=a[c+1]+s,i[o++]=a[c+2]+s;let l=s*n;for(let c=0;c<t.length;c+=2)r[l]=t[c],r[l+1]=t[c+1],l+=n}const ZV=[],QV={extension:{type:we.ShapeBuilder,name:"polygon"},build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return e},triangulate(t,e,r,n,s,i){oR(t,ZV,e,r,n,s,i)}},JV={extension:{type:we.ShapeBuilder,name:"rectangle"},build(t,e){const r=t,n=r.x,s=r.y,i=r.width,o=r.height;return i>=0&&o>=0&&(e[0]=n,e[1]=s,e[2]=n+i,e[3]=s,e[4]=n+i,e[5]=s+o,e[6]=n,e[7]=s+o),e},triangulate(t,e,r,n,s,i){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[6],e[n+o+1]=t[7],o+=r,e[n+o]=t[4],e[n+o+1]=t[5],o+=r;const a=n/r;s[i++]=a,s[i++]=a+1,s[i++]=a+2,s[i++]=a+1,s[i++]=a+3,s[i++]=a+2}},e6={extension:{type:we.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,e},triangulate(t,e,r,n,s,i){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[4],e[n+o+1]=t[5];const a=n/r;s[i++]=a,s[i++]=a+1,s[i++]=a+2}},Sp={};jr.handleByMap(we.ShapeBuilder,Sp);jr.add(JV,QV,e6,ju,GV,YV);const t6=new Jt;function r6(t,e){const{geometryData:r,batches:n}=e;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let s=0;s<t.instructions.length;s++){const i=t.instructions[s];if(i.action==="texture")n6(i.data,n,r);else if(i.action==="fill"||i.action==="stroke"){const o=i.action==="stroke",a=i.data.path.shapePath,l=i.data.style,c=i.data.hole;o&&c&&D_(c.shapePath,l,null,!0,n,r),D_(a,l,c,o,n,r)}}}function n6(t,e,r){const{vertices:n,uvs:s,indices:i}=r,o=i.length,a=n.length/2,l=[],c=Sp.rectangle,u=t6,d=t.image;u.x=t.dx,u.y=t.dy,u.width=t.dw,u.height=t.dh;const h=t.transform;c.build(u,l),h&&sR(l,h),c.triangulate(l,n,2,a,i,o);const m=d.uvs;s.push(m.x0,m.y0,m.x1,m.y1,m.x3,m.y3,m.x2,m.y2);const y=Fs.get(iR);y.indexOffset=o,y.indexSize=i.length-o,y.attributeOffset=a,y.attributeSize=n.length/2-a,y.baseColor=t.style,y.alpha=t.alpha,y.texture=d,y.geometryData=r,e.push(y)}function D_(t,e,r,n,s,i){const{vertices:o,uvs:a,indices:l}=i,c=t.shapePrimitives.length-1;t.shapePrimitives.forEach(({shape:u,transform:d},h)=>{const m=l.length,y=o.length/2,g=[],w=Sp[u.type];if(w.build(u,g),d&&sR(g,d),n){const _=u.closePath??!0;qV(g,e,!1,_,o,2,y,l)}else if(r&&c===h){c!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const _=[],C=g.slice();s6(r.shapePath).forEach(E=>{_.push(C.length/2),C.push(...E)}),oR(C,_,o,2,y,l,m)}else w.triangulate(g,o,2,y,l,m);const x=a.length/2,v=e.texture;if(v!==nt.WHITE){const _=e.matrix;_&&(d&&_.append(d.clone().invert()),UV(o,2,y,a,x,2,o.length/2-y,_))}else VV(a,x,2,o.length/2-y);const b=Fs.get(iR);b.indexOffset=m,b.indexSize=l.length-m,b.attributeOffset=y,b.attributeSize=o.length/2-y,b.baseColor=e.color,b.alpha=e.alpha,b.texture=v,b.geometryData=i,s.push(b)})}function s6(t){if(!t)return[];const e=t.shapePrimitives,r=[];for(let n=0;n<e.length;n++){const s=e[n].shape,i=[];Sp[s.type].build(s,i),r.push(i)}return r}class i6{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class o6{constructor(){this.batcher=new zV,this.instructions=new fT}init(){this.instructions.reset()}get geometry(){return ht(fz,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const n0=class Zy{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Zy.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??Zy.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let r=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){r?this._cleanGraphicsContextData(e):r=this._initContext(e),r6(e,r);const n=e.batchMode;e.customShader||n==="no-batch"?r.isBatchable=!1:n==="auto"&&(r.isBatchable=r.geometryData.vertices.length<400),e.dirty=!1}return r}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const r=Fs.get(o6),{batches:n,geometryData:s}=this._gpuContextHash[e.uid],i=s.vertices.length,o=s.indices.length;for(let u=0;u<n.length;u++)n[u].applyTransform=!1;const a=r.batcher;a.ensureAttributeBuffer(i),a.ensureIndexBuffer(o),a.begin();for(let u=0;u<n.length;u++){const d=n[u];a.add(d)}a.finish(r.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const c=a.batches;for(let u=0;u<c.length;u++){const d=c[u];d.bindGroup=tV(d.textures.textures,d.textures.count)}return this._graphicsDataContextHash[e.uid]=r,r}_initContext(e){const r=new i6;return r.context=e,this._gpuContextHash[e.uid]=r,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const r=this._gpuContextHash[e.uid];r.isBatchable||this._graphicsDataContextHash[e.uid]&&(Fs.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),r.batches&&r.batches.forEach(n=>{Fs.return(n)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};n0.extension={type:[we.WebGLSystem,we.WebGPUSystem,we.CanvasSystem],name:"graphicsContext"};n0.defaultOptions={bezierSmoothness:.5};let aR=n0;const a6=8,rh=11920929e-14,l6=1;function lR(t,e,r,n,s,i,o,a,l,c){const d=Math.min(.99,Math.max(0,c??aR.defaultOptions.bezierSmoothness));let h=(l6-d)/1;return h*=h,c6(e,r,n,s,i,o,a,l,t,h),t}function c6(t,e,r,n,s,i,o,a,l,c){Qy(t,e,r,n,s,i,o,a,l,c,0),l.push(o,a)}function Qy(t,e,r,n,s,i,o,a,l,c,u){if(u>a6)return;const d=(t+r)/2,h=(e+n)/2,m=(r+s)/2,y=(n+i)/2,g=(s+o)/2,w=(i+a)/2,x=(d+m)/2,v=(h+y)/2,b=(m+g)/2,_=(y+w)/2,C=(x+b)/2,A=(v+_)/2;if(u>0){let E=o-t,S=a-e;const P=Math.abs((r-o)*S-(n-a)*E),T=Math.abs((s-o)*S-(i-a)*E);if(P>rh&&T>rh){if((P+T)*(P+T)<=c*(E*E+S*S)){l.push(C,A);return}}else if(P>rh){if(P*P<=c*(E*E+S*S)){l.push(C,A);return}}else if(T>rh){if(T*T<=c*(E*E+S*S)){l.push(C,A);return}}else if(E=C-(t+o)/2,S=A-(e+a)/2,E*E+S*S<=c){l.push(C,A);return}}Qy(t,e,d,h,x,v,C,A,l,c,u+1),Qy(C,A,b,_,g,w,o,a,l,c,u+1)}const u6=8,d6=11920929e-14,h6=1;function f6(t,e,r,n,s,i,o,a){const c=Math.min(.99,Math.max(0,a??aR.defaultOptions.bezierSmoothness));let u=(h6-c)/1;return u*=u,p6(e,r,n,s,i,o,t,u),t}function p6(t,e,r,n,s,i,o,a){Jy(o,t,e,r,n,s,i,a,0),o.push(s,i)}function Jy(t,e,r,n,s,i,o,a,l){if(l>u6)return;const c=(e+n)/2,u=(r+s)/2,d=(n+i)/2,h=(s+o)/2,m=(c+d)/2,y=(u+h)/2;let g=i-e,w=o-r;const x=Math.abs((n-i)*w-(s-o)*g);if(x>d6){if(x*x<=a*(g*g+w*w)){t.push(m,y);return}}else if(g=m-(e+i)/2,w=y-(r+o)/2,g*g+w*w<=a){t.push(m,y);return}Jy(t,e,r,c,u,m,y,a,l+1),Jy(t,m,y,d,h,i,o,a,l+1)}function cR(t,e,r,n,s,i,o,a){let l=Math.abs(s-i);(!o&&s>i||o&&i>s)&&(l=2*Math.PI-l),a=a||Math.max(6,Math.floor(6*Math.pow(n,1/3)*(l/Math.PI))),a=Math.max(a,3);let c=l/a,u=s;c*=o?-1:1;for(let d=0;d<a+1;d++){const h=Math.cos(u),m=Math.sin(u),y=e+h*n,g=r+m*n;t.push(y,g),u+=c}}function m6(t,e,r,n,s,i){const o=t[t.length-2],l=t[t.length-1]-r,c=o-e,u=s-r,d=n-e,h=Math.abs(l*d-c*u);if(h<1e-8||i===0){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}const m=l*l+c*c,y=u*u+d*d,g=l*u+c*d,w=i*Math.sqrt(m)/h,x=i*Math.sqrt(y)/h,v=w*g/m,b=x*g/y,_=w*d+x*c,C=w*u+x*l,A=c*(x+v),E=l*(x+v),S=d*(w+b),P=u*(w+b),T=Math.atan2(E-C,A-_),U=Math.atan2(P-C,S-_);cR(t,_+e,C+r,i,T,U,c*u>d*l)}const zc=Math.PI*2,Xm={centerX:0,centerY:0,ang1:0,ang2:0},Km=({x:t,y:e},r,n,s,i,o,a,l)=>{t*=r,e*=n;const c=s*t-i*e,u=i*t+s*e;return l.x=c+o,l.y=u+a,l};function g6(t,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:r,s=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:s-i*n,y:i+s*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]}const L_=(t,e,r,n)=>{const s=t*n-e*r<0?-1:1;let i=t*r+e*n;return i>1&&(i=1),i<-1&&(i=-1),s*Math.acos(i)},y6=(t,e,r,n,s,i,o,a,l,c,u,d,h)=>{const m=Math.pow(s,2),y=Math.pow(i,2),g=Math.pow(u,2),w=Math.pow(d,2);let x=m*y-m*w-y*g;x<0&&(x=0),x/=m*w+y*g,x=Math.sqrt(x)*(o===a?-1:1);const v=x*s/i*d,b=x*-i/s*u,_=c*v-l*b+(t+r)/2,C=l*v+c*b+(e+n)/2,A=(u-v)/s,E=(d-b)/i,S=(-u-v)/s,P=(-d-b)/i,T=L_(1,0,A,E);let U=L_(A,E,S,P);a===0&&U>0&&(U-=zc),a===1&&U<0&&(U+=zc),h.centerX=_,h.centerY=C,h.ang1=T,h.ang2=U};function v6(t,e,r,n,s,i,o,a=0,l=0,c=0){if(i===0||o===0)return;const u=Math.sin(a*zc/360),d=Math.cos(a*zc/360),h=d*(e-n)/2+u*(r-s)/2,m=-u*(e-n)/2+d*(r-s)/2;if(h===0&&m===0)return;i=Math.abs(i),o=Math.abs(o);const y=Math.pow(h,2)/Math.pow(i,2)+Math.pow(m,2)/Math.pow(o,2);y>1&&(i*=Math.sqrt(y),o*=Math.sqrt(y)),y6(e,r,n,s,i,o,l,c,u,d,h,m,Xm);let{ang1:g,ang2:w}=Xm;const{centerX:x,centerY:v}=Xm;let b=Math.abs(w)/(zc/4);Math.abs(1-b)<1e-7&&(b=1);const _=Math.max(Math.ceil(b),1);w/=_;let C=t[t.length-2],A=t[t.length-1];const E={x:0,y:0};for(let S=0;S<_;S++){const P=g6(g,w),{x:T,y:U}=Km(P[0],i,o,d,u,x,v,E),{x:F,y:z}=Km(P[1],i,o,d,u,x,v,E),{x:B,y:Y}=Km(P[2],i,o,d,u,x,v,E);lR(t,C,A,T,U,F,z,B,Y),C=B,A=Y,g+=w}}function x6(t,e,r){const n=(o,a)=>{const l=a.x-o.x,c=a.y-o.y,u=Math.sqrt(l*l+c*c),d=l/u,h=c/u;return{len:u,nx:d,ny:h}},s=(o,a)=>{o===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let i=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],l=a.radius??r;if(l<=0){s(o,a),i=a;continue}const c=e[(o+1)%e.length],u=n(a,i),d=n(a,c);if(u.len<1e-4||d.len<1e-4){s(o,a),i=a;continue}let h=Math.asin(u.nx*d.ny-u.ny*d.nx),m=1,y=!1;u.nx*d.nx-u.ny*-d.ny<0?h<0?h=Math.PI+h:(h=Math.PI-h,m=-1,y=!0):h>0&&(m=-1,y=!0);const g=h/2;let w,x=Math.abs(Math.cos(g)*l/Math.sin(g));x>Math.min(u.len/2,d.len/2)?(x=Math.min(u.len/2,d.len/2),w=Math.abs(x*Math.sin(g)/Math.cos(g))):w=l;const v=a.x+d.nx*x+-d.ny*w*m,b=a.y+d.ny*x+d.nx*w*m,_=Math.atan2(u.ny,u.nx)+Math.PI/2*m,C=Math.atan2(d.ny,d.nx)-Math.PI/2*m;o===0&&t.moveTo(v+Math.cos(_)*w,b+Math.sin(_)*w),t.arc(v,b,w,_,C,y),i=a}}function w6(t,e,r,n){const s=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),i=(a,l,c)=>({x:a.x+(l.x-a.x)*c,y:a.y+(l.y-a.y)*c}),o=e.length;for(let a=0;a<o;a++){const l=e[(a+1)%o],c=l.radius??r;if(c<=0){a===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y);continue}const u=e[a],d=e[(a+2)%o],h=s(u,l);let m;if(h<1e-4)m=l;else{const w=Math.min(h/2,c);m=i(l,u,w/h)}const y=s(d,l);let g;if(y<1e-4)g=l;else{const w=Math.min(y/2,c);g=i(l,d,w/y)}a===0?t.moveTo(m.x,m.y):t.lineTo(m.x,m.y),t.quadraticCurveTo(l.x,l.y,g.x,g.y,n)}}const b6=new Jt;class _6{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new xs,this._graphicsPath2D=e}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const n=this._currentPoly.points,s=n[n.length-2],i=n[n.length-1];return(s!==e||i!==r)&&n.push(e,r),this}arc(e,r,n,s,i,o){this._ensurePoly(!1);const a=this._currentPoly.points;return cR(a,e,r,n,s,i,o),this}arcTo(e,r,n,s,i){this._ensurePoly();const o=this._currentPoly.points;return m6(o,e,r,n,s,i),this}arcToSvg(e,r,n,s,i,o,a){const l=this._currentPoly.points;return v6(l,this._currentPoly.lastX,this._currentPoly.lastY,o,a,e,r,n,s,i),this}bezierCurveTo(e,r,n,s,i,o,a){this._ensurePoly();const l=this._currentPoly;return lR(this._currentPoly.points,l.lastX,l.lastY,e,r,n,s,i,o,a),this}quadraticCurveTo(e,r,n,s,i){this._ensurePoly();const o=this._currentPoly;return f6(this._currentPoly.points,o.lastX,o.lastY,e,r,n,s,i),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));for(let n=0;n<e.instructions.length;n++){const s=e.instructions[n];this[s.action](...s.data)}return this}finish(e=!1){this.endPoly(e)}rect(e,r,n,s,i){return this.drawShape(new Jt(e,r,n,s),i),this}circle(e,r,n,s){return this.drawShape(new e0(e,r,n),s),this}poly(e,r,n){const s=new Bc(e);return s.closePath=r,this.drawShape(s,n),this}regularPoly(e,r,n,s,i=0,o){s=Math.max(s|0,3);const a=-1*Math.PI/2+i,l=Math.PI*2/s,c=[];for(let u=0;u<s;u++){const d=u*l+a;c.push(e+n*Math.cos(d),r+n*Math.sin(d))}return this.poly(c,!0,o),this}roundPoly(e,r,n,s,i,o=0,a){if(s=Math.max(s|0,3),i<=0)return this.regularPoly(e,r,n,s,o);const l=n*Math.sin(Math.PI/s)-.001;i=Math.min(i,l);const c=-1*Math.PI/2+o,u=Math.PI*2/s,d=(s-2)*Math.PI/s/2;for(let h=0;h<s;h++){const m=h*u+c,y=e+n*Math.cos(m),g=r+n*Math.sin(m),w=m+Math.PI+d,x=m-Math.PI-d,v=y+i*Math.cos(w),b=g+i*Math.sin(w),_=y+i*Math.cos(x),C=g+i*Math.sin(x);h===0?this.moveTo(v,b):this.lineTo(v,b),this.quadraticCurveTo(y,g,_,C,a)}return this.closePath()}roundShape(e,r,n=!1,s){return e.length<3?this:(n?w6(this,e,r,s):x6(this,e,r),this.closePath())}filletRect(e,r,n,s,i){if(i===0)return this.rect(e,r,n,s);const o=Math.min(n,s)/2,a=Math.min(o,Math.max(-o,i)),l=e+n,c=r+s,u=a<0?-a:0,d=Math.abs(a);return this.moveTo(e,r+d).arcTo(e+u,r+u,e+d,r,d).lineTo(l-d,r).arcTo(l-u,r+u,l,r+d,d).lineTo(l,c-d).arcTo(l-u,c-u,e+n-d,c,d).lineTo(e+d,c).arcTo(e+u,c-u,e,c-d,d).closePath()}chamferRect(e,r,n,s,i,o){if(i<=0)return this.rect(e,r,n,s);const a=Math.min(i,Math.min(n,s)/2),l=e+n,c=r+s,u=[e+a,r,l-a,r,l,r+a,l,c-a,l-a,c,e+a,c,e,c-a,e,r+a];for(let d=u.length-1;d>=2;d-=2)u[d]===u[d-2]&&u[d-1]===u[d-3]&&u.splice(d-1,2);return this.poly(u,!0,o)}ellipse(e,r,n,s,i){return this.drawShape(new t0(e,r,n,s),i),this}roundRect(e,r,n,s,i,o){return this.drawShape(new r0(e,r,n,s,i),o),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let n=this._currentPoly;return n&&this.endPoly(),n=new Bc,n.points.push(e,r),this._currentPoly=n,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Bc,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,s=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const i=r.transform,o=n;n=i.a*n+i.c*s+i.tx,s=i.b*o+i.d*s+i.ty}this._currentPoly.points.push(n,s)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const n=e.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const s=r[n],i=s.shape.getBounds(b6);s.transform?e.addRect(i,s.transform):e.addRect(i)}return e}}class Tl{constructor(e){this.instructions=[],this.uid=er("graphicsPath"),this._dirty=!0,typeof e=="string"?qU(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new _6(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,n,s,i){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(vr.shared);let l=0,c=0;if(!o||o.action!=="bezierCurveTo")l=a.x,c=a.y;else{l=o.data[2],c=o.data[3];const u=a.x,d=a.y;l=u+(u-l),c=d+(d-c)}return this.instructions.push({action:"bezierCurveTo",data:[l,c,e,r,n,s,i]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,n){const s=this.instructions[this.instructions.length-1],i=this.getLastPoint(vr.shared);let o=0,a=0;if(!s||s.action!=="quadraticCurveTo")o=i.x,a=i.y;else{o=s.data[0],a=s.data[1];const l=i.x,c=i.y;o=l+(l-o),a=c+(c-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,e,r,n]}),this._dirty=!0,this}rect(e,r,n,s,i){return this.instructions.push({action:"rect",data:[e,r,n,s,i]}),this._dirty=!0,this}circle(e,r,n,s){return this.instructions.push({action:"circle",data:[e,r,n,s]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,n,s,i,o,a){i=i||s/2;const l=-1*Math.PI/2+o,c=n*2,u=Math.PI*2/c,d=[];for(let h=0;h<c;h++){const m=h%2?i:s,y=h*u+l;d.push(e+m*Math.cos(y),r+m*Math.sin(y))}return this.poly(d,!0,a),this}clone(e=!1){const r=new Tl;if(!e)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const s=this.instructions[n];r.instructions.push({action:s.action,data:s.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,n=e.b,s=e.c,i=e.d,o=e.tx,a=e.ty;let l=0,c=0,u=0,d=0,h=0,m=0,y=0,g=0;for(let w=0;w<this.instructions.length;w++){const x=this.instructions[w],v=x.data;switch(x.action){case"moveTo":case"lineTo":l=v[0],c=v[1],v[0]=r*l+s*c+o,v[1]=n*l+i*c+a;break;case"bezierCurveTo":u=v[0],d=v[1],h=v[2],m=v[3],l=v[4],c=v[5],v[0]=r*u+s*d+o,v[1]=n*u+i*d+a,v[2]=r*h+s*m+o,v[3]=n*h+i*m+a,v[4]=r*l+s*c+o,v[5]=n*l+i*c+a;break;case"quadraticCurveTo":u=v[0],d=v[1],l=v[2],c=v[3],v[0]=r*u+s*d+o,v[1]=n*u+i*d+a,v[2]=r*l+s*c+o,v[3]=n*l+i*c+a;break;case"arcToSvg":l=v[5],c=v[6],y=v[0],g=v[1],v[0]=r*y+s*g,v[1]=n*y+i*g,v[5]=r*l+s*c+o,v[6]=n*l+i*c+a;break;case"circle":v[4]=dc(v[3],e);break;case"rect":v[4]=dc(v[4],e);break;case"ellipse":v[8]=dc(v[8],e);break;case"roundRect":v[5]=dc(v[5],e);break;case"addPath":v[0].transform(e);break;case"poly":v[2]=dc(v[2],e);break;default:Yt("unknown transform action",x.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function dc(t,e){return t?t.prepend(e):e.clone()}function S6(t,e){if(typeof t=="string"){const n=document.createElement("div");n.innerHTML=t.trim(),t=n.querySelector("svg")}const r={context:e,path:new Tl};return uR(t,r,null,null),e}function uR(t,e,r,n){const s=t.children,{fillStyle:i,strokeStyle:o}=C6(t);i&&r?r={...r,...i}:i&&(r=i),o&&n?n={...n,...o}:o&&(n=o),e.context.fillStyle=r,e.context.strokeStyle=n;let a,l,c,u,d,h,m,y,g,w,x,v,b,_,C,A,E;switch(t.nodeName.toLowerCase()){case"path":_=t.getAttribute("d"),C=new Tl(_),e.context.path(C),r&&e.context.fill(),n&&e.context.stroke();break;case"circle":m=sr(t,"cx",0),y=sr(t,"cy",0),g=sr(t,"r",0),e.context.ellipse(m,y,g,g),r&&e.context.fill(),n&&e.context.stroke();break;case"rect":a=sr(t,"x",0),l=sr(t,"y",0),A=sr(t,"width",0),E=sr(t,"height",0),w=sr(t,"rx",0),x=sr(t,"ry",0),w||x?e.context.roundRect(a,l,A,E,w||x):e.context.rect(a,l,A,E),r&&e.context.fill(),n&&e.context.stroke();break;case"ellipse":m=sr(t,"cx",0),y=sr(t,"cy",0),w=sr(t,"rx",0),x=sr(t,"ry",0),e.context.beginPath(),e.context.ellipse(m,y,w,x),r&&e.context.fill(),n&&e.context.stroke();break;case"line":c=sr(t,"x1",0),u=sr(t,"y1",0),d=sr(t,"x2",0),h=sr(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,u),e.context.lineTo(d,h),n&&e.context.stroke();break;case"polygon":b=t.getAttribute("points"),v=b.match(/\d+/g).map(S=>parseInt(S,10)),e.context.poly(v,!0),r&&e.context.fill(),n&&e.context.stroke();break;case"polyline":b=t.getAttribute("points"),v=b.match(/\d+/g).map(S=>parseInt(S,10)),e.context.poly(v,!1),n&&e.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}for(let S=0;S<s.length;S++)uR(s[S],e,r,n)}function sr(t,e,r){const n=t.getAttribute(e);return n?Number(n):r}function C6(t){const e=t.getAttribute("style"),r={},n={};let s=!1,i=!1;if(e){const o=e.split(";");for(let a=0;a<o.length;a++){const l=o[a],[c,u]=l.split(":");switch(c){case"stroke":u!=="none"&&(r.color=Gt.shared.setValue(u).toNumber(),i=!0);break;case"stroke-width":r.width=Number(u);break;case"fill":u!=="none"&&(s=!0,n.color=Gt.shared.setValue(u).toNumber());break;case"fill-opacity":n.alpha=Number(u);break;case"stroke-opacity":r.alpha=Number(u);break;case"opacity":n.alpha=Number(u),r.alpha=Number(u);break}}}else{const o=t.getAttribute("stroke");o&&o!=="none"&&(i=!0,r.color=Gt.shared.setValue(o).toNumber(),r.width=sr(t,"stroke-width",1));const a=t.getAttribute("fill");a&&a!=="none"&&(s=!0,n.color=Gt.shared.setValue(a).toNumber())}return{strokeStyle:i?r:null,fillStyle:s?n:null}}function E6(t){return Gt.isColorLike(t)}function F_(t){return t instanceof _p}function $_(t){return t instanceof Ru}function P6(t,e,r){const n=Gt.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?r.alpha:n.alpha,t.texture=nt.WHITE,{...r,...t}}function B_(t,e,r){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function z_(t,e,r){return e.buildLinearGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function A6(t,e){var s;const r={...e,...t};if(r.texture){if(r.texture!==nt.WHITE){const o=((s=r.matrix)==null?void 0:s.invert())||new ot;o.translate(r.texture.frame.x,r.texture.frame.y),o.scale(1/r.texture.source.width,1/r.texture.source.height),r.matrix=o}const i=r.texture.source.style;i.addressMode==="clamp-to-edge"&&(i.addressMode="repeat",i.update())}const n=Gt.shared.setValue(r.color);return r.alpha*=n.alpha,r.color=n.toNumber(),r.matrix=r.matrix?r.matrix.clone():null,r}function Co(t,e){if(t==null)return null;const r={},n=t;return E6(t)?P6(r,t,e):F_(t)?B_(r,t,e):$_(t)?z_(r,t,e):n.fill&&F_(n.fill)?B_(n,n.fill,e):n.fill&&$_(n.fill)?z_(n,n.fill,e):A6(n,e)}function _f(t,e){const{width:r,alignment:n,miterLimit:s,cap:i,join:o,...a}=e,l=Co(t,a);return l?{width:r,alignment:n,miterLimit:s,cap:i,join:o,...l}:null}const k6=new vr,U_=new ot,s0=class ss extends Jn{constructor(){super(...arguments),this.uid=er("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Tl,this._transform=new ot,this._fillStyle={...ss.defaultFillStyle},this._strokeStyle={...ss.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new xs,this._boundsDirty=!0}clone(){const e=new ss;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Co(e,ss.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=_f(e,ss.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Co(e,ss.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Co(e,ss.defaultStrokeStyle),this}texture(e,r,n,s,i,o){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:s||0,dw:i||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?Gt.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Tl,this}fill(e,r){let n;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="stroke"?n=s.data.path:n=this._activePath.clone(),n?(e!=null&&(r!==void 0&&typeof e=="number"&&(ht(mt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=Co(e,ss.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(vr.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="fill"?r=n.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=_f(e,ss.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,r,n,s,i,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*r+a.tx,a.b*e+a.d*r+a.ty,n,s,i,o),this}arcTo(e,r,n,s,i){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*s+o.tx,o.b*n+o.d*s+o.ty,i),this}arcToSvg(e,r,n,s,i,o,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,r,n,s,i,l.a*o+l.c*a+l.tx,l.b*o+l.d*a+l.ty),this}bezierCurveTo(e,r,n,s,i,o,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*r+l.tx,l.b*e+l.d*r+l.ty,l.a*n+l.c*s+l.tx,l.b*n+l.d*s+l.ty,l.a*i+l.c*o+l.tx,l.b*i+l.d*o+l.ty,a),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,r,n,s){return this._tick++,this._activePath.ellipse(e,r,n,s,this._transform.clone()),this}circle(e,r,n){return this._tick++,this._activePath.circle(e,r,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*r+n.tx,n.b*e+n.d*r+n.ty),this}moveTo(e,r){this._tick++;const n=this._transform,s=this._activePath.instructions,i=n.a*e+n.c*r+n.tx,o=n.b*e+n.d*r+n.ty;return s.length===1&&s[0].action==="moveTo"?(s[0].data[0]=i,s[0].data[1]=o,this):(this._activePath.moveTo(i,o),this)}quadraticCurveTo(e,r,n,s,i){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*s+o.tx,o.b*n+o.d*s+o.ty,i),this}rect(e,r,n,s){return this._tick++,this._activePath.rect(e,r,n,s,this._transform.clone()),this}roundRect(e,r,n,s,i){return this._tick++,this._activePath.roundRect(e,r,n,s,i,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,n,s,i=0,o){return this._tick++,this._activePath.regularPoly(e,r,n,s,i,o),this}roundPoly(e,r,n,s,i,o){return this._tick++,this._activePath.roundPoly(e,r,n,s,i,o),this}roundShape(e,r,n,s){return this._tick++,this._activePath.roundShape(e,r,n,s),this}filletRect(e,r,n,s,i){return this._tick++,this._activePath.filletRect(e,r,n,s,i),this}chamferRect(e,r,n,s,i,o){return this._tick++,this._activePath.chamferRect(e,r,n,s,i,o),this}star(e,r,n,s,i=0,o=0){return this._tick++,this._activePath.star(e,r,n,s,i,o,this._transform.clone()),this}svg(e){return this._tick++,S6(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,n,s,i,o){return e instanceof ot?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,n,s,i,o),this)}transform(e,r,n,s,i,o){return e instanceof ot?(this._transform.append(e),this):(U_.set(e,r,n,s,i,o),this._transform.append(U_),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],s=n.action;if(s==="fill"){const i=n.data;e.addBounds(i.path.bounds)}else if(s==="texture"){const i=n.data;e.addFrame(i.dx,i.dy,i.dx+i.dw,i.dy+i.dh,i.transform)}if(s==="stroke"){const i=n.data,o=i.style.width/2,a=i.path.bounds;e.addFrame(a.minX-o,a.minY-o,a.maxX+o,a.maxY+o)}}return e}containsPoint(e){var s;if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let n=!1;for(let i=0;i<r.length;i++){const o=r[i],a=o.data,l=a.path;if(!o.action||!l)continue;const c=a.style,u=l.shapePath.shapePrimitives;for(let d=0;d<u.length;d++){const h=u[d].shape;if(!c||!h)continue;const m=u[d].transform,y=m?m.applyInverse(e,k6):e;o.action==="fill"?n=h.contains(y.x,y.y):n=h.strokeContains(y.x,y.y,c.width);const g=a.hole;if(g){const w=(s=g.shapePath)==null?void 0:s.shapePrimitives;if(w)for(let x=0;x<w.length;x++)w[x].shape.contains(y.x,y.y)&&(n=!1)}if(n)return!0}}return n}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(n),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(n)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};s0.defaultFillStyle={color:16777215,alpha:1,texture:nt.WHITE,matrix:null,fill:null};s0.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:nt.WHITE,matrix:null,fill:null};let bn=s0;const V_=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function T6(t){const e=[];let r=0;for(let n=0;n<V_.length;n++){const s=`_${V_[n]}`;e[r++]=t[s]}return r=dR(t._fill,e,r),r=R6(t._stroke,e,r),r=M6(t.dropShadow,e,r),e.join("-")}function dR(t,e,r){var n;return t&&(e[r++]=t.color,e[r++]=t.alpha,e[r++]=(n=t.fill)==null?void 0:n.styleKey),r}function R6(t,e,r){return t&&(r=dR(t,e,r),e[r++]=t.width,e[r++]=t.alignment,e[r++]=t.cap,e[r++]=t.join,e[r++]=t.miterLimit),r}function M6(t,e,r){return t&&(e[r++]=t.alpha,e[r++]=t.angle,e[r++]=t.blur,e[r++]=t.distance,e[r++]=Gt.shared.setValue(t.color).toNumber()),r}const i0=class wa extends Jn{constructor(e={}){super(),j6(e);const r={...wa.defaultTextStyle,...e};for(const n in r){const s=n;this[s]=r[n]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...wa.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...wa.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...bn.defaultFillStyle,...e},()=>{this._fill=Co({...this._originalFill},bn.defaultFillStyle)})),this._fill=Co(e===0?"black":e,bn.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...bn.defaultStrokeStyle,...e},()=>{this._stroke=_f({...this._originalStroke},bn.defaultStrokeStyle)})),this._stroke=_f(e,bn.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=T6(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=wa.defaultTextStyle;for(const r in e)this[r]=e[r]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new wa({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){var n,s,i,o;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(n=this._fill)!=null&&n.texture&&this._fill.texture.destroy(a),(s=this._originalFill)!=null&&s.texture&&this._originalFill.texture.destroy(a),(i=this._stroke)!=null&&i.texture&&this._stroke.texture.destroy(a),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,r){return new Proxy(e,{set:(n,s,i)=>(n[s]=i,r==null||r(s,i),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Gt.isColorLike(e)||e instanceof Ru||e instanceof _p)}};i0.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};i0.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Nu=i0;function j6(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const r=Nu.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??r.alpha,angle:e.dropShadowAngle??r.angle,blur:e.dropShadowBlur??r.blur,color:e.dropShadowColor??r.color,distance:e.dropShadowDistance??r.distance}}if(e.strokeThickness!==void 0){ht(mt,"strokeThickness is now a part of stroke");const r=e.stroke;let n={};if(Gt.isColorLike(r))n.color=r;else if(r instanceof Ru||r instanceof _p)n.fill=r;else if(Object.hasOwnProperty.call(r,"color")||Object.hasOwnProperty.call(r,"fill"))n=r;else throw new Error("Invalid stroke value.");t.stroke={...n,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){ht(mt,"gradient fill is now a fill pattern: `new FillGradient(...)`");let r;t.fontSize==null?t.fontSize=Nu.defaultTextStyle.fontSize:typeof t.fontSize=="string"?r=parseInt(t.fontSize,10):r=t.fontSize;const n=new Ru(0,0,0,r*1.7),s=e.fillGradientStops.map(i=>Gt.shared.setValue(i).toNumber());s.forEach((i,o)=>{const a=o/(s.length-1);n.addColorStop(a,i)}),t.fill={fill:n}}}class N6{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,r){const n=zt.get().createCanvas();n.width=e,n.height=r;const s=n.getContext("2d");return{canvas:n,context:s}}getOptimalCanvasAndContext(e,r,n=1){e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),e=Jb(e),r=Jb(r);const s=(e<<17)+(r<<1);this._canvasPool[s]||(this._canvasPool[s]=[]);let i=this._canvasPool[s].pop();return i||(i=this._createCanvasAndContext(e,r)),i}returnCanvasAndContext(e){const r=e.canvas,{width:n,height:s}=r,i=(n<<17)+(s<<1);e.context.clearRect(0,0,n,s),this._canvasPool[i].push(e)}clear(){this._canvasPool={}}}const W_=new N6,I6=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function ev(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let s=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!I6.includes(s)&&(s=`"${s}"`),r[n]=s}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${r.join(",")}`}const qm={willReadFrequently:!0},es=class ye{static get experimentalLetterSpacingSupported(){let e=ye._experimentalLetterSpacingSupported;if(e!==void 0){const r=zt.get().getCanvasRenderingContext2D().prototype;e=ye._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,s,i,o,a,l,c){this.text=e,this.style=r,this.width=n,this.height=s,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}static measureText(e=" ",r,n=ye._canvas,s=r.wordWrap){var v;const i=`${e}:${r.styleKey}`;if(ye._measurementCache[i])return ye._measurementCache[i];const o=ev(r),a=ye.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const l=ye.__context;l.font=o;const u=(s?ye._wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),d=new Array(u.length);let h=0;for(let b=0;b<u.length;b++){const _=ye._measureText(u[b],r.letterSpacing,l);d[b]=_,h=Math.max(h,_)}const m=((v=r._stroke)==null?void 0:v.width)||0;let y=h+m;r.dropShadow&&(y+=r.dropShadow.distance);const g=r.lineHeight||a.fontSize;let w=Math.max(g,a.fontSize+m)+(u.length-1)*(g+r.leading);return r.dropShadow&&(w+=r.dropShadow.distance),new ye(e,r,y,w,u,d,g+r.leading,h,a)}static _measureText(e,r,n){let s=!1;ye.experimentalLetterSpacingSupported&&(ye.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));const i=n.measureText(e);let o=i.width;const a=-i.actualBoundingBoxLeft;let c=i.actualBoundingBoxRight-a;if(o>0)if(s)o-=r,c-=r;else{const u=(ye.graphemeSegmenter(e).length-1)*r;o+=u,c+=u}return Math.max(o,c)}static _wordWrap(e,r,n=ye._canvas){const s=n.getContext("2d",qm);let i=0,o="",a="";const l=Object.create(null),{letterSpacing:c,whiteSpace:u}=r,d=ye._collapseSpaces(u),h=ye._collapseNewlines(u);let m=!d;const y=r.wordWrapWidth+c,g=ye._tokenize(e);for(let w=0;w<g.length;w++){let x=g[w];if(ye._isNewline(x)){if(!h){a+=ye._addLine(o),m=!d,o="",i=0;continue}x=" "}if(d){const b=ye.isBreakingSpace(x),_=ye.isBreakingSpace(o[o.length-1]);if(b&&_)continue}const v=ye._getFromCache(x,c,l,s);if(v>y)if(o!==""&&(a+=ye._addLine(o),o="",i=0),ye.canBreakWords(x,r.breakWords)){const b=ye.wordWrapSplit(x);for(let _=0;_<b.length;_++){let C=b[_],A=C,E=1;for(;b[_+E];){const P=b[_+E];if(!ye.canBreakChars(A,P,x,_,r.breakWords))C+=P;else break;A=P,E++}_+=E-1;const S=ye._getFromCache(C,c,l,s);S+i>y&&(a+=ye._addLine(o),m=!1,o="",i=0),o+=C,i+=S}}else{o.length>0&&(a+=ye._addLine(o),o="",i=0);const b=w===g.length-1;a+=ye._addLine(x,!b),m=!1,o="",i=0}else v+i>y&&(m=!1,a+=ye._addLine(o),o="",i=0),(o.length>0||!ye.isBreakingSpace(x)||m)&&(o+=x,i+=v)}return a+=ye._addLine(o,!1),a}static _addLine(e,r=!0){return e=ye._trimRight(e),e=r?`${e}
`:e,e}static _getFromCache(e,r,n,s){let i=n[e];return typeof i!="number"&&(i=ye._measureText(e,r,s)+r,n[e]=i),i}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ye.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:ye._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ye._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let s=0;s<e.length;s++){const i=e[s],o=e[s+1];if(ye.isBreakingSpace(i,o)||ye._isNewline(i)){n!==""&&(r.push(n),n=""),r.push(i);continue}n+=i}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,s,i){return!0}static wordWrapSplit(e){return ye.graphemeSegmenter(e)}static measureFont(e){if(ye._fonts[e])return ye._fonts[e];const r=ye._context;r.font=e;const n=r.measureText(ye.METRICS_STRING+ye.BASELINE_SYMBOL),s={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return ye._fonts[e]=s,s}static clearMetrics(e=""){e?delete ye._fonts[e]:ye._fonts={}}static get _canvas(){if(!ye.__canvas){let e;try{const r=new OffscreenCanvas(0,0),n=r.getContext("2d",qm);if(n!=null&&n.measureText)return ye.__canvas=r,r;e=zt.get().createCanvas()}catch{e=zt.get().createCanvas()}e.width=e.height=10,ye.__canvas=e}return ye.__canvas}static get _context(){return ye.__context||(ye.__context=ye._canvas.getContext("2d",qm)),ye.__context}};es.METRICS_STRING="|ÉqÅ";es.BASELINE_SYMBOL="M";es.BASELINE_MULTIPLIER=1.4;es.HEIGHT_MULTIPLIER=2;es.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();es.experimentalLetterSpacing=!1;es._fonts={};es._newlines=[10,13];es._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];es._measurementCache={};let H_=es;function G_(t,e){if(t.texture===nt.WHITE&&!t.fill)return Gt.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof _p){const r=t.fill,n=e.createPattern(r.texture.source.resource,"repeat"),s=r.transform.copyTo(ot.shared);return s.scale(r.texture.frame.width,r.texture.frame.height),n.setTransform(s),n}else if(t.fill instanceof Ru){const r=t.fill;if(r.type==="linear"){const n=e.createLinearGradient(r.x0,r.y0,r.x1,r.y1);return r.gradientStops.forEach(s=>{n.addColorStop(s.offset,Gt.shared.setValue(s.color).toHex())}),n}}}else{const r=e.createPattern(t.texture.source.resource,"repeat"),n=t.matrix.copyTo(ot.shared);return n.scale(t.texture.frame.width,t.texture.frame.height),r.setTransform(n),r}return Yt("FillStyle not recognised",t),"red"}function hR(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);if(s[0].length===0||s[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const i=s[0].charCodeAt(0),o=s[1].charCodeAt(0);if(o<i)throw new Error("[BitmapFont]: Invalid character range.");for(let a=i,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const fR=class pR extends YT{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const r={...pR.defaultOptions,...e};this._textureSize=r.textureSize,this._mipmap=r.mipmap;const n=r.style.clone();r.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=nt.WHITE,n._fill.fill=null),this.applyFillAsTint=r.overrideFill;const s=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const i=ev(n);r.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/s):n.fontSize=this.baseRenderedFontSize=s,this._style=n,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,this.fontMetrics=H_.measureFont(i),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){var y,g;const r=hR(e).filter(w=>!this._currentChars.includes(w)).filter((w,x,v)=>v.indexOf(w)===x);if(!r.length)return;this._currentChars=[...this._currentChars,...r];let n;this._currentPageIndex===-1?n=this._nextPage():n=this.pages[this._currentPageIndex];let{canvas:s,context:i}=n.canvasAndContext,o=n.texture.source;const a=this._style;let l=this._currentX,c=this._currentY;const u=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*u;let h=0,m=!1;for(let w=0;w<r.length;w++){const x=r[w],v=H_.measureText(x,a,s,!1),b=Math.ceil((a.fontStyle==="italic"?2:1)*v.width);v.lineHeight=v.height;const _=v.width*u,C=v.height*u,A=b+d*2,E=C+d*2;if(m=!1,x!==`
`&&x!=="\r"&&x!=="	"&&x!==" "&&(m=!0,h=Math.ceil(Math.max(E,h))),l+A>this._textureSize&&(c+=h,h=E,l=0,c+h>this._textureSize)){o.update();const P=this._nextPage();s=P.canvasAndContext.canvas,i=P.canvasAndContext.context,o=P.texture.source,c=0}const S=_/u-(((y=a.dropShadow)==null?void 0:y.distance)??0)-(((g=a._stroke)==null?void 0:g.width)??0);if(this.chars[x]={id:x.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:S,kerning:{}},m){this._drawGlyph(i,v,l+d,c+d,u,a);const P=o.width*u,T=o.height*u,U=new Jt(l/P*o.width,c/T*o.height,A/P*o.width,E/T*o.height);this.chars[x].texture=new nt({source:o,frame:U}),l+=Math.ceil(A)}}o.update(),this._currentX=l,this._currentY=c,this._skipKerning&&this._applyKerning(r,i)}get pageTextures(){return ht(mt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,r){const n=this._measureCache;for(let s=0;s<e.length;s++){const i=e[s];for(let o=0;o<this._currentChars.length;o++){const a=this._currentChars[o];let l=n[i];l||(l=n[i]=r.measureText(i).width);let c=n[a];c||(c=n[a]=r.measureText(a).width);let u=r.measureText(i+a).width,d=u-(l+c);d&&(this.chars[i].kerning[a]=d),u=r.measureText(i+a).width,d=u-(l+c),d&&(this.chars[a].kerning[i]=d)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,r=W_.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(r.context,this._style,e);const n=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),s=new nt({source:new zl({resource:r.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),i={canvasAndContext:r,texture:s};return this.pages[this._currentPageIndex]=i,i}_setupContext(e,r,n){r.fontSize=this.baseRenderedFontSize,e.scale(n,n),e.font=ev(r),r.fontSize=this.baseMeasurementFontSize,e.textBaseline=r.textBaseline;const s=r._stroke,i=(s==null?void 0:s.width)??0;if(s&&(e.lineWidth=i,e.lineJoin=s.join,e.miterLimit=s.miterLimit,e.strokeStyle=G_(s,e)),r._fill&&(e.fillStyle=G_(r._fill,e)),r.dropShadow){const o=r.dropShadow,a=Gt.shared.setValue(o.color).toArray(),l=o.blur*n,c=o.distance*n;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${o.alpha})`,e.shadowBlur=l,e.shadowOffsetX=Math.cos(o.angle)*c,e.shadowOffsetY=Math.sin(o.angle)*c}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,r,n,s,i,o){const a=r.text,l=r.fontProperties,c=o._stroke,u=((c==null?void 0:c.width)??0)*i,d=n+u/2,h=s-u/2,m=l.descent*i,y=r.lineHeight*i;o.stroke&&u&&e.strokeText(a,d,h+y-m),o._fill&&e.fillText(a,d,h+y-m)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:r,texture:n}=this.pages[e];W_.returnCanvasAndContext(r),n.destroy(!0)}this.pages=null}};fR.defaultOptions={textureSize:512,style:new Nu,mipmap:!0};let Y_=fR;function O6(t,e,r,n){const s={width:0,height:0,offsetY:0,scale:e.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};s.offsetY=r.baseLineOffset;let i=s.lines[0],o=null,a=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},c=y=>{const g=i.width;for(let w=0;w<l.index;w++){const x=y.positions[w];i.chars.push(y.chars[w]),i.charPositions.push(x+g)}i.width+=y.width,a=!1,l.width=0,l.index=0,l.chars.length=0},u=()=>{let y=i.chars.length-1;if(n){let g=i.chars[y];for(;g===" ";)i.width-=r.chars[g].xAdvance,g=i.chars[--y]}s.width=Math.max(s.width,i.width),i={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,s.lines.push(i),s.height+=r.lineHeight},d=r.baseMeasurementFontSize/e.fontSize,h=e.letterSpacing*d,m=e.wordWrapWidth*d;for(let y=0;y<t.length+1;y++){let g;const w=y===t.length;w||(g=t[y]);const x=r.chars[g]||r.chars[" "];if(/(?:\s)/.test(g)||g==="\r"||g===`
`||w){if(!a&&e.wordWrap&&i.width+l.width-h>m?(u(),c(l),w||i.charPositions.push(0)):(l.start=i.width,c(l),w||i.charPositions.push(0)),g==="\r"||g===`
`)i.width!==0&&u();else if(!w){const C=x.xAdvance+(x.kerning[o]||0)+h;i.width+=C,i.spaceWidth=C,i.spacesIndex.push(i.charPositions.length),i.chars.push(g)}}else{const _=x.kerning[o]||0,C=x.xAdvance+_+h;l.positions[l.index++]=l.width+_,l.chars.push(g),l.width+=C}o=g}return u(),e.align==="center"?D6(s):e.align==="right"?L6(s):e.align==="justify"&&F6(s),s}function D6(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width/2-r.width/2;for(let s=0;s<r.charPositions.length;s++)r.charPositions[s]+=n}}function L6(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width-r.width;for(let s=0;s<r.charPositions.length;s++)r.charPositions[s]+=n}}function F6(t){const e=t.width;for(let r=0;r<t.lines.length;r++){const n=t.lines[r];let s=0,i=n.spacesIndex[s++],o=0;const a=n.spacesIndex.length,c=(e-n.width)/a;for(let u=0;u<n.charPositions.length;u++)u===i&&(i=n.spacesIndex[s++],o+=c),n.charPositions[u]+=o}}let nh=0;class $6{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,r){var o;let n=`${r.fontFamily}-bitmap`,s=!0;if(r._fill.fill&&!r._stroke)n+=r._fill.fill.styleKey,s=!1;else if(r._stroke||r.dropShadow){let a=r.styleKey;a=a.substring(0,a.lastIndexOf("-")),n=`${a}-bitmap`,s=!1}if(!$t.has(n)){const a=new Y_({style:r,overrideFill:s,overrideSize:!0,...this.defaultOptions});nh++,nh>50&&Yt("BitmapText",`You have dynamically created ${nh} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),a.once("destroy",()=>{nh--,$t.remove(n)}),$t.set(n,a)}const i=$t.get(n);return(o=i.ensureCharacters)==null||o.call(i,e),i}getLayout(e,r,n=!0){const s=this.getFont(e,r);return O6([...e],r,s,n)}measureText(e,r,n=!0){return this.getLayout(e,r,n)}install(...e){var c,u,d,h;let r=e[0];typeof r=="string"&&(r={name:r,style:e[1],chars:(c=e[2])==null?void 0:c.chars,resolution:(u=e[2])==null?void 0:u.resolution,padding:(d=e[2])==null?void 0:d.padding,skipKerning:(h=e[2])==null?void 0:h.skipKerning},ht(mt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const n=r==null?void 0:r.name;if(!n)throw new Error("[BitmapFontManager] Property `name` is required.");r={...this.defaultOptions,...r};const s=r.style,i=s instanceof Nu?s:new Nu(s),o=i._fill.fill!==null&&i._fill.fill!==void 0,a=new Y_({style:i,overrideFill:o,skipKerning:r.skipKerning,padding:r.padding,resolution:r.resolution,overrideSize:!1}),l=hR(r.chars);return a.ensureCharacters(l.join("")),$t.set(`${n}-bitmap`,a),a.once("destroy",()=>$t.remove(`${n}-bitmap`)),a}uninstall(e){const r=`${e}-bitmap`,n=$t.get(r);n&&n.destroy()}}const X_=new $6;class mR extends YT{constructor(e,r){super();const{textures:n,data:s}=e;Object.keys(s.pages).forEach(i=>{const o=s.pages[parseInt(i,10)],a=n[o.id];this.pages.push({texture:a})}),Object.keys(s.chars).forEach(i=>{const o=s.chars[i],{frame:a,source:l}=n[o.page],c=new Jt(o.x+a.x,o.y+a.y,o.width,o.height),u=new nt({source:l,frame:c});this.chars[i]={id:i.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:u}}),this.baseRenderedFontSize=s.fontSize,this.baseMeasurementFontSize=s.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:s.fontSize},this.baseLineOffset=s.baseLineOffset,this.lineHeight=s.lineHeight,this.fontFamily=s.fontFamily,this.distanceField=s.distanceField??{type:"none",range:0},this.url=r}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:r}=this.pages[e];r.destroy(!0)}this.pages=null}static install(e){X_.install(e)}static uninstall(e){X_.uninstall(e)}}const Zm={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const d in e){const h=e[d].match(/^[a-z]+/gm)[0],m=e[d].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),y={};for(const g in m){const w=m[g].split("="),x=w[0],v=w[1].replace(/"/gm,""),b=parseFloat(v),_=isNaN(b)?v:b;y[x]=_}r[h].push(y)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[s]=r.info,[i]=r.common,[o]=r.distanceField??[];o&&(n.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),n.fontSize=parseInt(s.size,10),n.fontFamily=s.face,n.lineHeight=parseInt(i.lineHeight,10);const a=r.page;for(let d=0;d<a.length;d++)n.pages.push({id:parseInt(a[d].id,10)||0,file:a[d].file});const l={};n.baseLineOffset=n.lineHeight-parseInt(i.base,10);const c=r.char;for(let d=0;d<c.length;d++){const h=c[d],m=parseInt(h.id,10);let y=h.letter??h.char??String.fromCharCode(m);y==="space"&&(y=" "),l[m]=y,n.chars[y]={id:m,page:parseInt(h.page,10)||0,x:parseInt(h.x,10),y:parseInt(h.y,10),width:parseInt(h.width,10),height:parseInt(h.height,10),xOffset:parseInt(h.xoffset,10),yOffset:parseInt(h.yoffset,10),xAdvance:parseInt(h.xadvance,10),kerning:{}}}const u=r.kerning||[];for(let d=0;d<u.length;d++){const h=parseInt(u[d].first,10),m=parseInt(u[d].second,10),y=parseInt(u[d].amount,10);n.chars[l[m]].kerning[l[h]]=y}return n}},K_={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},r=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("distanceField")[0];s&&(e.distanceField={type:s.getAttribute("fieldType"),range:parseInt(s.getAttribute("distanceRange"),10)});const i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(r.getAttribute("size"),10),e.fontFamily=r.getAttribute("face"),e.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let c=0;c<i.length;c++)e.pages.push({id:parseInt(i[c].getAttribute("id"),10)||0,file:i[c].getAttribute("file")});const l={};e.baseLineOffset=e.lineHeight-parseInt(n.getAttribute("base"),10);for(let c=0;c<o.length;c++){const u=o[c],d=parseInt(u.getAttribute("id"),10);let h=u.getAttribute("letter")??u.getAttribute("char")??String.fromCharCode(d);h==="space"&&(h=" "),l[d]=h,e.chars[h]={id:d,page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xOffset:parseInt(u.getAttribute("xoffset"),10),yOffset:parseInt(u.getAttribute("yoffset"),10),xAdvance:parseInt(u.getAttribute("xadvance"),10),kerning:{}}}for(let c=0;c<a.length;c++){const u=parseInt(a[c].getAttribute("first"),10),d=parseInt(a[c].getAttribute("second"),10),h=parseInt(a[c].getAttribute("amount"),10);e.chars[l[d]].kerning[l[u]]=h}return e}},q_={test(t){return typeof t=="string"&&t.includes("<font>")?K_.test(zt.get().parseXML(t)):!1},parse(t){return K_.parse(zt.get().parseXML(t))}},B6=[".xml",".fnt"],z6={extension:{type:we.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof mR,getCacheableAssets(t,e){const r={};return t.forEach(n=>{r[n]=e,r[`${n}-bitmap`]=e}),r[`${e.fontFamily}-bitmap`]=e,r}},U6={extension:{type:we.LoadParser,priority:lo.Normal},name:"loadBitmapFont",test(t){return B6.includes(un.extname(t).toLowerCase())},async testParse(t){return Zm.test(t)||q_.test(t)},async parse(t,e,r){const n=Zm.test(t)?Zm.parse(t):q_.parse(t),{src:s}=e,{pages:i}=n,o=[],a=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let d=0;d<i.length;++d){const h=i[d].file;let m=un.join(un.dirname(s),h);m=zy(m,s),o.push({src:m,data:a})}const l=await r.load(o),c=o.map(d=>l[d.src]);return new mR({data:n,textures:c},s)},async load(t,e){return await(await zt.get().fetch(t)).text()},async unload(t,e,r){await Promise.all(t.pages.map(n=>r.unload(n.texture.source._sourceOrigin))),t.destroy()}};class V6{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const W6={extension:{type:we.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof nt),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((s,i)=>{r[n+(i===0?"":i+1)]=s})}),r}};async function gR(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const H6={extension:{type:we.DetectionParser,priority:1},test:async()=>gR("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},Z_=["png","jpg","jpeg"],G6={extension:{type:we.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Z_],remove:async t=>t.filter(e=>!Z_.includes(e))},Y6="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function o0(t){return Y6?!1:document.createElement("video").canPlayType(t)!==""}const X6={extension:{type:we.DetectionParser,priority:0},test:async()=>o0("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},K6={extension:{type:we.DetectionParser,priority:0},test:async()=>o0("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},q6={extension:{type:we.DetectionParser,priority:0},test:async()=>o0("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},Z6={extension:{type:we.DetectionParser,priority:0},test:async()=>gR("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class Q6{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let s=null,i=null;if(r.loadParser&&(i=this._parserHash[r.loadParser],i||Yt(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!i){for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.load&&((o=c.test)!=null&&o.call(c,e,r,this))){i=c;break}}if(!i)return Yt(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await i.load(e,r,this),n.parser=i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];c.parse&&c.parse&&await((a=c.testParse)==null?void 0:a.call(c,s,r,this))&&(s=await c.parse(s,r,this)||s,n.parser=c)}return s})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const s={},i=bf(e),o=Un(e,c=>({alias:[c],src:c,data:{}})),a=o.length,l=o.map(async c=>{const u=un.toAbsolute(c.src);if(!s[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),s[c.src]=await this.promiseCache[u].promise,r&&r(++n/a)}catch(d){throw delete this.promiseCache[u],delete s[c.src],new Error(`[Loader.load] Failed to load ${u}.
${d}`)}});return await Promise.all(l),i?s[o[0].src]:s}async unload(e){const n=Un(e,s=>({alias:[s],src:s})).map(async s=>{var a,l;const i=un.toAbsolute(s.src),o=this.promiseCache[i];if(o){const c=await o.promise;delete this.promiseCache[i],await((l=(a=o.parser)==null?void 0:a.unload)==null?void 0:l.call(a,c,s,this))}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(r.name?e[r.name]&&Yt(`[Assets] loadParser name conflict "${r.name}"`):Yt("[Assets] loadParser should have a name"),{...e,[r.name]:r}),{})}}function Vl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Wl(t,e){const r=t.split("?")[0],n=un.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const J6=".json",e8="application/json",t8={extension:{type:we.LoadParser,priority:lo.Low},name:"loadJson",test(t){return Vl(t,e8)||Wl(t,J6)},async load(t){return await(await zt.get().fetch(t)).json()}},r8=".txt",n8="text/plain",s8={name:"loadTxt",extension:{type:we.LoadParser,priority:lo.Low,name:"loadTxt"},test(t){return Vl(t,n8)||Wl(t,r8)},async load(t){return await(await zt.get().fetch(t)).text()}},i8=["normal","bold","100","200","300","400","500","600","700","800","900"],o8=[".ttf",".otf",".woff",".woff2"],a8=["font/ttf","font/otf","font/woff","font/woff2"],l8=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function c8(t){const e=un.extname(t),s=un.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let i=s.length>0;for(const a of s)if(!a.match(l8)){i=!1;break}let o=s.join(" ");return i||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const u8=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function d8(t){return u8.test(t)?t:encodeURI(t)}const h8={extension:{type:we.LoadParser,priority:lo.Low},name:"loadWebFont",test(t){return Vl(t,a8)||Wl(t,o8)},async load(t,e){var n,s,i;const r=zt.get().getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??c8(t),l=((i=(s=e.data)==null?void 0:s.weights)==null?void 0:i.filter(u=>i8.includes(u)))??["normal"],c=e.data??{};for(let u=0;u<l.length;u++){const d=l[u],h=new FontFace(a,`url(${d8(t)})`,{...c,weight:d});await h.load(),r.add(h),o.push(h)}return $t.set(`${a}-and-url`,{url:t,fontFaces:o}),o.length===1?o[0]:o}return Yt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>{$t.remove(e.family),zt.get().getFontFaceSet().delete(e)})}};function a0(t,e=1){var n;const r=(n=Ul.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}function l0(t,e,r){t.label=r,t._sourceOrigin=r;const n=new nt({source:t,label:r}),s=()=>{delete e.promiseCache[r],$t.has(r)&&$t.remove(r)};return n.source.once("destroy",()=>{e.promiseCache[r]&&(Yt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),s())}),n.once("destroy",()=>{t.destroyed||(Yt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const f8=".svg",p8="image/svg+xml",m8={extension:{type:we.LoadParser,priority:lo.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return Vl(t,p8)||Wl(t,f8)},async load(t,e,r){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?y8(t):g8(t,e,r,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function g8(t,e,r,n){var w,x,v;const i=await(await zt.get().fetch(t)).blob(),o=URL.createObjectURL(i),a=new Image;a.src=o,a.crossOrigin=n,await a.decode(),URL.revokeObjectURL(o);const l=document.createElement("canvas"),c=l.getContext("2d"),u=((w=e.data)==null?void 0:w.resolution)||a0(t),d=((x=e.data)==null?void 0:x.width)??a.width,h=((v=e.data)==null?void 0:v.height)??a.height;l.width=d*u,l.height=h*u,c.drawImage(a,0,0,d*u,h*u);const{parseAsGraphicsContext:m,...y}=e.data,g=new zl({resource:l,alphaMode:"premultiply-alpha-on-upload",resolution:u,...y});return l0(g,r,t)}async function y8(t){const r=await(await zt.get().fetch(t)).text(),n=new bn;return n.svg(r),n}const v8=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Za=null,tv=class{constructor(){Za||(Za=URL.createObjectURL(new Blob([v8],{type:"application/javascript"}))),this.worker=new Worker(Za)}};tv.revokeObjectURL=function(){Za&&(URL.revokeObjectURL(Za),Za=null)};const x8=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Qa=null;class yR{constructor(){Qa||(Qa=URL.createObjectURL(new Blob([x8],{type:"application/javascript"}))),this.worker=new Worker(Qa)}}yR.revokeObjectURL=function(){Qa&&(URL.revokeObjectURL(Qa),Qa=null)};let Q_=0,Qm;class w8{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new tv;r.addEventListener("message",n=>{r.terminate(),tv.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,r){var n;return this._run("loadImageBitmap",[e,(n=r==null?void 0:r.data)==null?void 0:n.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Qm===void 0&&(Qm=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Qm&&(this._createdWorkers++,e=new yR().worker,e.addEventListener("message",r=>{this._complete(r.data),this._returnWorker(r.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((s,i)=>{this._queue.push({id:e,arguments:r,resolve:s,reject:i})});return this._next(),n}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const r=this._queue.pop(),n=r.id;this._resolveHash[Q_]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Q_++,id:n})}}const J_=new w8,b8=[".jpeg",".jpg",".png",".webp",".avif"],_8=["image/jpeg","image/png","image/webp","image/avif"];async function S8(t,e){var s;const r=await zt.get().fetch(t);if(!r.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${r.status} ${r.statusText}`);const n=await r.blob();return((s=e==null?void 0:e.data)==null?void 0:s.alphaMode)==="premultiplied-alpha"?createImageBitmap(n,{premultiplyAlpha:"none"}):createImageBitmap(n)}const vR={name:"loadTextures",extension:{type:we.LoadParser,priority:lo.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Vl(t,_8)||Wl(t,b8)},async load(t,e,r){var i;let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await J_.isImageBitmapSupported()?n=await J_.loadImageBitmap(t,e):n=await S8(t,e):n=await new Promise(o=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?o(n):n.onload=()=>{o(n)}});const s=new zl({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:((i=e.data)==null?void 0:i.resolution)||a0(t),...e.data});return l0(s,r,t)},unload(t){t.destroy(!0)}},xR=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],C8=xR.map(t=>`video/${t.substring(1)}`);function E8(t,e,r){r===void 0&&!e.startsWith("data:")?t.crossOrigin=A8(e):r!==!1&&(t.crossOrigin=typeof r=="string"?r:"anonymous")}function P8(t){return new Promise((e,r)=>{t.addEventListener("canplaythrough",n),t.addEventListener("error",s),t.load();function n(){i(),e()}function s(o){i(),r(o)}function i(){t.removeEventListener("canplaythrough",n),t.removeEventListener("error",s)}})}function A8(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}const k8={name:"loadVideo",extension:{type:we.LoadParser,name:"loadVideo"},test(t){const e=Vl(t,C8),r=Wl(t,xR);return e||r},async load(t,e,r){var l,c;const n={...wh.defaultOptions,resolution:((l=e.data)==null?void 0:l.resolution)||a0(t),alphaMode:((c=e.data)==null?void 0:c.alphaMode)||await ST(),...e.data},s=document.createElement("video"),i={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(i).forEach(u=>{const d=i[u];d!==void 0&&s.setAttribute(u,d)}),n.muted===!0&&(s.muted=!0),E8(s,t,n.crossorigin);const o=document.createElement("source");let a;if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const u=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=wh.MIME_TYPES[u]||`video/${u}`}return o.src=t,a&&(o.type=a),new Promise(u=>{const d=async()=>{const h=new wh({...n,resource:s});s.removeEventListener("canplay",d),e.data.preload&&await P8(s),u(l0(h,r,t))};s.addEventListener("canplay",d),s.appendChild(o)})},unload(t){t.destroy(!0)}},wR={extension:{type:we.ResolveParser,name:"resolveTexture"},test:vR.test,parse:t=>{var e;return{resolution:parseFloat(((e=Ul.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},T8={extension:{type:we.ResolveParser,priority:-2,name:"resolveJson"},test:t=>Ul.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:wR.parse};class R8{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Ul,this.loader=new Q6,this.cache=$t,this._backgroundLoader=new V6(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var i,o;if(this._initialized){Yt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((i=e.texturePreference)==null?void 0:i.resolution)??1,n=typeof r=="number"?[r]:r,s=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,r){this._initialized||await this.init();const n=bf(e),s=Un(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),i=this.resolver.resolve(s),o=await this._mapLoadToResolve(i,r);return n?o[s[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),i={},o=Object.keys(s);let a=0,l=0;const c=()=>{r==null||r(++a/l)},u=o.map(d=>{const h=s[d];return l+=Object.keys(h).length,this._mapLoadToResolve(h,c).then(m=>{i[d]=m})});return await Promise.all(u),n?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return $t.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=$t.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const i={};return n.forEach(o=>{const a=s[o.src],l=[o.src];o.alias&&l.push(...o.alias),l.forEach(c=>{i[c]=a}),$t.set(l,a)}),i}async unload(e){this._initialized||await this.init();const r=Un(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Un(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(s=>this._unloadFromResolved(r[s]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{$t.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,s)=>r.indexOf(n)===s),r}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const La=new R8;jr.handleByList(we.LoadParser,La.loader.parsers).handleByList(we.ResolveParser,La.resolver.parsers).handleByList(we.CacheParser,La.cache.parsers).handleByList(we.DetectionParser,La.detections);jr.add(W6,G6,H6,Z6,X6,K6,q6,t8,s8,h8,m8,vR,k8,U6,z6,wR,T8);const e1={loader:we.LoadParser,resolver:we.ResolveParser,cache:we.CacheParser,detection:we.DetectionParser};jr.handle(we.Asset,t=>{const e=t.ref;Object.entries(e1).filter(([r])=>!!e[r]).forEach(([r,n])=>jr.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(e1).filter(r=>!!e[r]).forEach(r=>jr.remove(e[r]))});class Iu extends pT{constructor(e){e instanceof bn&&(e={context:e});const{context:r,roundPixels:n,...s}=e||{};super({label:"Graphics",...s}),this.renderPipeId="graphics",r?this._context=r:this._context=this._ownedContext=new bn,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(e){e.addBounds(this._context.bounds)}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Iu(this._context.clone()):(this._ownedContext=null,new Iu(this._context))}lineStyle(e,r,n){ht(mt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const s={};return e&&(s.width=e),r&&(s.color=r),n&&(s.alpha=n),this.context.strokeStyle=s,this}beginFill(e,r){ht(mt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e&&(n.color=e),r&&(n.alpha=r),this.context.fillStyle=n,this}endFill(){ht(mt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==bn.defaultStrokeStyle.width||e.color!==bn.defaultStrokeStyle.color||e.alpha!==bn.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return ht(mt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return ht(mt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return ht(mt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return ht(mt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return ht(mt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return ht(mt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}jr.add(sz,iz);class M8{constructor(){this.data=null,this.app=null,this.inited=!1,this.currentFrame=-1,this.frameTextures=[],this.frameSprites=[],this.currentSpriteRef1=null,this.currentSpriteRef2=null,this.frameContainer1=null,this.frameContainer2=null,this.graphics1=null,this.graphics2=null,this.id=Math.floor(Math.random()*1e3),console.log("CONSTRUCTED",this.id),this.app=new GT}async init(e,r){if(this.inited===!0)throw Error(`Trying to re-initialize a PixiPreview (inited=true): ${this.id}`);if(this.app===null)throw Error(`Trying to initialize deleted PixiPreview (app=null): ${this.id}`);await this.app.init({background:"0xfff",resizeTo:e.current||void 0}),this.inited=!0,e.current.appendChild(this.app.canvas),this.data=r,this.currentFrame=0;for(let n=0;n<r.n_frames;n++){const s=await La.load(r.frames[n].static_url_cam1);this.frameSprites[n]=new Jo(s);const i=await La.load(r.frames[n].static_url_cam2);this.frameSprites[n+r.n_frames]=new Jo(i)}this.frameContainer1=new br,this.frameContainer2=new br,this.graphics1=new Iu,this.graphics1.zIndex=1,this.graphics2=new Iu,this.graphics2.zIndex=1,this.currentSpriteRef1=this.frameSprites[0],this.frameContainer1.addChild(this.currentSpriteRef1),this.frameContainer1.addChild(this.graphics1),this.currentSpriteRef2=this.frameSprites[0+this.data.n_frames],this.frameContainer2.addChild(this.currentSpriteRef2),this.frameContainer2.addChild(this.graphics2),this.app.stage.addChild(this.frameContainer1),this.app.stage.addChild(this.frameContainer2)}async update(e){if(this.inited===!1)throw Error(`Trying to update a non-init'd a SlowResrouce (inited=false): ${this.id}`);if(this.app===null)throw Error(`Trying to update a destoryed SlowResrouce (app=null): ${this.id}`);this.currentFrame=e,this.frameContainer1.removeChild(this.currentSpriteRef1),this.frameContainer2.removeChild(this.currentSpriteRef2),this.currentSpriteRef1=this.frameSprites[e],this.currentSpriteRef2=this.frameSprites[e+this.data.n_frames],this.frameContainer1.addChild(this.currentSpriteRef1),this.frameContainer2.addChild(this.currentSpriteRef2),this.graphics1.clear(),this.graphics2.clear();for(let i=0;i<this.data.n_joints;i++){const o=this.data.frames[this.currentFrame].pts_cam1[i];this.graphics1.circle(o[0],o[1],5),this.graphics1.fill(16711935);const a=this.data.frames[this.currentFrame].pts_cam2[i];this.graphics2.circle(a[0],a[1],5),this.graphics2.fill(16711935)}const r=this.data.frame_height/this.app.screen.height,n=this.data.frame_width*2/this.app.screen.width,s=r>n?r:n;this.frameContainer1.updateTransform({scaleX:1/s,scaleY:1/s}),this.frameContainer2.updateTransform({scaleX:1/s,scaleY:1/s,x:this.app.screen.width/2})}destroy(){if(this.inited===!1)throw Error(`Trying to destroy a non-init'd a SlowResrouce (inited=false): ${this.id}`);if(this.app===null)throw Error(`Trying to destroy an already destoryed SlowResrouce (app=null): ${this.id}`);this.app.destroy({removeView:!0},{children:!0,texture:!0,context:!0,style:!0}),this.app=null}}const j8=({data:t})=>{const e=p.useRef(null),[r,n]=p.useState(0),s=p.useRef({}),i=iF(),o=oF(i,400),a=l=>{const c=t.frames.length;n(u=>(u+c+l)%c)};return p.useEffect(()=>{const l=new M8;let c=l.init(e,t);return c=c.then(()=>{s.current[l.id]=l}),c=c.then(()=>{l.update(0)}),()=>{c.then(()=>l.destroy()).then(()=>delete s.current[l.id])}},[]),p.useEffect(()=>{console.log("Updating previewInstances because frameIdx or window size changed");for(const[,l]of Object.entries(s.current))l.data!=null&&l.update(r)},[r,o]),f.jsxs("div",{className:"my-8",children:[f.jsxs("div",{className:"flex flex-row gap-4 my-2",children:[f.jsx(tr,{onClick:()=>a(-1),variant:"default",children:"Frame -"}),f.jsx(tr,{onClick:()=>a(1),variant:"default",children:"Frame +"})]}),f.jsxs("div",{children:["Frame: ",t.frames[r].absolute_frameno," (",r+1,"/",t.n_frames,")"]}),f.jsx("div",{ref:e,className:"border-2 h-[800px] border-red-300"})]})},N8=({...t})=>{const{data:e,isLoading:r,isError:n}=qL(t.predictionId,t.frames,t.camera1,t.camera2);return r?f.jsx("div",{children:"Loading..."}):n?f.jsx("div",{children:" Error fetching preview frames"}):f.jsx("div",{children:e?f.jsx(j8,{data:e}):f.jsx("div",{children:"No data"})})},I8=be.object({frames:be.string()}),O8=()=>{const{id:t}=Vf(),e=parseInt(t),[r,n]=p.useState(null),{data:s,isLoading:i,isError:o}=HL(e),a=ro({resolver:so(I8),defaultValues:{frames:""}});if(i)return f.jsx("div",{children:"Loading"});if(o)return f.jsx("div",{children:" error"});const l=async c=>{console.log("VALUES ARE ",c);let u=c.frames.split(",").map(d=>parseInt(d.trim()));n(u)};return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl mb-4",children:"Prediction Details"}),f.jsx("pre",{className:"p-2 bg-gray-100 rounded-md border overflow-clip text-wrap",children:JSON.stringify(s,null,2)}),f.jsx("div",{className:"my-4",children:f.jsx("div",{children:f.jsx(no,{...a,children:f.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-8",children:[f.jsx(Ke,{control:a.control,name:"frames",render:({field:c})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Frames to Preview"}),f.jsx(He,{children:f.jsx(Bt,{className:"max-w-[400px]",...c,placeholder:"E.g. 1,1000,2000"})}),f.jsx(et,{}),f.jsx(Ge,{})]})}),f.jsx(tr,{type:"submit",className:"my-4",children:"Preview Prediction"})]})})})}),r&&f.jsx(N8,{predictionId:e,frames:r,camera1:"Camera1",camera2:"Camera2"})]})};function D8(){return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Model Weights"}),f.jsxs(zi,{className:"mb-4",children:[f.jsx(Wo,{children:"Predictions from COM and DANNCE models. Click on name for more details."}),f.jsx(Ui,{children:f.jsxs(Wr,{children:[f.jsx(Ce,{className:"w-[20px]",children:"ID"}),f.jsx(Ce,{children:"Name"}),f.jsx(Ce,{children:"Mode"}),f.jsx(Ce,{children:"Status"}),f.jsx(Ce,{children:"Created At"}),f.jsx(Ce,{children:"Actions "})]})}),f.jsx(Vi,{children:f.jsx("div",{children:"TODO CREATE TABLE"})})]})]})}const L8=({textAreaRef:t,triggerAutoSize:e,maxHeight:r=Number.MAX_SAFE_INTEGER,minHeight:n=0})=>{const[s,i]=p.useState(!0);p.useEffect(()=>{if(t){s&&(t.style.minHeight=`${n+2}px`,r>n&&(t.style.maxHeight=`${r}px`),i(!1)),t.style.height=`${n+2}px`;const a=t.scrollHeight;a>r?t.style.height=`${r}px`:t.style.height=`${a+2}px`}},[t,e])},bR=p.forwardRef(({maxHeight:t=Number.MAX_SAFE_INTEGER,minHeight:e=52,className:r,onChange:n,value:s,...i},o)=>{const a=p.useRef(null),[l,c]=p.useState("");return L8({textAreaRef:a.current,triggerAutoSize:l,maxHeight:t,minHeight:e}),p.useImperativeHandle(o,()=>({textArea:a.current,focus:()=>{var u;return(u=a==null?void 0:a.current)==null?void 0:u.focus()},maxHeight:t,minHeight:e})),p.useEffect(()=>{c(s)},[i==null?void 0:i.defaultValue,s]),f.jsx("textarea",{...i,value:s,ref:a,className:Ne("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),onChange:u=>{c(u.target.value),n==null||n(u)}})});bR.displayName="AutosizeTextarea";const F8=t=>t.split(`
`).map(e=>e.trim()).filter(e=>e),$8=be.object({paths:be.string().min(1).max(3e3).transform(F8).pipe(be.array(be.string()).min(1,"Enter at least one path"))});function B8(){const t=ro({resolver:so($8),defaultValues:{paths:[]}}),e=sF(),r=eo(),n=async s=>{try{await e.mutateAsync(s),r(yt.videoFolders.path)}catch{t.setError("paths",{type:"string",message:"Unable to import video folders.  Perhaps a path is invalid or one of the folders has already been imported!"})}};return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Bulk Import Video Folders"}),f.jsx(no,{...t,children:f.jsxs("form",{onSubmit:t.handleSubmit(n),className:"space-y-8",children:[f.jsx(Ke,{control:t.control,name:"paths",render:({field:s})=>f.jsxs(Ve,{children:[f.jsx(We,{}),f.jsx(He,{children:f.jsx(bR,{...s})}),f.jsx(et,{children:"Enter one path for a video folder on each line"}),f.jsx(Ge,{})]})}),f.jsx(tr,{type:"submit",children:"Import All"})]})})]})}const z8=be.object({name:be.string().min(1).max(1e3),prediction_name:be.string().min(1).max(1e3),video_folder_ids:be.array(be.any()).length(1,"Must select exactly one data folder"),weights_id:be.coerce.number().min(0,"Must select weights"),config:be.string(),runtime_id:be.coerce.number().min(0,"Must select a runtime")}),U8=()=>{const t=ro({resolver:so(z8),defaultValues:{name:"",prediction_name:"",video_folder_ids:[],weights_id:-1,config:"",runtime_id:-1}}),e=eo(),{data:r,isLoading:n}=Ku(),{data:s,isLoading:i}=qu(),{data:o,isLoading:a}=UE(),l=nF(),c=async h=>{console.log("DANNCE Predict submission. VALUES BEFORE TRANSFORM=",h);const m={name:h.name,prediction_name:h.name,weights_id:h.weights_id,video_folder_id:h.video_folder_ids[0],runtime_id:h.runtime_id,config:h.config.length==0?"{}":h.config};console.log("DANNCE Pred. sub. val post transform: ",m);const y=await l.mutateAsync(m);console.log("RETURNED DATA",y),e(yt.monitorJobs.path)};if(n||i||a)return f.jsx("div",{children:"Data still loading..."});const u=s.map(h=>({id:h.id,name:h.name,path:h.path})),d=o.filter(h=>h.mode=="DANNCE").filter(h=>h.status=="COMPLETED").map(h=>({id:h.id,name:h.name}));return f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Predict DANNCE Data"}),f.jsx(no,{...t,children:f.jsxs("form",{onSubmit:t.handleSubmit(c),className:"space-y-8",children:[f.jsx(Ke,{control:t.control,name:"name",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Inference Job Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"E.g. Predict DANNCE Rat",...h})}),f.jsx(et,{children:"This name will help you identify the job"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"prediction_name",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Prediction Data Name"}),f.jsx(He,{children:f.jsx(Bt,{placeholder:"predict01",...h})}),f.jsx(et,{children:"This name will help you identify the prediction data for this animal."}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"weights_id",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Select Trained DANNCE Model (Weights)"}),f.jsx(He,{children:f.jsx(Zk,{options:d,mode:"DANNCE",...h})}),f.jsx(et,{}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"video_folder_ids",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Select One Data Folder for DANNCE Inference"}),f.jsx(He,{children:f.jsx(pp,{options:u,multiSelect:!1,...h})}),f.jsx(et,{children:"Each folder will use the most recent DANNCE label files by default. Click on the folder name to get more info in a new tab."}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"config",render:({field:h})=>f.jsxs(Ve,{children:[f.jsx(We,{children:"Additional config options (JSON)"}),f.jsx(He,{children:f.jsx(nd,{placeholder:`e.g. {
      "max_num_samples": 250
    }`,className:"min-h-[130px]",...h})}),f.jsx(et,{children:"Optional JSON arguments for the prediction job. Must be a properly formatted JSON string (or emtpy)"}),f.jsx(Ge,{})]})}),f.jsx(Ke,{control:t.control,name:"runtime_id",render:({field:h})=>{var y;const m=r;return f.jsxs(Ve,{children:[f.jsx(We,{children:"Runtime Configuration"}),f.jsxs(hp,{onValueChange:h.onChange,defaultValue:"",children:[f.jsx(He,{children:f.jsx(ed,{children:f.jsx(fp,{placeholder:"Select ",children:m?(y=m.find(g=>g.id==h.value))==null?void 0:y.name:null})})}),f.jsx(td,{children:m.map(g=>f.jsx(rd,{value:g.id,children:g.name},g.id))})]}),f.jsx(et,{children:"Select a SLURM runtime defined on the Runtimes page"}),f.jsx(Ge,{})]})}}),f.jsx(tr,{type:"submit",children:"Submit"})]})})]})},yt={root:{path:"/",element:f.jsx(kO,{}),title:"Home"},makeVideoFolder:{path:"/make-video-folder",element:f.jsx(D$,{}),title:"Make Video Folder"},monitorJobs:{path:"/jobs",element:f.jsx(aF,{}),title:"Monitor Jobs"},runtimes:{path:"/runtimes",element:f.jsx(L$,{}),title:"Runtimes"},makeRuntime:{path:"/make-runtime",element:f.jsx(I$,{}),title:"Create Runtime"},videoFolders:{path:"/video-folders",element:f.jsx(F$,{}),title:"Video Folders"},models:{path:"/weights",element:f.jsx(D8,{}),title:"Trained Weights"},videoFolderDetails:{path:"/video-folder/:id",element:f.jsx(H$,{}),title:"Video Folder Details"},importVideoFolderPage:{path:"/video-folder/import",element:f.jsx(B8,{}),title:"Import Video Folders"},predictJobDetails:{path:"/predict-job/:id",element:f.jsx(y4,{}),title:"Predict Job Details"},trainJobDetails:{path:"/train-job/:id",element:f.jsx(v4,{}),title:"Train Job Details"},comTrainPage:{path:"/com-train",element:f.jsx(H3,{}),title:"Train COM Model"},comPredictPage:{path:"/com-predict",element:f.jsx(ez,{}),title:"Predict COM Model"},dannceTrainPage:{path:"/dannce-train",element:f.jsx(Y3,{}),title:"Train DANNCE Model"},danncePredictPage:{path:"/dannce-predict",element:f.jsx(U8,{}),title:"Predict DANNCE Model"},predictionsPage:{path:"/predictions",element:f.jsx(tz,{}),title:"Predictions"},predictionDetailsPage:{path:"/predictions/:id",element:f.jsx(O8,{}),title:"Prediction Details"}},c0=bN([{element:f.jsx(UI,{}),children:[{path:"/abc",element:f.jsx("div",{children:"ABC ROUTE"})},...Object.values(yt).map(t=>({path:t.path,element:t.element}))]}],{});console.log("IMPORTED BASENAME","./");console.log("ROUTER BASENAME",c0.basename);const V8=[yt.runtimes,yt.videoFolders,yt.monitorJobs,yt.predictionsPage],W8=[yt.comTrainPage,yt.comPredictPage,yt.dannceTrainPage,yt.danncePredictPage,yt.monitorJobs],H8=new EI({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});window.remix_router=c0;CC(document.getElementById("root")).render(f.jsxs(p.StrictMode,{children:[f.jsx(uI,{duration:5e3}),f.jsx(RI,{client:H8,children:f.jsx(RN,{router:c0})})]}));export{ht as $,UT as A,Ur as B,br as C,zt as D,we as E,lT as F,xp as G,xs as H,d_ as I,Jo as J,dU as K,wU as L,ot as M,er as N,Jt as O,vr as P,FU as Q,Vy as R,sV as S,ti as T,$y as U,f_ as V,Wz as W,Om as X,Gt as Y,uT as Z,VT as _,nt as a,mt as a0,VU as a1,uV as a2,TV as a3,MV as a4,DV as a5,FV as a6,$V as a7,kl as a8,Nu as a9,T6 as aa,iR as ab,S_ as ac,b_ as ad,gz as ae,X_ as af,O6 as ag,Iu as ah,$t as ai,vz as aj,H_ as ak,ev as al,G_ as am,aR as an,Kd as b,Jn as c,Mu as d,jr as e,__ as f,tV as g,bh as h,Zx as i,$T as j,bT as k,OT as l,W_ as m,Jb as n,kV as o,RV as p,IV as q,Rz as r,KT as s,LV as t,Qx as u,MT as v,Yt as w,yz as x,zV as y,Fs as z};
//# sourceMappingURL=index-BZlx8PZ9.js.map
